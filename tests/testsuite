#! /bin/sh
# Generated from tests/testsuite.at by GNU Autoconf 2.67.
#
# Copyright (C) 2009, 2010 Free Software Foundation, Inc.
#
# This test suite is free software; the Free Software Foundation gives
# unlimited permission to copy, distribute and modify it.
#
# Copyright (c) 2009, 2010 Nicira Networks.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at:
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi


as_nl='
'
export as_nl
# Printing a long string crashes Solaris 7 /usr/bin/printf.
as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
# Prefer a ksh shell builtin over an external printf program on Solaris,
# but without wasting forks for bash or zsh.
if test -z "$BASH_VERSION$ZSH_VERSION" \
    && (test "X`print -r -- $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='print -r --'
  as_echo_n='print -rn --'
elif (test "X`printf %s $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='printf %s\n'
  as_echo_n='printf %s'
else
  if test "X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`" = "X-n $as_echo"; then
    as_echo_body='eval /usr/ucb/echo -n "$1$as_nl"'
    as_echo_n='/usr/ucb/echo -n'
  else
    as_echo_body='eval expr "X$1" : "X\\(.*\\)"'
    as_echo_n_body='eval
      arg=$1;
      case $arg in #(
      *"$as_nl"*)
	expr "X$arg" : "X\\(.*\\)$as_nl";
	arg=`expr "X$arg" : ".*$as_nl\\(.*\\)"`;;
      esac;
      expr "X$arg" : "X\\(.*\\)" | tr -d "$as_nl"
    '
    export as_echo_n_body
    as_echo_n='sh -c $as_echo_n_body as_echo'
  fi
  export as_echo_body
  as_echo='sh -c $as_echo_body as_echo'
fi

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# IFS
# We need space, tab and new line, in precisely that order.  Quoting is
# there to prevent editors from complaining about space-tab.
# (If _AS_PATH_WALK were called with IFS unset, it would disable word
# splitting by setting IFS to empty value.)
IFS=" ""	$as_nl"

# Find who we are.  Look in the path if we contain no directory separator.
case $0 in #((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  $as_echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi

# Unset variables that we do not need and which cause bugs (e.g. in
# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the "|| exit 1"
# suppresses any "Segmentation fault" message there.  '((' could
# trigger a bug in pdksh 5.2.14.
for as_var in BASH_ENV ENV MAIL MAILPATH
do eval test x\${$as_var+set} = xset \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# CDPATH.
(unset CDPATH) >/dev/null 2>&1 && unset CDPATH

if test "x$CONFIG_SHELL" = x; then
  as_bourne_compatible="if test -n \"\${ZSH_VERSION+set}\" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on \${1+\"\$@\"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '\${1+\"\$@\"}'='\"\$@\"'
  setopt NO_GLOB_SUBST
else
  case \`(set -o) 2>/dev/null\` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi
"
  as_required="as_fn_return () { (exit \$1); }
as_fn_success () { as_fn_return 0; }
as_fn_failure () { as_fn_return 1; }
as_fn_ret_success () { return 0; }
as_fn_ret_failure () { return 1; }

exitcode=0
as_fn_success || { exitcode=1; echo as_fn_success failed.; }
as_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }
as_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }
as_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }
if ( set x; as_fn_ret_success y && test x = \"\$1\" ); then :

else
  exitcode=1; echo positional parameters were not saved.
fi
test x\$exitcode = x0 || exit 1"
  as_suggested="  as_lineno_1=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_1a=\$LINENO
  as_lineno_2=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_2a=\$LINENO
  eval 'test \"x\$as_lineno_1'\$as_run'\" != \"x\$as_lineno_2'\$as_run'\" &&
  test \"x\`expr \$as_lineno_1'\$as_run' + 1\`\" = \"x\$as_lineno_2'\$as_run'\"' || exit 1
test \$(( 1 + 1 )) = 2 || exit 1"
  if (eval "$as_required") 2>/dev/null; then :
  as_have_required=yes
else
  as_have_required=no
fi
  if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null; then :

else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
as_found=false
for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  as_found=:
  case $as_dir in #(
	 /*)
	   for as_base in sh bash ksh sh5; do
	     # Try only shells that exist, to save several forks.
	     as_shell=$as_dir/$as_base
	     if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
		    { $as_echo "$as_bourne_compatible""$as_required" | as_run=a "$as_shell"; } 2>/dev/null; then :
  CONFIG_SHELL=$as_shell as_have_required=yes
		   if { $as_echo "$as_bourne_compatible""$as_suggested" | as_run=a "$as_shell"; } 2>/dev/null; then :
  break 2
fi
fi
	   done;;
       esac
  as_found=false
done
$as_found || { if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
	      { $as_echo "$as_bourne_compatible""$as_required" | as_run=a "$SHELL"; } 2>/dev/null; then :
  CONFIG_SHELL=$SHELL as_have_required=yes
fi; }
IFS=$as_save_IFS


      if test "x$CONFIG_SHELL" != x; then :
  # We cannot yet assume a decent shell, so we have to provide a
	# neutralization value for shells without unset; and this also
	# works around shells that cannot unset nonexistent variables.
	BASH_ENV=/dev/null
	ENV=/dev/null
	(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
	export CONFIG_SHELL
	exec "$CONFIG_SHELL" "$as_myself" ${1+"$@"}
fi

    if test x$as_have_required = xno; then :
  $as_echo "$0: This script requires a shell more modern than all"
  $as_echo "$0: the shells that I found on your system."
  if test x${ZSH_VERSION+set} = xset ; then
    $as_echo "$0: In particular, zsh $ZSH_VERSION has bugs and should"
    $as_echo "$0: be upgraded to zsh 4.3.4 or later."
  else
    $as_echo "$0: Please tell bug-autoconf@gnu.org about your system,
$0: including any error possibly output before this
$0: message. Then install a modern shell, or manually run
$0: the script under such a shell if you do have one."
  fi
  exit 1
fi
fi
fi
SHELL=${CONFIG_SHELL-/bin/sh}
export SHELL
# Unset more variables known to interfere with behavior of common tools.
CLICOLOR_FORCE= GREP_OPTIONS=
unset CLICOLOR_FORCE GREP_OPTIONS

## --------------------- ##
## M4sh Shell Functions. ##
## --------------------- ##
# as_fn_unset VAR
# ---------------
# Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset

# as_fn_set_status STATUS
# -----------------------
# Set $? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} # as_fn_set_status

# as_fn_exit STATUS
# -----------------
# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} # as_fn_exit

# as_fn_mkdir_p
# -------------
# Create "$as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`$as_echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"


} # as_fn_mkdir_p
# as_fn_append VAR VALUE
# ----------------------
# Append the text in VALUE to the end of the definition contained in VAR. Take
# advantage of any shell optimizations that allow amortized linear growth over
# repeated appends, instead of the typical quadratic growth present in naive
# implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null; then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

# as_fn_arith ARG...
# ------------------
# Perform arithmetic evaluation on the ARGs, and store the result in the
# global $as_val. Take advantage of shells that can avoid forks. The arguments
# must be portable across $(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null; then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else
  as_fn_arith ()
  {
    as_val=`expr "$@" || test $? -eq 1`
  }
fi # as_fn_arith


# as_fn_error STATUS ERROR [LINENO LOG_FD]
# ----------------------------------------
# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
# script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  $as_echo "$as_me: error: $2" >&2
  as_fn_exit $as_status
} # as_fn_error

if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits


  as_lineno_1=$LINENO as_lineno_1a=$LINENO
  as_lineno_2=$LINENO as_lineno_2a=$LINENO
  eval 'test "x$as_lineno_1'$as_run'" != "x$as_lineno_2'$as_run'" &&
  test "x`expr $as_lineno_1'$as_run' + 1`" = "x$as_lineno_2'$as_run'"' || {
  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)
  sed -n '
    p
    /[$]LINENO/=
  ' <$as_myself |
    sed '
      s/[$]LINENO.*/&-/
      t lineno
      b
      :lineno
      N
      :loop
      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
      t loop
      s/-\n.*//
    ' >$as_me.lineno &&
  chmod +x "$as_me.lineno" ||
    { $as_echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2; as_fn_exit 1; }

  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensitive to this).
  . "./$as_me.lineno"
  # Exit status is that of the last command.
  exit
}

ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in #(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
    as_ln_s='ln -s'
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -p'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -p'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -p'
  fi
else
  as_ln_s='cp -p'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null

if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

if test -x / >/dev/null 2>&1; then
  as_test_x='test -x'
else
  if ls -dL / >/dev/null 2>&1; then
    as_ls_L_option=L
  else
    as_ls_L_option=
  fi
  as_test_x='
    eval sh -c '\''
      if test -d "$1"; then
	test -d "$1/.";
      else
	case $1 in #(
	-*)set "./$1";;
	esac;
	case `ls -ld'$as_ls_L_option' "$1" 2>/dev/null` in #((
	???[sx]*):;;*)false;;esac;fi
    '\'' sh
  '
fi
as_executable_p=$as_test_x

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"





SHELL=${CONFIG_SHELL-/bin/sh}

# How were we run?
at_cli_args="$@"


# Not all shells have the 'times' builtin; the subshell is needed to make
# sure we discard the 'times: not found' message from the shell.
at_times_p=false
(times) >/dev/null 2>&1 && at_times_p=:

# CLI Arguments to pass to the debugging scripts.
at_debug_args=
# -e sets to true
at_errexit_p=false
# Shall we be verbose?  ':' means no, empty means yes.
at_verbose=:
at_quiet=
# Running several jobs in parallel, 0 means as many as test groups.
at_jobs=1
at_traceon=:
at_trace_echo=:
at_check_filter_trace=:

# Shall we keep the debug scripts?  Must be `:' when the suite is
# run by a debug script, so that the script doesn't remove itself.
at_debug_p=false
# Display help message?
at_help_p=false
# Display the version message?
at_version_p=false
# List test groups?
at_list_p=false
# --clean
at_clean=false
# Test groups to run
at_groups=
# Whether to rerun failed tests.
at_recheck=
# Whether a write failure occurred
at_write_fail=0

# The directory we run the suite in.  Default to . if no -C option.
at_dir=`pwd`
# An absolute reference to this testsuite script.
case $as_myself in
  [\\/]* | ?:[\\/]* ) at_myself=$as_myself ;;
  * ) at_myself=$at_dir/$as_myself ;;
esac
# Whether -C is in effect.
at_change_dir=false

# Whether to enable colored test results.
at_color=no
# List of the tested programs.
at_tested='ovs-vswitchd
ovs-vsctl
perl'
# List of the all the test groups.
at_groups_all=' 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552 553 554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623 624 625 626 627 628 629 630 631 632 633 634 635 636 637 638 639 640 641 642 643 644 645 646 647 648 649 650 651 652 653 654 655 656 657 658 659 660 661 662 663 664 665 666 667 668 669 670 671 672 673 674 675 676 677 678 679 680 681 682 683 684 685 686 687 688 689 690 691 692 693 694 695 696 697 698 699 700 701 702 703 704 705 706 707 708 709 710 711 712 713 714 715 716 717 718 719 720 721 722 723 724 725 726 727 728 729 730 731 732 733 734 735 736 737 738 739 740 741 742 743 744 745 746 747 748 749 750 751 752 753 754 755 756 757 758 759 760 761 762 763 764 765 766 767 768 769 770 771 772 773 774 775 776 777 778 779 780 781 782 783 784 785 786 787 788 789 790 791 792 793 794 795 796 797 798 799 800 801 802 803 804 805 806 807 808 809 810 811 812 813 814 815 816'
# As many question marks as there are digits in the last test group number.
# Used to normalize the test group numbers so that `ls' lists them in
# numerical order.
at_format='???'
# Description of all the test groups.
at_help_all="1;library.at:3;test flow extractor;;
2;library.at:9;test TCP/IP checksumming;;
3;library.at:13;test hash functions;;
4;library.at:17;test hash map;;
5;library.at:21;test linked lists;;
6;library.at:25;test SHA-1;;
7;library.at:29;test type properties;;
8;library.at:33;test strtok_r bug fix;;
9;library.at:37;test byte order conversion;byte order;
10;library.at:42;test random number generator;;
11;library.at:94;test unix socket -- short pathname;;
12;library.at:103;test unix socket -- long pathname;;
13;classifier.at:2;flow classifier - empty;;
14;classifier.at:2;flow classifier - destroy null;;
15;classifier.at:2;flow classifier - single rule;;
16;classifier.at:2;flow classifier - rule replacement;;
17;classifier.at:2;flow classifier - many rules in one list;;
18;classifier.at:2;flow classifier - many rules in one table;;
19;classifier.at:2;flow classifier - many rules in two tables;;
20;classifier.at:2;flow classifier - many rules in five tables;;
21;check-structs.at:10;check struct tail padding;;
22;check-structs.at:20;check struct internal alignment;;
23;check-structs.at:31;check struct declared size;;
24;daemon.at:3;daemon;;
25;daemon.at:22;daemon --monitor;;
26;daemon.at:66;daemon --detach;;
27;daemon.at:83;daemon --detach --monitor;;
28;daemon.at:133;daemon --detach startup errors;;
29;daemon.at:142;daemon --detach --monitor startup errors;;
30;daemon.at:151;daemon --detach closes standard fds;;
31;daemon.at:171;daemon --detach --monitor closes standard fds;;
32;daemon-py.at:3;daemon - Python;;
33;daemon-py.at:21;daemon --monitor - Python;;
34;daemon-py.at:64;daemon --monitor restart exit code - Python;;
35;daemon-py.at:107;daemon --detach - Python;;
36;daemon-py.at:123;daemon --detach --monitor - Python;;
37;daemon-py.at:172;daemon --detach startup errors - Python;;
38;daemon-py.at:181;daemon --detach --monitor startup errors - Python;;
39;daemon-py.at:190;daemon --detach closes standard fds - Python;;
40;daemon-py.at:210;daemon --detach --monitor closes standard fds;;
41;ovs-ofctl.at:3;ovs-ofctl parse-flows;;
42;ovs-ofctl.at:55;ovs-ofctl -F nxm parse-flows;;
43;ovs-ofctl.at:84;ovs-ofctl -F nxm -mmm parse-flows;;
44;ovs-ofctl.at:115;ovs-ofctl parse-nx-match;nx-match;
45;multipath.at:10;modulo_n multipath link selection;;
46;multipath.at:78;hash_threshold multipath link selection;;
47;multipath.at:146;hrw multipath link selection;;
48;multipath.at:214;iter_hash multipath link selection;;
49;vconn.at:20;unix vconn - refuse connection;;
50;vconn.at:20;unix vconn - accept then close;;
51;vconn.at:20;unix vconn - read hello;;
52;vconn.at:20;unix vconn - send plain hello;;
53;vconn.at:20;unix vconn - send long hello;;
54;vconn.at:20;unix vconn - send echo hello;;
55;vconn.at:20;unix vconn - send short hello;;
56;vconn.at:20;unix vconn - send invalid version hello;;
57;vconn.at:21;tcp vconn - refuse connection;;
58;vconn.at:21;tcp vconn - accept then close;;
59;vconn.at:21;tcp vconn - read hello;;
60;vconn.at:21;tcp vconn - send plain hello;;
61;vconn.at:21;tcp vconn - send long hello;;
62;vconn.at:21;tcp vconn - send echo hello;;
63;vconn.at:21;tcp vconn - send short hello;;
64;vconn.at:21;tcp vconn - send invalid version hello;;
65;vconn.at:22;ssl vconn - refuse connection;;
66;vconn.at:22;ssl vconn - accept then close;;
67;vconn.at:22;ssl vconn - read hello;;
68;vconn.at:22;ssl vconn - send plain hello;;
69;vconn.at:22;ssl vconn - send long hello;;
70;vconn.at:22;ssl vconn - send echo hello;;
71;vconn.at:22;ssl vconn - send short hello;;
72;vconn.at:22;ssl vconn - send invalid version hello;;
73;file_name.at:12;components of \"/usr/lib\" are \"/usr\", \"lib\";dir_name base_name;
74;file_name.at:13;components of \"/usr/\" are \"/\", \"usr\";dir_name base_name;
75;file_name.at:14;components of \"usr\" are \".\", \"usr\";dir_name base_name;
76;file_name.at:15;components of \"/\" are \"/\", \"/\";dir_name base_name;
77;file_name.at:16;components of \".\" are \".\", \".\";dir_name base_name;
78;file_name.at:17;components of \"..\" are \".\", \"..\";dir_name base_name;
79;file_name.at:18;components of \"//\" are \"//\", \"//\";dir_name base_name;
80;file_name.at:19;components of \"//foo\" are \"//\", \"foo\";dir_name base_name;
81;file_name.at:20;components of \"\" are \".\", \".\";dir_name base_name;
82;file_name.at:23;components of \"dir/file\" are \"dir\", \"file\";dir_name base_name;
83;file_name.at:24;components of \"dir/file/\" are \"dir\", \"file\";dir_name base_name;
84;file_name.at:25;components of \"dir/file//\" are \"dir\", \"file\";dir_name base_name;
85;file_name.at:26;components of \"///foo\" are \"/\", \"foo\";dir_name base_name;
86;aes128.at:10;wikipedia test vector 1;aes128;
87;aes128.at:16;wikipedia test vector 2;aes128;
88;aes128.at:22;NIST KAT ECBKeySbox128e vector 0;aes128;
89;aes128.at:28;NIST KAT ECBKeySbox128e vector 1;aes128;
90;aes128.at:34;NIST KAT ECBKeySbox128e vector 2;aes128;
91;aes128.at:40;NIST KAT ECBKeySbox128e vector 3;aes128;
92;aes128.at:46;NIST KAT ECBKeySbox128e vector 4;aes128;
93;aes128.at:52;NIST KAT ECBKeySbox128e vector 5;aes128;
94;aes128.at:58;NIST KAT ECBKeySbox128e vector 6;aes128;
95;aes128.at:64;NIST KAT ECBKeySbox128e vector 7;aes128;
96;aes128.at:70;NIST KAT ECBKeySbox128e vector 8;aes128;
97;aes128.at:76;NIST KAT ECBKeySbox128e vector 9;aes128;
98;aes128.at:82;NIST KAT ECBKeySbox128e vector 10;aes128;
99;aes128.at:88;NIST KAT ECBKeySbox128e vector 11;aes128;
100;aes128.at:94;NIST KAT ECBKeySbox128e vector 12;aes128;
101;aes128.at:100;NIST KAT ECBKeySbox128e vector 13;aes128;
102;aes128.at:106;NIST KAT ECBKeySbox128e vector 14;aes128;
103;aes128.at:112;NIST KAT ECBKeySbox128e vector 15;aes128;
104;aes128.at:118;NIST KAT ECBKeySbox128e vector 16;aes128;
105;aes128.at:124;NIST KAT ECBKeySbox128e vector 17;aes128;
106;aes128.at:130;NIST KAT ECBKeySbox128e vector 18;aes128;
107;aes128.at:136;NIST KAT ECBKeySbox128e vector 19;aes128;
108;aes128.at:142;NIST KAT ECBKeySbox128e vector 20;aes128;
109;uuid.at:17;UUID generation;uuid;
110;uuid.at:27;UUID parsing and serialization;uuid;
111;uuid.at:34;UUID generation, parsing, serialization;uuid;
112;json.at:53;empty array - C;json positive;
113;json.at:53;empty array - Python;json positive python;
114;json.at:54;single-element array - C;json positive;
115;json.at:54;single-element array - Python;json positive python;
116;json.at:55;2-element array - C;json positive;
117;json.at:55;2-element array - Python;json positive python;
118;json.at:56;many-element array - C;json positive;
119;json.at:56;many-element array - Python;json positive python;
120;json.at:59;missing comma - C;json negative;
121;json.at:59;missing comma - Python;json negative python;
122;json.at:61;trailing comma not allowed - C;json negative;
123;json.at:61;trailing comma not allowed - Python;json negative python;
124;json.at:63;doubled comma not allowed - C;json negative;
125;json.at:63;doubled comma not allowed - Python;json negative python;
126;json.at:68;empty string - C;json positive;
127;json.at:68;empty string - Python;json positive python;
128;json.at:69;1-character strings - C;json positive;
129;json.at:69;1-character strings - Python;json positive python;
130;json.at:72;escape sequences - C;json positive;
131;json.at:72;escape sequences - Python;json positive python;
132;json.at:75;Unicode escape sequences - C;json positive;
133;json.at:75;Unicode escape sequences - Python;json positive python;
134;json.at:78;surrogate pairs - C;json positive;
135;json.at:78;surrogate pairs - Python;json positive python;
136;json.at:81;a string by itself is not valid JSON - C;json negative;
137;json.at:81;a string by itself is not valid JSON - Python;json negative python;
138;json.at:83;end of line in quoted string - C;json negative;
139;json.at:83;end of line in quoted string - Python;json negative python;
140;json.at:87;formfeed in quoted string - C;json negative;
141;json.at:87;formfeed in quoted string - Python;json negative python;
142;json.at:90;bad escape in quoted string - C;json negative;
143;json.at:90;bad escape in quoted string - Python;json negative python;
144;json.at:93;\\u must be followed by 4 hex digits (1) - C;json negative;
145;json.at:93;\\u must be followed by 4 hex digits (1) - Python;json negative python;
146;json.at:96;\\u must be followed by 4 hex digits (2) - C;json negative;
147;json.at:96;\\u must be followed by 4 hex digits (2) - Python;json negative python;
148;json.at:99;isolated leading surrogate not allowed - C;json negative;
149;json.at:99;isolated leading surrogate not allowed - Python;json negative python;
150;json.at:102;surrogatess must paired properly - C;json negative;
151;json.at:102;surrogatess must paired properly - Python;json negative python;
152;json.at:105;null bytes not allowed - C;json negative;
153;json.at:105;null bytes not allowed - Python;json negative python;
154;json.at:109;end of input in quoted string - C;json negative;
155;json.at:116;end of input in quoted string - Python;json negative python;
156;json.at:127;empty object - C;json positive;
157;json.at:127;empty object - Python;json positive python;
158;json.at:128;simple object - C;json positive;
159;json.at:128;simple object - Python;json positive python;
160;json.at:131;bad value - C;json negative;
161;json.at:131;bad value - Python;json negative python;
162;json.at:133;missing colon - C;json negative;
163;json.at:133;missing colon - Python;json negative python;
164;json.at:135;missing comma - C;json negative;
165;json.at:135;missing comma - Python;json negative python;
166;json.at:137;trailing comma not allowed - C;json negative;
167;json.at:137;trailing comma not allowed - Python;json negative python;
168;json.at:140;doubled comma not allowed - C;json negative;
169;json.at:140;doubled comma not allowed - Python;json negative python;
170;json.at:143;names must be strings - C;json negative;
171;json.at:143;names must be strings - Python;json negative python;
172;json.at:149;null - C;json positive;
173;json.at:149;null - Python;json positive python;
174;json.at:150;false - C;json positive;
175;json.at:150;false - Python;json positive python;
176;json.at:151;true - C;json positive;
177;json.at:151;true - Python;json positive python;
178;json.at:152;a literal by itself is not valid JSON - C;json negative;
179;json.at:152;a literal by itself is not valid JSON - Python;json negative python;
180;json.at:154;nullify is invalid - C;json negative;
181;json.at:154;nullify is invalid - Python;json negative python;
182;json.at:156;nubs is invalid - C;json negative;
183;json.at:156;nubs is invalid - Python;json negative python;
184;json.at:158;xxx is invalid - C;json negative;
185;json.at:158;xxx is invalid - Python;json negative python;
186;json.at:163;integers expressed as reals - C;json positive;
187;json.at:163;integers expressed as reals - Python;json positive python;
188;json.at:173;large integers - C;json positive;
189;json.at:173;large integers - Python;json positive python;
190;json.at:177;large integers expressed as reals - C;json positive;
191;json.at:177;large integers expressed as reals - Python;json positive python;
192;json.at:185;large integers that overflow to reals - C;json positive;
193;json.at:185;large integers that overflow to reals - Python;json positive python;
194;json.at:190;negative zero - C;json positive;
195;json.at:190;negative zero - Python;json positive python;
196;json.at:195;reals - C;json positive;
197;json.at:195;reals - Python;json positive python;
198;json.at:199;scientific notation - C;json positive;
199;json.at:199;scientific notation - Python;json positive python;
200;json.at:206;+/- DBL_MAX - C;json positive;
201;json.at:206;+/- DBL_MAX - Python;json positive python;
202;json.at:211;negative reals - C;json positive;
203;json.at:211;negative reals - Python;json positive python;
204;json.at:215;negative scientific notation - C;json positive;
205;json.at:215;negative scientific notation - Python;json positive python;
206;json.at:219;1e-9999 underflows to 0 - C;json positive;
207;json.at:219;1e-9999 underflows to 0 - Python;json positive python;
208;json.at:223;a number by itself is not valid JSON - C;json negative;
209;json.at:223;a number by itself is not valid JSON - Python;json negative python;
210;json.at:225;leading zeros not allowed - C;json negative;
211;json.at:225;leading zeros not allowed - Python;json negative python;
212;json.at:229;1e9999 is too big - C;json negative;
213;json.at:229;1e9999 is too big - Python;json negative python;
214;json.at:233;exponent bigger than INT_MAX - C;json negative;
215;json.at:233;exponent bigger than INT_MAX - Python;json negative python;
216;json.at:237;decimal point must be followed by digit - C;json negative;
217;json.at:237;decimal point must be followed by digit - Python;json negative python;
218;json.at:241;exponent must contain at least one digit (1) - C;json negative;
219;json.at:241;exponent must contain at least one digit (1) - Python;json negative python;
220;json.at:245;exponent must contain at least one digit (2) - C;json negative;
221;json.at:245;exponent must contain at least one digit (2) - Python;json negative python;
222;json.at:249;exponent must contain at least one digit (3) - C;json negative;
223;json.at:249;exponent must contain at least one digit (3) - Python;json negative python;
224;json.at:256;RFC 4267 object example - C;json positive;
225;json.at:256;RFC 4267 object example - Python;json positive python;
226;json.at:272;RFC 4267 array example - C;json positive;
227;json.at:272;RFC 4267 array example - Python;json positive python;
228;json.at:299;trailing garbage - C;json negative;
229;json.at:299;trailing garbage - Python;json negative python;
230;json.at:301;formfeeds are not valid white space - C;json negative;
231;json.at:301;formfeeds are not valid white space - Python;json negative python;
232;json.at:303;';' is not a valid token - C;json negative;
233;json.at:303;';' is not a valid token - Python;json negative python;
234;json.at:305;arrays nesting too deep - C;json negative;
235;json.at:305;arrays nesting too deep - Python;json negative python;
236;json.at:309;objects nesting too deep - C;json negative;
237;json.at:309;objects nesting too deep - Python;json negative python;
238;json.at:314;input may not be empty;json negative;
239;json.at:322;multiple adjacent objects - C;json positive;
240;json.at:322;multiple adjacent objects - Python;json positive python;
241;json.at:327;multiple space-separated objects - C;json positive;
242;json.at:327;multiple space-separated objects - Python;json positive python;
243;json.at:332;multiple objects on separate lines - C;json positive;
244;json.at:332;multiple objects on separate lines - Python;json positive python;
245;json.at:339;multiple objects and arrays - C;json positive;
246;json.at:339;multiple objects and arrays - Python;json positive python;
247;json.at:345;garbage between multiple objects - C;json negative;
248;json.at:345;garbage between multiple objects - Python;json negative python;
249;json.at:349;garbage after multiple objects - C;json negative;
250;json.at:349;garbage after multiple objects - Python;json negative python;
251;jsonrpc.at:3;JSON-RPC request and successful reply;;
252;jsonrpc.at:14;JSON-RPC request and error reply;;
253;jsonrpc.at:25;JSON-RPC notification;;
254;jsonrpc-py.at:3;JSON-RPC request and successful reply - Python;;
255;jsonrpc-py.at:15;JSON-RPC request and error reply - Python;;
256;jsonrpc-py.at:27;JSON-RPC notification - Python;;
257;timeval.at:3;check that time advances;timeval;
258;timeval.at:8;check that time advances after daemonize();timeval;
259;lockfile.at:11;lock and unlock;lockfile;
260;lockfile.at:12;lock and unlock twice;lockfile;
261;lockfile.at:13;lock blocks same process;lockfile;
262;lockfile.at:14;lock blocks same process twice;lockfile;
263;lockfile.at:15;lock blocks other process;lockfile;
264;lockfile.at:16;lock twice blocks other process;lockfile;
265;lockfile.at:17;lock and unlock allows other process;lockfile;
266;lockfile.at:18;lock timeout gets the lock;lockfile;
267;lockfile.at:19;lock timeout runs out;lockfile;
268;lockfile.at:20;lock multiple;lockfile;
269;reconnect.at:26;nothing happens if not enabled - C;reconnect;
270;reconnect.at:26;nothing happens if not enabled - Python;reconnect;
271;reconnect.at:37;quick connect, idle disconnect - C;reconnect;
272;reconnect.at:37;quick connect, idle disconnect - Python;reconnect;
273;reconnect.at:92;slow connect, idle disconnect - C;reconnect;
274;reconnect.at:92;slow connect, idle disconnect - Python;reconnect;
275;reconnect.at:162;connect backs off - C;reconnect;
276;reconnect.at:162;connect backs off - Python;reconnect;
277;reconnect.at:361;connections with no data preserve backoff - C;reconnect;
278;reconnect.at:361;connections with no data preserve backoff - Python;reconnect;
279;reconnect.at:521;brief connection preserves backoff - C;reconnect;
280;reconnect.at:521;brief connection preserves backoff - Python;reconnect;
281;reconnect.at:650;brief connection with data preserves backoff - C;reconnect;
282;reconnect.at:650;brief connection with data preserves backoff - Python;reconnect;
283;reconnect.at:811;long connection resets backoff - C;reconnect;
284;reconnect.at:811;long connection resets backoff - Python;reconnect;
285;reconnect.at:972;connection attempt fails quickly - C;reconnect;
286;reconnect.at:972;connection attempt fails quickly - Python;reconnect;
287;reconnect.at:1027;max-tries of 1 honored - C;reconnect;
288;reconnect.at:1027;max-tries of 1 honored - Python;reconnect;
289;reconnect.at:1086;max-tries of 0 honored - C;reconnect;
290;reconnect.at:1086;max-tries of 0 honored - Python;reconnect;
291;reconnect.at:1102;passive mode - C;reconnect;
292;reconnect.at:1102;passive mode - Python;reconnect;
293;ofproto.at:20;ofproto - echo request;;
294;ofproto.at:26;ofproto - feature request, config request;;
295;ofproto.at:39;ofproto - mod-port;;
296;ofproto.at:62;ofproto - basic flow_mod commands;;
297;ovsdb-log.at:3;create empty, reread;ovsdb log;
298;ovsdb-log.at:18;write one, reread;ovsdb log;
299;ovsdb-log.at:35;check that create fails if file exists;ovsdb log;
300;ovsdb-log.at:55;write one, reread;ovsdb log;
301;ovsdb-log.at:76;write one, reread, append;ovsdb log;
302;ovsdb-log.at:106;write, reread one, overwrite;ovsdb log;
303;ovsdb-log.at:132;write, add corrupted data, read;ovsdb log;
304;ovsdb-log.at:154;write, add corrupted data, read, overwrite;ovsdb log;
305;ovsdb-log.at:186;write, corrupt some data, read, overwrite;ovsdb log;
306;ovsdb-log.at:219;write, truncate file, read, overwrite;ovsdb log;
307;ovsdb-log.at:252;write bad JSON, read, overwrite;ovsdb log;
308;ovsdb-types.at:3;integer - C;ovsdb positive;
309;ovsdb-types.at:3;integer - Python;ovsdb positive python;
310;ovsdb-types.at:5;real - C;ovsdb positive;
311;ovsdb-types.at:5;real - Python;ovsdb positive python;
312;ovsdb-types.at:7;boolean - C;ovsdb positive;
313;ovsdb-types.at:7;boolean - Python;ovsdb positive python;
314;ovsdb-types.at:9;string - C;ovsdb positive;
315;ovsdb-types.at:9;string - Python;ovsdb positive python;
316;ovsdb-types.at:11;uuid - C;ovsdb positive;
317;ovsdb-types.at:11;uuid - Python;ovsdb positive python;
318;ovsdb-types.at:13;void is not a valid atomic-type - C;ovsdb negative;
319;ovsdb-types.at:13;void is not a valid atomic-type - Python;ovsdb negative;
320;ovsdb-types.at:18;integer enum - C;ovsdb positive;
321;ovsdb-types.at:18;integer enum - Python;ovsdb positive python;
322;ovsdb-types.at:21;integer >= 5 - C;ovsdb positive;
323;ovsdb-types.at:21;integer >= 5 - Python;ovsdb positive python;
324;ovsdb-types.at:24;integer <= 7 - C;ovsdb positive;
325;ovsdb-types.at:24;integer <= 7 - Python;ovsdb positive python;
326;ovsdb-types.at:27;integer between -5 and 10 - C;ovsdb positive;
327;ovsdb-types.at:27;integer between -5 and 10 - Python;ovsdb positive python;
328;ovsdb-types.at:30;integer max may not be less than min - C;ovsdb negative;
329;ovsdb-types.at:30;integer max may not be less than min - Python;ovsdb negative;
330;ovsdb-types.at:34;real enum - C;ovsdb positive;
331;ovsdb-types.at:34;real enum - Python;ovsdb positive python;
332;ovsdb-types.at:37;real >= -1.5 - C;ovsdb positive;
333;ovsdb-types.at:37;real >= -1.5 - Python;ovsdb positive python;
334;ovsdb-types.at:40;real <= 1e5 - C;ovsdb positive;
335;ovsdb-types.at:40;real <= 1e5 - Python;ovsdb positive python;
336;ovsdb-types.at:43;real between -2.5 and 3.75 - C;ovsdb positive;
337;ovsdb-types.at:43;real between -2.5 and 3.75 - Python;ovsdb positive python;
338;ovsdb-types.at:46;real max may not be less than min - C;ovsdb negative;
339;ovsdb-types.at:46;real max may not be less than min - Python;ovsdb negative;
340;ovsdb-types.at:50;boolean - C;ovsdb positive;
341;ovsdb-types.at:50;boolean - Python;ovsdb positive python;
342;ovsdb-types.at:52;boolean enum - C;ovsdb positive;
343;ovsdb-types.at:52;boolean enum - Python;ovsdb positive python;
344;ovsdb-types.at:56;string enum - C;ovsdb positive;
345;ovsdb-types.at:56;string enum - Python;ovsdb positive python;
346;ovsdb-types.at:59;string minLength - C;ovsdb positive;
347;ovsdb-types.at:59;string minLength - Python;ovsdb positive python;
348;ovsdb-types.at:62;string maxLength - C;ovsdb positive;
349;ovsdb-types.at:62;string maxLength - Python;ovsdb positive python;
350;ovsdb-types.at:65;string minLength and maxLength - C;ovsdb positive;
351;ovsdb-types.at:65;string minLength and maxLength - Python;ovsdb positive python;
352;ovsdb-types.at:68;maxLength must not be less than minLength - C;ovsdb negative;
353;ovsdb-types.at:68;maxLength must not be less than minLength - Python;ovsdb negative;
354;ovsdb-types.at:71;maxLength must not be negative - C;ovsdb negative;
355;ovsdb-types.at:71;maxLength must not be negative - Python;ovsdb negative;
356;ovsdb-types.at:75;uuid enum - C;ovsdb positive;
357;ovsdb-types.at:75;uuid enum - Python;ovsdb positive python;
358;ovsdb-types.at:78;uuid refTable - C;ovsdb positive;
359;ovsdb-types.at:78;uuid refTable - Python;ovsdb positive python;
360;ovsdb-types.at:81;uuid refTable must be valid id - C;ovsdb negative;
361;ovsdb-types.at:81;uuid refTable must be valid id - Python;ovsdb negative;
362;ovsdb-types.at:85;void is not a valid base-type - C;ovsdb negative;
363;ovsdb-types.at:85;void is not a valid base-type - Python;ovsdb negative;
364;ovsdb-types.at:87;\"type\" member must be present - C;ovsdb negative;
365;ovsdb-types.at:87;\"type\" member must be present - Python;ovsdb negative;
366;ovsdb-types.at:92;simple integer - C;ovsdb positive;
367;ovsdb-types.at:92;simple integer - Python;ovsdb positive python;
368;ovsdb-types.at:94;simple real - C;ovsdb positive;
369;ovsdb-types.at:94;simple real - Python;ovsdb positive python;
370;ovsdb-types.at:96;simple boolean - C;ovsdb positive;
371;ovsdb-types.at:96;simple boolean - Python;ovsdb positive python;
372;ovsdb-types.at:98;simple string - C;ovsdb positive;
373;ovsdb-types.at:98;simple string - Python;ovsdb positive python;
374;ovsdb-types.at:100;simple uuid - C;ovsdb positive;
375;ovsdb-types.at:100;simple uuid - Python;ovsdb positive python;
376;ovsdb-types.at:102;integer in object - C;ovsdb positive;
377;ovsdb-types.at:102;integer in object - Python;ovsdb positive python;
378;ovsdb-types.at:104;real in object with explicit min and max - C;ovsdb positive;
379;ovsdb-types.at:104;real in object with explicit min and max - Python;ovsdb positive python;
380;ovsdb-types.at:107;key type is required - C;ovsdb negative;
381;ovsdb-types.at:107;key type is required - Python;ovsdb negative;
382;ovsdb-types.at:109;void is not a valid type - C;ovsdb negative;
383;ovsdb-types.at:109;void is not a valid type - Python;ovsdb negative;
384;ovsdb-types.at:114;optional boolean - C;ovsdb positive set;
385;ovsdb-types.at:114;optional boolean - Python;ovsdb positive python set;
386;ovsdb-types.at:118;set of 1 to 3 uuids - C;ovsdb positive;
387;ovsdb-types.at:118;set of 1 to 3 uuids - Python;ovsdb positive python;
388;ovsdb-types.at:121;set of 0 to 3 strings - C;ovsdb positive;
389;ovsdb-types.at:121;set of 0 to 3 strings - Python;ovsdb positive python;
390;ovsdb-types.at:124;set of 0 or more integers - C;ovsdb positive;
391;ovsdb-types.at:124;set of 0 or more integers - Python;ovsdb positive python;
392;ovsdb-types.at:127;set of 1 or more reals - C;ovsdb positive;
393;ovsdb-types.at:127;set of 1 or more reals - Python;ovsdb positive python;
394;ovsdb-types.at:131;set max cannot be less than min - C;ovsdb negative;
395;ovsdb-types.at:131;set max cannot be less than min - Python;ovsdb negative;
396;ovsdb-types.at:134;set max cannot be negative - C;ovsdb negative;
397;ovsdb-types.at:134;set max cannot be negative - Python;ovsdb negative;
398;ovsdb-types.at:137;set min cannot be negative - C;ovsdb negative;
399;ovsdb-types.at:137;set min cannot be negative - Python;ovsdb negative;
400;ovsdb-types.at:140;set min cannot be greater than one - C;ovsdb negative;
401;ovsdb-types.at:140;set min cannot be greater than one - Python;ovsdb negative;
402;ovsdb-types.at:146;map of 1 integer to boolean - C;ovsdb positive;
403;ovsdb-types.at:146;map of 1 integer to boolean - Python;ovsdb positive python;
404;ovsdb-types.at:149;map of 1 boolean to integer, explicit min and max - C;ovsdb positive;
405;ovsdb-types.at:149;map of 1 boolean to integer, explicit min and max - Python;ovsdb positive python;
406;ovsdb-types.at:152;map of 1 to 5 uuid to real - C;ovsdb positive;
407;ovsdb-types.at:152;map of 1 to 5 uuid to real - Python;ovsdb positive python;
408;ovsdb-types.at:155;map of 0 to 10 string to uuid - C;ovsdb positive;
409;ovsdb-types.at:155;map of 0 to 10 string to uuid - Python;ovsdb positive python;
410;ovsdb-types.at:158;map of 1 to 20 real to string - C;ovsdb positive;
411;ovsdb-types.at:158;map of 1 to 20 real to string - Python;ovsdb positive python;
412;ovsdb-types.at:161;map of 0 or more string to real - C;ovsdb positive;
413;ovsdb-types.at:161;map of 0 or more string to real - Python;ovsdb positive python;
414;ovsdb-types.at:165;map key type is required - C;ovsdb negative;
415;ovsdb-types.at:165;map key type is required - Python;ovsdb negative;
416;ovsdb-data.at:3;default atoms - C;ovsdb positive;
417;ovsdb-data.at:3;default atoms - Python;ovsdb positive python;
418;ovsdb-data.at:11;default data - C;ovsdb positive;
419;ovsdb-data.at:11;default data - Python;ovsdb positive python;
420;ovsdb-data.at:76;integer atom from JSON - C;ovsdb positive;
421;ovsdb-data.at:76;integer atom from JSON - Python;ovsdb positive python;
422;ovsdb-data.at:89;integer atom from string;ovsdb positive;
423;ovsdb-data.at:102;real atom from JSON - C;ovsdb positive;
424;ovsdb-data.at:102;real atom from JSON - Python;ovsdb positive python;
425;ovsdb-data.at:119;real atom from string;ovsdb positive;
426;ovsdb-data.at:136;boolean atom from JSON - C;ovsdb positive;
427;ovsdb-data.at:136;boolean atom from JSON - Python;ovsdb positive python;
428;ovsdb-data.at:141;boolean atom from string;ovsdb positive;
429;ovsdb-data.at:146;string atom from JSON - C;ovsdb positive;
430;ovsdb-data.at:146;string atom from JSON - Python;ovsdb positive python;
431;ovsdb-data.at:152;string atom from string;ovsdb positive;
432;ovsdb-data.at:167;uuid atom from JSON - C;ovsdb positive;
433;ovsdb-data.at:167;uuid atom from JSON - Python;ovsdb positive python;
434;ovsdb-data.at:171;uuid atom from string;ovsdb positive;
435;ovsdb-data.at:175;integer atom sorting - C;ovsdb positive;
436;ovsdb-data.at:175;integer atom sorting - Python;ovsdb positive python;
437;ovsdb-data.at:179;real atom sorting - C;ovsdb positive;
438;ovsdb-data.at:179;real atom sorting - Python;ovsdb positive python;
439;ovsdb-data.at:183;boolean atom sorting - C;ovsdb positive;
440;ovsdb-data.at:183;boolean atom sorting - Python;ovsdb positive python;
441;ovsdb-data.at:187;string atom sorting - C;ovsdb positive;
442;ovsdb-data.at:187;string atom sorting - Python;ovsdb positive python;
443;ovsdb-data.at:191;uuid atom sorting - C;ovsdb positive;
444;ovsdb-data.at:191;uuid atom sorting - Python;ovsdb positive python;
445;ovsdb-data.at:228;real not acceptable integer JSON atom - C;ovsdb positive;
446;ovsdb-data.at:228;real not acceptable integer JSON atom - Python;ovsdb positive python;
447;ovsdb-data.at:234;no invalid UTF-8 sequences in strings - C;ovsdb positive;
448;ovsdb-data.at:234;no invalid UTF-8 sequences in strings - Python;ovsdb positive python;
449;ovsdb-data.at:243;real not acceptable integer string atom;ovsdb negative;
450;ovsdb-data.at:247;string \"true\" not acceptable boolean JSON atom - C;ovsdb positive;
451;ovsdb-data.at:247;string \"true\" not acceptable boolean JSON atom - Python;ovsdb positive python;
452;ovsdb-data.at:251;string \"true\" not acceptable boolean string atom;ovsdb negative;
453;ovsdb-data.at:255;integer not acceptable string JSON atom - C;ovsdb positive;
454;ovsdb-data.at:255;integer not acceptable string JSON atom - Python;ovsdb positive python;
455;ovsdb-data.at:259;uuid atom must be expressed as JSON array - C;ovsdb positive;
456;ovsdb-data.at:259;uuid atom must be expressed as JSON array - Python;ovsdb positive python;
457;ovsdb-data.at:263;empty string atom must be quoted;ovsdb negative;
458;ovsdb-data.at:267;quotes must be balanced;ovsdb negative;
459;ovsdb-data.at:271;uuids must be valid;ovsdb negative;
460;ovsdb-data.at:277;integer atom enum - C;ovsdb positive;
461;ovsdb-data.at:277;integer atom enum - Python;ovsdb positive python;
462;ovsdb-data.at:300;real atom enum - C;ovsdb positive;
463;ovsdb-data.at:300;real atom enum - Python;ovsdb positive python;
464;ovsdb-data.at:317;boolean atom enum - C;ovsdb positive;
465;ovsdb-data.at:317;boolean atom enum - Python;ovsdb positive python;
466;ovsdb-data.at:324;string atom enum - C;ovsdb positive;
467;ovsdb-data.at:324;string atom enum - Python;ovsdb positive python;
468;ovsdb-data.at:339;uuid atom enum - C;ovsdb positive;
469;ovsdb-data.at:339;uuid atom enum - Python;ovsdb positive python;
470;ovsdb-data.at:350;integers >= 5 - C;ovsdb positive;
471;ovsdb-data.at:350;integers >= 5 - Python;ovsdb positive python;
472;ovsdb-data.at:363;integers <= -1 - C;ovsdb positive;
473;ovsdb-data.at:363;integers <= -1 - Python;ovsdb positive python;
474;ovsdb-data.at:374;integers in range -10 to 10 - C;ovsdb positive;
475;ovsdb-data.at:374;integers in range -10 to 10 - Python;ovsdb positive python;
476;ovsdb-data.at:395;reals >= 5 - C;ovsdb positive;
477;ovsdb-data.at:395;reals >= 5 - Python;ovsdb positive python;
478;ovsdb-data.at:408;reals <= -1 - C;ovsdb positive;
479;ovsdb-data.at:408;reals <= -1 - Python;ovsdb positive python;
480;ovsdb-data.at:419;reals in range -10 to 10 - C;ovsdb positive;
481;ovsdb-data.at:419;reals in range -10 to 10 - Python;ovsdb positive python;
482;ovsdb-data.at:440;strings at least 2 characters long - C;ovsdb positive;
483;ovsdb-data.at:440;strings at least 2 characters long - Python;ovsdb positive python;
484;ovsdb-data.at:454;strings no more than 2 characters long - C;ovsdb positive;
485;ovsdb-data.at:454;strings no more than 2 characters long - Python;ovsdb positive python;
486;ovsdb-data.at:469;integer JSON datum - C;ovsdb positive;
487;ovsdb-data.at:469;integer JSON datum - Python;ovsdb positive python;
488;ovsdb-data.at:475;integer string datum;ovsdb positive;
489;ovsdb-data.at:482;real JSON datum - C;ovsdb positive;
490;ovsdb-data.at:482;real JSON datum - Python;ovsdb positive python;
491;ovsdb-data.at:488;real string datum;ovsdb positive;
492;ovsdb-data.at:494;boolean JSON datum - C;ovsdb positive;
493;ovsdb-data.at:494;boolean JSON datum - Python;ovsdb positive python;
494;ovsdb-data.at:499;boolean string datum;ovsdb positive;
495;ovsdb-data.at:504;string JSON datum - C;ovsdb positive;
496;ovsdb-data.at:504;string JSON datum - Python;ovsdb positive python;
497;ovsdb-data.at:510;string string datum;ovsdb positive;
498;ovsdb-data.at:519;JSON optional boolean - C;ovsdb positive set;
499;ovsdb-data.at:519;JSON optional boolean - Python;ovsdb positive python set;
500;ovsdb-data.at:529;string optional boolean;ovsdb positive set;
501;ovsdb-data.at:539;JSON set of 0 or more integers - C;ovsdb positive;
502;ovsdb-data.at:539;JSON set of 0 or more integers - Python;ovsdb positive python;
503;ovsdb-data.at:556;string set of 0 or more integers;ovsdb positive;
504;ovsdb-data.at:571;JSON set of 1 to 3 uuids - C;ovsdb positive;
505;ovsdb-data.at:571;JSON set of 1 to 3 uuids - Python;ovsdb positive python;
506;ovsdb-data.at:582;string set of 1 to 3 uuids;ovsdb positive;
507;ovsdb-data.at:591;JSON set of 0 to 3 strings - C;ovsdb positive;
508;ovsdb-data.at:591;JSON set of 0 to 3 strings - Python;ovsdb positive python;
509;ovsdb-data.at:604;string set of 0 to 3 strings;ovsdb positive;
510;ovsdb-data.at:615;duplicate boolean not allowed in JSON set - C;ovsdb negative;
511;ovsdb-data.at:615;duplicate boolean not allowed in JSON set - Python;ovsdb negative;
512;ovsdb-data.at:619;duplicate boolean not allowed in string set;ovsdb negative;
513;ovsdb-data.at:623;duplicate integer not allowed in JSON set - C;ovsdb negative;
514;ovsdb-data.at:623;duplicate integer not allowed in JSON set - Python;ovsdb negative;
515;ovsdb-data.at:627;duplicate integer not allowed in string set;ovsdb negative;
516;ovsdb-data.at:631;duplicate real not allowed in JSON set - C;ovsdb negative;
517;ovsdb-data.at:631;duplicate real not allowed in JSON set - Python;ovsdb negative;
518;ovsdb-data.at:635;duplicate real not allowed in string set;ovsdb negative;
519;ovsdb-data.at:639;duplicate string not allowed in JSON set - C;ovsdb negative;
520;ovsdb-data.at:639;duplicate string not allowed in JSON set - Python;ovsdb negative;
521;ovsdb-data.at:643;duplicate string not allowed in string set;ovsdb negative;
522;ovsdb-data.at:647;duplicate uuid not allowed in JSON set - C;ovsdb negative;
523;ovsdb-data.at:647;duplicate uuid not allowed in JSON set - Python;ovsdb negative;
524;ovsdb-data.at:654;duplicate uuid not allowed in string set;ovsdb negative;
525;ovsdb-data.at:663;JSON map of 1 integer to boolean - C;ovsdb positive;
526;ovsdb-data.at:663;JSON map of 1 integer to boolean - Python;ovsdb positive python;
527;ovsdb-data.at:668;string map of 1 integer to boolean;ovsdb positive;
528;ovsdb-data.at:673;JSON map of at least 1 integer to boolean - C;ovsdb positive;
529;ovsdb-data.at:673;JSON map of at least 1 integer to boolean - Python;ovsdb positive python;
530;ovsdb-data.at:682;string map of at least 1 integer to boolean;ovsdb positive;
531;ovsdb-data.at:691;JSON map of 1 boolean to integer - C;ovsdb positive;
532;ovsdb-data.at:691;JSON map of 1 boolean to integer - Python;ovsdb positive python;
533;ovsdb-data.at:696;string map of 1 boolean to integer;ovsdb positive;
534;ovsdb-data.at:701;JSON map of 1 uuid to real - C;ovsdb positive;
535;ovsdb-data.at:701;JSON map of 1 uuid to real - Python;ovsdb positive python;
536;ovsdb-data.at:710;string map of 1 uuid to real;ovsdb positive;
537;ovsdb-data.at:719;JSON map of 10 string to string - C;ovsdb positive;
538;ovsdb-data.at:719;JSON map of 10 string to string - Python;ovsdb positive python;
539;ovsdb-data.at:733;string map of 10 string to string;ovsdb positive;
540;ovsdb-data.at:747;duplicate integer key not allowed in JSON map - C;ovsdb negative;
541;ovsdb-data.at:747;duplicate integer key not allowed in JSON map - Python;ovsdb negative;
542;ovsdb-data.at:752;duplicate integer key not allowed in string map;ovsdb negative;
543;ovsdb-column.at:3;ordinary column - C;ovsdb positive;
544;ovsdb-column.at:3;ordinary column - Python;ovsdb positive python;
545;ovsdb-column.at:7;immutable column - C;ovsdb positive;
546;ovsdb-column.at:7;immutable column - Python;ovsdb positive python;
547;ovsdb-column.at:11;ephemeral column - C;ovsdb positive;
548;ovsdb-column.at:11;ephemeral column - Python;ovsdb positive python;
549;ovsdb-table.at:3;table with one column - C;ovsdb positive;
550;ovsdb-table.at:3;table with one column - Python;ovsdb positive python;
551;ovsdb-table.at:7;immutable table with one column - C;ovsdb positive;
552;ovsdb-table.at:7;immutable table with one column - Python;ovsdb positive python;
553;ovsdb-table.at:13;table with maxRows of 2 - C;ovsdb positive;
554;ovsdb-table.at:13;table with maxRows of 2 - Python;ovsdb positive python;
555;ovsdb-table.at:18;column names may not begin with _ - C;ovsdb negative table;
556;ovsdb-table.at:18;column names may not begin with _ - Python;ovsdb negative table;
557;ovsdb-table.at:24;table must have at least one column (1) - C;ovsdb negative;
558;ovsdb-table.at:24;table must have at least one column (1) - Python;ovsdb negative;
559;ovsdb-table.at:28;table must have at least one column (2) - C;ovsdb negative;
560;ovsdb-table.at:28;table must have at least one column (2) - Python;ovsdb negative;
561;ovsdb-table.at:32;table maxRows must be positive - C;ovsdb negative;
562;ovsdb-table.at:32;table maxRows must be positive - Python;ovsdb negative;
563;ovsdb-row.at:5;row with one string column;ovsdb positive;
564;ovsdb-row.at:21;row with one integer column;ovsdb positive;
565;ovsdb-row.at:37;row with one real column;ovsdb positive;
566;ovsdb-row.at:53;row with one boolean column;ovsdb positive;
567;ovsdb-row.at:66;row with one uuid column;ovsdb positive;
568;ovsdb-row.at:79;row with set of 1 to 2 elements;ovsdb positive;
569;ovsdb-row.at:86;row with map of 1 to 2 elements;ovsdb positive;
570;ovsdb-row.at:93;row with several columns;ovsdb positive;
571;ovsdb-row.at:115;row hashing (scalars);ovsdb positive;
572;ovsdb-row.at:184;row hashing (sets);ovsdb positive;
573;ovsdb-row.at:237;row hashing (maps);ovsdb positive;
574;ovsdb-schema.at:3;schema with valid refTables - C;ovsdb positive;
575;ovsdb-schema.at:3;schema with valid refTables - Python;ovsdb positive python;
576;ovsdb-schema.at:29;schema without version number - C;ovsdb positive;
577;ovsdb-schema.at:29;schema without version number - Python;ovsdb positive python;
578;ovsdb-schema.at:39;schema with invalid refTables - C;ovsdb negative;
579;ovsdb-schema.at:39;schema with invalid refTables - Python;ovsdb negative;
580;ovsdb-schema.at:62;schema with invalid version number - C;ovsdb negative;
581;ovsdb-schema.at:62;schema with invalid version number - Python;ovsdb negative;
582;ovsdb-condition.at:3;null condition;ovsdb positive;
583;ovsdb-condition.at:9;conditions on scalars;ovsdb positive condition;
584;ovsdb-condition.at:75;disallowed conditions on scalars;ovsdb negative condition;
585;ovsdb-condition.at:112;conditions on sets;ovsdb positive condition;
586;ovsdb-condition.at:173;condition sorting;ovsdb positive;
587;ovsdb-condition.at:187;evaluating null condition;ovsdb positive;
588;ovsdb-condition.at:196;evaluating conditions on integers;ovsdb positive condition;
589;ovsdb-condition.at:219;evaluating conditions on reals;ovsdb positive condition;
590;ovsdb-condition.at:242;evaluating conditions on booleans;ovsdb positive condition;
591;ovsdb-condition.at:264;evaluating conditions on strings;ovsdb positive condition;
592;ovsdb-condition.at:287;evaluating conditions on UUIDs;ovsdb positive condition;
593;ovsdb-condition.at:310;evaluating conditions on sets;ovsdb positive condition;
594;ovsdb-condition.at:389;evaluating conditions on maps (1);ovsdb positive condition;
595;ovsdb-condition.at:471;evaluating conditions on maps (2);ovsdb positive condition;
596;ovsdb-mutation.at:3;null mutation;ovsdb positive;
597;ovsdb-mutation.at:9;mutations on scalars;ovsdb positive mutation;
598;ovsdb-mutation.at:37;disallowed mutations on scalars;ovsdb negative mutation;
599;ovsdb-mutation.at:102;mutations on sets;ovsdb positive mutation;
600;ovsdb-mutation.at:154;executing null mutation;ovsdb positive;
601;ovsdb-mutation.at:167;executing mutations on integers;ovsdb positive mutation;
602;ovsdb-mutation.at:204;integer overflow detection;ovsdb positive mutation;
603;ovsdb-mutation.at:285;executing mutations on integers with constraints;ovsdb positive mutation;
604;ovsdb-mutation.at:324;executing mutations on reals;ovsdb positive mutation;
605;ovsdb-mutation.at:355;real overflow detection;ovsdb positive mutation;
606;ovsdb-mutation.at:398;executing mutations on reals with constraints;ovsdb positive mutation;
607;ovsdb-mutation.at:431;executing mutations on integer sets;ovsdb positive mutation;
608;ovsdb-mutation.at:505;executing mutations on real sets;ovsdb positive mutation;
609;ovsdb-mutation.at:578;executing mutations on boolean sets;ovsdb positive mutation;
610;ovsdb-mutation.at:628;executing mutations on string sets;ovsdb positive mutation;
611;ovsdb-mutation.at:678;executing mutations on uuid sets;ovsdb positive mutation;
612;ovsdb-mutation.at:728;executing mutations on integer maps;ovsdb positive mutation;
613;ovsdb-query.at:3;queries on scalars;ovsdb positive query;
614;ovsdb-query.at:95;queries on sets;ovsdb positive query;
615;ovsdb-query.at:176;queries on maps (1);ovsdb positive query;
616;ovsdb-query.at:260;queries on maps (2);ovsdb positive query;
617;ovsdb-query.at:351;UUID-distinct queries on scalars;ovsdb positive query;
618;ovsdb-query.at:444;Boolean-distinct queries on scalars;ovsdb positive query;
619;ovsdb-query.at:537;parse colunn set containing bad name;ovsdb negative;
620;ovsdb-transaction.at:3;empty table, empty transaction;ovsdb positive;
621;ovsdb-transaction.at:17;nonempty table, empty transaction;ovsdb positive;
622;ovsdb-transaction.at:41;insert, commit;ovsdb positive transaction;
623;ovsdb-transaction.at:70;insert, abort;ovsdb positive transaction;
624;ovsdb-transaction.at:98;modify, commit;ovsdb positive transaction;
625;ovsdb-transaction.at:127;modify, abort;ovsdb positive transaction;
626;ovsdb-transaction.at:156;delete, commit;ovsdb positive transaction;
627;ovsdb-transaction.at:181;delete, abort;ovsdb positive transaction;
628;ovsdb-transaction.at:207;modify, delete, commit;ovsdb positive transaction;
629;ovsdb-transaction.at:234;modify, delete, abort;ovsdb positive transaction;
630;ovsdb-transaction.at:262;insert, delete, commit;ovsdb positive transaction;
631;ovsdb-transaction.at:291;insert, delete, abort;ovsdb positive transaction;
632;ovsdb-transaction.at:322;insert, modify, delete, commit;ovsdb positive transaction;
633;ovsdb-transaction.at:353;insert, modify, delete, abort;ovsdb positive transaction;
634;ovsdb-transaction.at:385;deletes are aborted cleanly;ovsdb positive transaction;
635;ovsdb-execution.at:731;insert default row, query table;ovsdb execute execution positive;
636;ovsdb-execution.at:731;insert row, query table;ovsdb execute execution positive;
637;ovsdb-execution.at:731;insert rows, query by value;ovsdb execute execution positive;
638;ovsdb-execution.at:731;insert rows, query by named-uuid;ovsdb execute execution positive;
639;ovsdb-execution.at:731;insert rows, update rows by value;ovsdb execute execution positive;
640;ovsdb-execution.at:731;insert rows, mutate rows;ovsdb execute execution positive;
641;ovsdb-execution.at:731;insert rows, delete by named-uuid;ovsdb execute execution positive;
642;ovsdb-execution.at:731;insert rows, delete rows by value;ovsdb execute execution positive;
643;ovsdb-execution.at:731;insert rows, delete by (non-matching) value;ovsdb execute execution positive;
644;ovsdb-execution.at:731;insert rows, delete all;ovsdb execute execution positive;
645;ovsdb-execution.at:731;insert row, query table, commit;ovsdb execute execution positive;
646;ovsdb-execution.at:731;insert row, query table, commit durably;ovsdb execute execution positive;
647;ovsdb-execution.at:731;equality wait with correct rows;ovsdb execute execution positive;
648;ovsdb-execution.at:731;equality wait with extra row;ovsdb execute execution positive;
649;ovsdb-execution.at:731;equality wait with missing row;ovsdb execute execution positive;
650;ovsdb-execution.at:731;inequality wait with correct rows;ovsdb execute execution positive;
651;ovsdb-execution.at:731;inequality wait with extra row;ovsdb execute execution positive;
652;ovsdb-execution.at:731;inequality wait with missing row;ovsdb execute execution positive;
653;ovsdb-execution.at:731;insert and update constraints;ovsdb execute execution positive;
654;ovsdb-execution.at:731;referential integrity -- simple;ovsdb execute execution positive;
655;ovsdb-execution.at:731;referential integrity -- mutual references;ovsdb execute execution positive;
656;ovsdb-execution.at:731;weak references;ovsdb execute execution positive;
657;ovsdb-trigger.at:15;trigger fires immediately;ovsdb execute execution trigger positive;
658;ovsdb-trigger.at:38;trigger times out;ovsdb execute execution trigger positive;
659;ovsdb-trigger.at:61;trigger fires after delay;ovsdb execute execution trigger positive;
660;ovsdb-trigger.at:92;delayed trigger modifies database;ovsdb execute execution trigger positive;
661;ovsdb-trigger.at:132;one delayed trigger wakes up another;ovsdb execute execution trigger positive;
662;ovsdb-tool.at:30;insert default row, query table;ovsdb file positive;
663;ovsdb-tool.at:30;insert row, query table;ovsdb file positive;
664;ovsdb-tool.at:30;insert rows, query by value;ovsdb file positive;
665;ovsdb-tool.at:30;insert rows, query by named-uuid;ovsdb file positive;
666;ovsdb-tool.at:30;insert rows, update rows by value;ovsdb file positive;
667;ovsdb-tool.at:30;insert rows, mutate rows;ovsdb file positive;
668;ovsdb-tool.at:30;insert rows, delete by named-uuid;ovsdb file positive;
669;ovsdb-tool.at:30;insert rows, delete rows by value;ovsdb file positive;
670;ovsdb-tool.at:30;insert rows, delete by (non-matching) value;ovsdb file positive;
671;ovsdb-tool.at:30;insert rows, delete all;ovsdb file positive;
672;ovsdb-tool.at:30;insert row, query table, commit;ovsdb file positive;
673;ovsdb-tool.at:30;insert row, query table, commit durably;ovsdb file positive;
674;ovsdb-tool.at:30;equality wait with correct rows;ovsdb file positive;
675;ovsdb-tool.at:30;equality wait with extra row;ovsdb file positive;
676;ovsdb-tool.at:30;equality wait with missing row;ovsdb file positive;
677;ovsdb-tool.at:30;inequality wait with correct rows;ovsdb file positive;
678;ovsdb-tool.at:30;inequality wait with extra row;ovsdb file positive;
679;ovsdb-tool.at:30;inequality wait with missing row;ovsdb file positive;
680;ovsdb-tool.at:30;insert and update constraints;ovsdb file positive;
681;ovsdb-tool.at:30;referential integrity -- simple;ovsdb file positive;
682;ovsdb-tool.at:30;referential integrity -- mutual references;ovsdb file positive;
683;ovsdb-tool.at:30;weak references;ovsdb file positive;
684;ovsdb-tool.at:32;transaction comments;ovsdb file positive;
685;ovsdb-tool.at:51;ovsdb-tool compact;ovsdb file positive;
686;ovsdb-tool.at:145;ovsdb-tool convert -- removing a column;ovsdb file positive;
687;ovsdb-tool.at:210;ovsdb-tool convert -- adding a column;ovsdb file positive;
688;ovsdb-tool.at:274;ovsdb-tool schema-version;ovsdb file positive;
689;ovsdb-tool.at:282;ovsdb-tool db-version;ovsdb file positive;
690;ovsdb-server.at:39;insert default row, query table;ovsdb server positive unix;
691;ovsdb-server.at:39;insert row, query table;ovsdb server positive unix;
692;ovsdb-server.at:39;insert rows, query by value;ovsdb server positive unix;
693;ovsdb-server.at:39;insert rows, query by named-uuid;ovsdb server positive unix;
694;ovsdb-server.at:39;insert rows, update rows by value;ovsdb server positive unix;
695;ovsdb-server.at:39;insert rows, mutate rows;ovsdb server positive unix;
696;ovsdb-server.at:39;insert rows, delete by named-uuid;ovsdb server positive unix;
697;ovsdb-server.at:39;insert rows, delete rows by value;ovsdb server positive unix;
698;ovsdb-server.at:39;insert rows, delete by (non-matching) value;ovsdb server positive unix;
699;ovsdb-server.at:39;insert rows, delete all;ovsdb server positive unix;
700;ovsdb-server.at:39;insert row, query table, commit;ovsdb server positive unix;
701;ovsdb-server.at:39;insert row, query table, commit durably;ovsdb server positive unix;
702;ovsdb-server.at:39;equality wait with correct rows;ovsdb server positive unix;
703;ovsdb-server.at:39;equality wait with extra row;ovsdb server positive unix;
704;ovsdb-server.at:39;equality wait with missing row;ovsdb server positive unix;
705;ovsdb-server.at:39;inequality wait with correct rows;ovsdb server positive unix;
706;ovsdb-server.at:39;inequality wait with extra row;ovsdb server positive unix;
707;ovsdb-server.at:39;inequality wait with missing row;ovsdb server positive unix;
708;ovsdb-server.at:39;insert and update constraints;ovsdb server positive unix;
709;ovsdb-server.at:39;referential integrity -- simple;ovsdb server positive unix;
710;ovsdb-server.at:39;referential integrity -- mutual references;ovsdb server positive unix;
711;ovsdb-server.at:39;weak references;ovsdb server positive unix;
712;ovsdb-server.at:41;ovsdb-client get-schema-version;ovsdb server positive;
713;ovsdb-server.at:52;database multiplexing implementation;ovsdb server positive;
714;ovsdb-server.at:69;--remote=db: implementation;ovsdb server positive;
715;ovsdb-server.at:104;SSL db: implementation;ovsdb server positive ssl \$5;
716;ovsdb-server.at:158;compacting online;ovsdb server compact;
717;ovsdb-server.at:315;insert default row, query table;ovsdb server positive ssl;
718;ovsdb-server.at:315;insert row, query table;ovsdb server positive ssl;
719;ovsdb-server.at:315;insert rows, query by value;ovsdb server positive ssl;
720;ovsdb-server.at:315;insert rows, query by named-uuid;ovsdb server positive ssl;
721;ovsdb-server.at:315;insert rows, update rows by value;ovsdb server positive ssl;
722;ovsdb-server.at:315;insert rows, mutate rows;ovsdb server positive ssl;
723;ovsdb-server.at:315;insert rows, delete by named-uuid;ovsdb server positive ssl;
724;ovsdb-server.at:315;insert rows, delete rows by value;ovsdb server positive ssl;
725;ovsdb-server.at:315;insert rows, delete by (non-matching) value;ovsdb server positive ssl;
726;ovsdb-server.at:315;insert rows, delete all;ovsdb server positive ssl;
727;ovsdb-server.at:315;insert row, query table, commit;ovsdb server positive ssl;
728;ovsdb-server.at:315;insert row, query table, commit durably;ovsdb server positive ssl;
729;ovsdb-server.at:315;equality wait with correct rows;ovsdb server positive ssl;
730;ovsdb-server.at:315;equality wait with extra row;ovsdb server positive ssl;
731;ovsdb-server.at:315;equality wait with missing row;ovsdb server positive ssl;
732;ovsdb-server.at:315;inequality wait with correct rows;ovsdb server positive ssl;
733;ovsdb-server.at:315;inequality wait with extra row;ovsdb server positive ssl;
734;ovsdb-server.at:315;inequality wait with missing row;ovsdb server positive ssl;
735;ovsdb-server.at:315;insert and update constraints;ovsdb server positive ssl;
736;ovsdb-server.at:315;referential integrity -- simple;ovsdb server positive ssl;
737;ovsdb-server.at:315;referential integrity -- mutual references;ovsdb server positive ssl;
738;ovsdb-server.at:315;weak references;ovsdb server positive ssl;
739;ovsdb-server.at:351;insert default row, query table;ovsdb server positive transient;
740;ovsdb-server.at:351;insert row, query table;ovsdb server positive transient;
741;ovsdb-server.at:351;insert rows, query by value;ovsdb server positive transient;
742;ovsdb-server.at:351;insert rows, query by named-uuid;ovsdb server positive transient;
743;ovsdb-server.at:351;insert rows, update rows by value;ovsdb server positive transient;
744;ovsdb-server.at:351;insert rows, mutate rows;ovsdb server positive transient;
745;ovsdb-server.at:351;insert rows, delete by named-uuid;ovsdb server positive transient;
746;ovsdb-server.at:351;insert rows, delete rows by value;ovsdb server positive transient;
747;ovsdb-server.at:351;insert rows, delete by (non-matching) value;ovsdb server positive transient;
748;ovsdb-server.at:351;insert rows, delete all;ovsdb server positive transient;
749;ovsdb-server.at:351;insert row, query table, commit;ovsdb server positive transient;
750;ovsdb-server.at:351;insert row, query table, commit durably;ovsdb server positive transient;
751;ovsdb-server.at:351;equality wait with correct rows;ovsdb server positive transient;
752;ovsdb-server.at:351;equality wait with extra row;ovsdb server positive transient;
753;ovsdb-server.at:351;equality wait with missing row;ovsdb server positive transient;
754;ovsdb-server.at:351;inequality wait with correct rows;ovsdb server positive transient;
755;ovsdb-server.at:351;inequality wait with extra row;ovsdb server positive transient;
756;ovsdb-server.at:351;inequality wait with missing row;ovsdb server positive transient;
757;ovsdb-server.at:351;insert and update constraints;ovsdb server positive transient;
758;ovsdb-server.at:351;referential integrity -- simple;ovsdb server positive transient;
759;ovsdb-server.at:351;referential integrity -- mutual references;ovsdb server positive transient;
760;ovsdb-server.at:351;weak references;ovsdb server positive transient;
761;ovsdb-monitor.at:42;monitor insert into empty table;ovsdb server monitor positive;
762;ovsdb-monitor.at:54;monitor insert into populated table;ovsdb server monitor positive;
763;ovsdb-monitor.at:72;monitor delete;ovsdb server monitor positive;
764;ovsdb-monitor.at:90;monitor row update;ovsdb server monitor positive;
765;ovsdb-monitor.at:110;monitor no-op row updates;ovsdb server monitor positive;
766;ovsdb-monitor.at:133;monitor insert-and-update transaction;ovsdb server monitor positive;
767;ovsdb-monitor.at:156;monitor insert-update-and-delete transaction;ovsdb server monitor positive;
768;ovsdb-monitor.at:185;monitor weak reference change;ovsdb server monitor positive;
769;ovsdb-monitor.at:220;monitor insert-update-and-delete transaction;ovsdb server monitor positive;
770;ovsdb-monitor.at:271;monitor all operations;ovsdb server monitor positive;
771;ovsdb-monitor.at:291;monitor initial only;ovsdb server monitor positive;
772;ovsdb-monitor.at:298;monitor insert only;ovsdb server monitor positive;
773;ovsdb-monitor.at:305;monitor delete only;ovsdb server monitor positive;
774;ovsdb-monitor.at:313;monitor modify only;ovsdb server monitor positive;
775;ovsdb-idl.at:34;simple idl, initially empty, no ops;ovsdb server idl positive;
776;ovsdb-idl.at:41;simple idl, initially empty, various ops;ovsdb server idl positive;
777;ovsdb-idl.at:119;simple idl, initially populated;ovsdb server idl positive;
778;ovsdb-idl.at:150;simple idl, writing via IDL;ovsdb server idl positive;
779;ovsdb-idl.at:181;simple idl, handling verification failure;ovsdb server idl positive;
780;ovsdb-idl.at:212;simple idl, increment operation;ovsdb server idl positive;
781;ovsdb-idl.at:224;self-linking idl, consistent ops;ovsdb server idl positive;
782;ovsdb-idl.at:268;self-linking idl, inconsistent ops;ovsdb server idl positive;
783;ovsdb-idl.at:316;self-linking idl, sets;ovsdb server idl positive;
784;ovsdb-idl.at:366;external-linking idl, consistent ops;ovsdb server idl positive;
785;ovsdb-idl-py.at:35;simple idl, initially empty, no ops - Python;ovsdb server idl positive python;
786;ovsdb-idl-py.at:42;simple idl, initially empty, various ops - Python;ovsdb server idl positive;
787;ovsdb-idl-py.at:120;simple idl, initially populated - Python;ovsdb server idl positive;
788;ovs-vsctl.at:145;add-br a;ovs-vsctl;
789;ovs-vsctl.at:155;add-br a, add-br a;ovs-vsctl;
790;ovs-vsctl.at:165;add-br a, add-br b;ovs-vsctl;
791;ovs-vsctl.at:182;add-br a, add-br b, del-br a;ovs-vsctl;
792;ovs-vsctl.at:193;add-br a, add-port a a1, add-port a a2;ovs-vsctl;
793;ovs-vsctl.at:207;add-br a, add-port a a1, add-port a a1;ovs-vsctl;
794;ovs-vsctl.at:219;add-br a b, add-port a a1, add-port b b1, del-br a;ovs-vsctl;
795;ovs-vsctl.at:241;add-br a, add-bond a bond0 a1 a2 a3;ovs-vsctl;
796;ovs-vsctl.at:259;add-br a b, add-port a a1, add-port b b1, del-port a a1;ovs-vsctl;
797;ovs-vsctl.at:284;add-br a, add-bond a bond0 a1 a2 a3, del-port bond0;ovs-vsctl;
798;ovs-vsctl.at:301;external IDs;ovs-vsctl;
799;ovs-vsctl.at:357;controllers;controller ovs-vsctl;
800;ovs-vsctl.at:398;simple fake bridge;ovs-vsctl fake-bridge;
801;ovs-vsctl.at:419;simple fake bridge + del-br fake bridge;ovs-vsctl fake-bridge;
802;ovs-vsctl.at:430;simple fake bridge + del-br real bridge;ovs-vsctl fake-bridge;
803;ovs-vsctl.at:439;simple fake bridge + external IDs;ovs-vsctl fake-bridge;
804;ovs-vsctl.at:473;fake bridge on bond;ovs-vsctl fake-bridge;
805;ovs-vsctl.at:485;fake bridge on bond + del-br fake bridge;ovs-vsctl fake-bridge;
806;ovs-vsctl.at:497;fake bridge on bond + del-br real bridge;ovs-vsctl fake-bridge;
807;ovs-vsctl.at:509;database commands -- positive checks;ovs-vsctl;
808;ovs-vsctl.at:566;database commands -- negative checks;ovs-vsctl;
809;ovs-vsctl.at:650;database commands -- wait-until immediately true;ovs-vsctl;
810;ovs-vsctl.at:669;database commands -- wait-until must wait;ovs-vsctl;
811;ovs-vsctl.at:708;--id option on create, get commands;ovs-vsctl;
812;ovs-vsctl.at:760;created row UUID is wrong in same execution;ovs-vsctl;
813;interface-reconfigure.at:633;non-VLAN, non-bond;interface-reconfigure;
814;interface-reconfigure.at:697;VLAN, non-bond;interface-reconfigure;
815;interface-reconfigure.at:765;Bond, non-VLAN;interface-reconfigure;
816;interface-reconfigure.at:846;VLAN on bond;interface-reconfigure;
"

# at_fn_validate_ranges NAME...
# -----------------------------
# Validate and normalize the test group number contained in each variable
# NAME. Leading zeroes are treated as decimal.
at_fn_validate_ranges ()
{
  for at_grp
  do
    eval at_value=\$$at_grp
    if test $at_value -lt 1 || test $at_value -gt 816; then
      $as_echo "invalid test group: $at_value" >&2
      exit 1
    fi
    case $at_value in
      0*) # We want to treat leading 0 as decimal, like expr and test, but
	  # AS_VAR_ARITH treats it as octal if it uses $(( )).
	  # With XSI shells, ${at_value#${at_value%%[1-9]*}} avoids the
	  # expr fork, but it is not worth the effort to determine if the
	  # shell supports XSI when the user can just avoid leading 0.
	  eval $at_grp='`expr $at_value + 0`' ;;
    esac
  done
}

at_prev=
for at_option
do
  # If the previous option needs an argument, assign it.
  if test -n "$at_prev"; then
    at_option=$at_prev=$at_option
    at_prev=
  fi

  case $at_option in
  *=?*) at_optarg=`expr "X$at_option" : '[^=]*=\(.*\)'` ;;
  *)    at_optarg= ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case $at_option in
    --help | -h )
	at_help_p=:
	;;

    --list | -l )
	at_list_p=:
	;;

    --version | -V )
	at_version_p=:
	;;

    --clean | -c )
	at_clean=:
	;;

    --color )
	at_color=always
	;;
    --color=* )
	case $at_optarg in
	no | never | none) at_color=never ;;
	auto | tty | if-tty) at_color=auto ;;
	always | yes | force) at_color=always ;;
	*) at_optname=`echo " $at_option" | sed 's/^ //; s/=.*//'`
	   as_fn_error $? "unrecognized argument to $at_optname: $at_optarg" ;;
	esac
	;;

    --debug | -d )
	at_debug_p=:
	;;

    --errexit | -e )
	at_debug_p=:
	at_errexit_p=:
	;;

    --verbose | -v )
	at_verbose=; at_quiet=:
	;;

    --trace | -x )
	at_traceon='set -x'
	at_trace_echo=echo
	at_check_filter_trace=at_fn_filter_trace
	;;

    [0-9] | [0-9][0-9] | [0-9][0-9][0-9] | [0-9][0-9][0-9][0-9])
	at_fn_validate_ranges at_option
	as_fn_append at_groups "$at_option "
	;;

    # Ranges
    [0-9]- | [0-9][0-9]- | [0-9][0-9][0-9]- | [0-9][0-9][0-9][0-9]-)
	at_range_start=`echo $at_option |tr -d X-`
	at_fn_validate_ranges at_range_start
	at_range=`$as_echo " $at_groups_all " | \
	  sed -e 's/^.* \('$at_range_start' \)/\1/'`
	as_fn_append at_groups "$at_range "
	;;

    -[0-9] | -[0-9][0-9] | -[0-9][0-9][0-9] | -[0-9][0-9][0-9][0-9])
	at_range_end=`echo $at_option |tr -d X-`
	at_fn_validate_ranges at_range_end
	at_range=`$as_echo " $at_groups_all " | \
	  sed -e 's/\( '$at_range_end'\) .*$/\1/'`
	as_fn_append at_groups "$at_range "
	;;

    [0-9]-[0-9] | [0-9]-[0-9][0-9] | [0-9]-[0-9][0-9][0-9] | \
    [0-9]-[0-9][0-9][0-9][0-9] | [0-9][0-9]-[0-9][0-9] | \
    [0-9][0-9]-[0-9][0-9][0-9] | [0-9][0-9]-[0-9][0-9][0-9][0-9] | \
    [0-9][0-9][0-9]-[0-9][0-9][0-9] | \
    [0-9][0-9][0-9]-[0-9][0-9][0-9][0-9] | \
    [0-9][0-9][0-9][0-9]-[0-9][0-9][0-9][0-9] )
	at_range_start=`expr $at_option : '\(.*\)-'`
	at_range_end=`expr $at_option : '.*-\(.*\)'`
	if test $at_range_start -gt $at_range_end; then
	  at_tmp=$at_range_end
	  at_range_end=$at_range_start
	  at_range_start=$at_tmp
	fi
	at_fn_validate_ranges at_range_start at_range_end
	at_range=`$as_echo " $at_groups_all " | \
	  sed -e 's/^.*\( '$at_range_start' \)/\1/' \
	      -e 's/\( '$at_range_end'\) .*$/\1/'`
	as_fn_append at_groups "$at_range "
	;;

    # Directory selection.
    --directory | -C )
	at_prev=--directory
	;;
    --directory=* )
	at_change_dir=:
	at_dir=$at_optarg
	if test x- = "x$at_dir" ; then
	  at_dir=./-
	fi
	;;

    # Parallel execution.
    --jobs | -j )
	at_jobs=0
	;;
    --jobs=* | -j[0-9]* )
	if test -n "$at_optarg"; then
	  at_jobs=$at_optarg
	else
	  at_jobs=`expr X$at_option : 'X-j\(.*\)'`
	fi
	case $at_jobs in *[!0-9]*)
	  at_optname=`echo " $at_option" | sed 's/^ //; s/[0-9=].*//'`
	  as_fn_error $? "non-numeric argument to $at_optname: $at_jobs" ;;
	esac
	;;

    # Keywords.
    --keywords | -k )
	at_prev=--keywords
	;;
    --keywords=* )
	at_groups_selected=$at_help_all
	at_save_IFS=$IFS
	IFS=,
	set X $at_optarg
	shift
	IFS=$at_save_IFS
	for at_keyword
	do
	  at_invert=
	  case $at_keyword in
	  '!'*)
	    at_invert="-v"
	    at_keyword=`expr "X$at_keyword" : 'X!\(.*\)'`
	    ;;
	  esac
	  # It is on purpose that we match the test group titles too.
	  at_groups_selected=`$as_echo "$at_groups_selected" |
	      grep -i $at_invert "^[1-9][^;]*;.*[; ]$at_keyword[ ;]"`
	done
	# Smash the newlines.
	at_groups_selected=`$as_echo "$at_groups_selected" | sed 's/;.*//' |
	  tr "$as_nl" ' '
	`
	as_fn_append at_groups "$at_groups_selected "
	;;
    --recheck)
	at_recheck=:
	;;

    *=*)
	at_envvar=`expr "x$at_option" : 'x\([^=]*\)='`
	# Reject names that are not valid shell variable names.
	case $at_envvar in
	  '' | [0-9]* | *[!_$as_cr_alnum]* )
	    as_fn_error $? "invalid variable name: \`$at_envvar'" ;;
	esac
	at_value=`$as_echo "$at_optarg" | sed "s/'/'\\\\\\\\''/g"`
	# Export now, but save eval for later and for debug scripts.
	export $at_envvar
	as_fn_append at_debug_args " $at_envvar='$at_value'"
	;;

     *) $as_echo "$as_me: invalid option: $at_option" >&2
	$as_echo "Try \`$0 --help' for more information." >&2
	exit 1
	;;
  esac
done

# Verify our last option didn't require an argument
if test -n "$at_prev"; then :
  as_fn_error $? "\`$at_prev' requires an argument"
fi

# The file containing the suite.
at_suite_log=$at_dir/$as_me.log

# Selected test groups.
if test -z "$at_groups$at_recheck"; then
  at_groups=$at_groups_all
else
  if test -n "$at_recheck" && test -r "$at_suite_log"; then
    at_oldfails=`sed -n '
      /^Failed tests:$/,/^Skipped tests:$/{
	s/^[ ]*\([1-9][0-9]*\):.*/\1/p
      }
      /^Unexpected passes:$/,/^## Detailed failed tests/{
	s/^[ ]*\([1-9][0-9]*\):.*/\1/p
      }
      /^## Detailed failed tests/q
      ' "$at_suite_log" | tr "$as_nl" ' '`
    as_fn_append at_groups "$at_oldfails"
  fi
  # Sort the tests, removing duplicates.
  at_groups=`$as_echo "$at_groups" | tr ' ' "$as_nl" | sort -nu`
fi

if test x"$at_color" = xalways \
   || { test x"$at_color" = xauto && test -t 1; }; then
  at_red=`printf '\033[0;31m'`
  at_grn=`printf '\033[0;32m'`
  at_lgn=`printf '\033[1;32m'`
  at_blu=`printf '\033[1;34m'`
  at_std=`printf '\033[m'`
else
  at_red= at_grn= at_lgn= at_blu= at_std=
fi

# Help message.
if $at_help_p; then
  cat <<_ATEOF || at_write_fail=1
Usage: $0 [OPTION]... [VARIABLE=VALUE]... [TESTS]

Run all the tests, or the selected TESTS, given by numeric ranges, and
save a detailed log file.  Upon failure, create debugging scripts.

Do not change environment variables directly.  Instead, set them via
command line arguments.  Set \`AUTOTEST_PATH' to select the executables
to exercise.  Each relative directory is expanded as build and source
directories relative to the top level of this distribution.
E.g., from within the build directory /tmp/foo-1.0, invoking this:

  $ $0 AUTOTEST_PATH=bin

is equivalent to the following, assuming the source directory is /src/foo-1.0:

  PATH=/tmp/foo-1.0/bin:/src/foo-1.0/bin:\$PATH $0
_ATEOF
cat <<_ATEOF || at_write_fail=1

Operation modes:
  -h, --help     print the help message, then exit
  -V, --version  print version number, then exit
  -c, --clean    remove all the files this test suite might create and exit
  -l, --list     describes all the tests, or the selected TESTS
_ATEOF
cat <<_ATEOF || at_write_fail=1

Execution tuning:
  -C, --directory=DIR
                 change to directory DIR before starting
      --color[=never|auto|always]
                 enable colored test results on terminal, or always
  -j, --jobs[=N]
                 Allow N jobs at once; infinite jobs with no arg (default 1)
  -k, --keywords=KEYWORDS
                 select the tests matching all the comma-separated KEYWORDS
                 multiple \`-k' accumulate; prefixed \`!' negates a KEYWORD
      --recheck  select all tests that failed or passed unexpectedly last time
  -e, --errexit  abort as soon as a test fails; implies --debug
  -v, --verbose  force more detailed output
                 default for debugging scripts
  -d, --debug    inhibit clean up and top-level logging
                 default for debugging scripts
  -x, --trace    enable tests shell tracing
_ATEOF
cat <<_ATEOF || at_write_fail=1

Report bugs to <ovs-bugs@openvswitch.org>.
_ATEOF
  exit $at_write_fail
fi

# List of tests.
if $at_list_p; then
  cat <<_ATEOF || at_write_fail=1
openvswitch 1.1.0pre2 test suite test groups:

 NUM: FILE-NAME:LINE     TEST-GROUP-NAME
      KEYWORDS

_ATEOF
  # Passing at_groups is tricky.  We cannot use it to form a literal string
  # or regexp because of the limitation of AIX awk.  And Solaris' awk
  # doesn't grok more than 99 fields in a record, so we have to use `split'.
  # at_groups needs to be space-separated for this script to work.
  case $at_groups in
    *"$as_nl"* )
      at_groups=`$as_echo "$at_groups" | tr "$as_nl" ' '` ;;
  esac
  $as_echo "$at_groups$as_nl$at_help_all" |
    awk 'BEGIN { FS = ";" }
	 NR == 1 {
	   for (n = split ($ 0, a, " "); n; n--)
	     selected[a[n]] = 1
	   next
	 }
	 NF > 0 {
	   if (selected[$ 1]) {
	     printf " %3d: %-18s %s\n", $ 1, $ 2, $ 3
	     if ($ 4) {
	       lmax = 79
	       indent = "     "
	       line = indent
	       len = length (line)
	       n = split ($ 4, a, " ")
	       for (i = 1; i <= n; i++) {
		 l = length (a[i]) + 1
		 if (i > 1 && len + l > lmax) {
		   print line
		   line = indent " " a[i]
		   len = length (line)
		 } else {
		   line = line " " a[i]
		   len += l
		 }
	       }
	       if (n)
		 print line
	     }
	   }
	 }' || at_write_fail=1
  exit $at_write_fail
fi
if $at_version_p; then
  $as_echo "$as_me (openvswitch 1.1.0pre2)" &&
  cat <<\_ATEOF || at_write_fail=1

Copyright (C) 2010 Free Software Foundation, Inc.
This test suite is free software; the Free Software Foundation gives
unlimited permission to copy, distribute and modify it.

Copyright (c) 2009, 2010 Nicira Networks.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at:

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
_ATEOF
  exit $at_write_fail
fi

# Should we print banners?  at_groups is space-separated for entire test,
# newline-separated if only a subset of the testsuite is run.
case $at_groups in
  *' '*' '* | *"$as_nl"*"$as_nl"* )
      at_print_banners=: ;;
  * ) at_print_banners=false ;;
esac
# Text for banner N, set to empty once printed.
# Banner 1. library.at:1
# Category starts at test group 1.
at_banner_text_1="library unit tests"
# Banner 2. classifier.at:1
# Category starts at test group 13.
at_banner_text_2="flow classifier unit tests"
# Banner 3. check-structs.at:1
# Category starts at test group 21.
at_banner_text_3="struct alignment checker unit tests"
# Banner 4. daemon.at:1
# Category starts at test group 24.
at_banner_text_4="daemon unit tests - C"
# Banner 5. daemon-py.at:1
# Category starts at test group 32.
at_banner_text_5="daemon unit tests - Python"
# Banner 6. ovs-ofctl.at:1
# Category starts at test group 41.
at_banner_text_6="ovs-ofctl"
# Banner 7. multipath.at:1
# Category starts at test group 45.
at_banner_text_7="multipath link selection"
# Banner 8. vconn.at:20
# Category starts at test group 49.
at_banner_text_8="vconn library -- unix class"
# Banner 9. vconn.at:21
# Category starts at test group 57.
at_banner_text_9="vconn library -- tcp class"
# Banner 10. vconn.at:22
# Category starts at test group 65.
at_banner_text_10="vconn library -- ssl class"
# Banner 11. file_name.at:1
# Category starts at test group 73.
at_banner_text_11="test dir_name and base_name functions"
# Banner 12. aes128.at:1
# Category starts at test group 86.
at_banner_text_12="AES-128 unit tests"
# Banner 13. uuid.at:1
# Category starts at test group 109.
at_banner_text_13="UUID unit tests"
# Banner 14. json.at:51
# Category starts at test group 112.
at_banner_text_14="JSON -- arrays"
# Banner 15. json.at:66
# Category starts at test group 126.
at_banner_text_15="JSON -- strings"
# Banner 16. json.at:125
# Category starts at test group 156.
at_banner_text_16="JSON -- objects"
# Banner 17. json.at:147
# Category starts at test group 172.
at_banner_text_17="JSON -- literal names"
# Banner 18. json.at:161
# Category starts at test group 186.
at_banner_text_18="JSON -- numbers"
# Banner 19. json.at:254
# Category starts at test group 224.
at_banner_text_19="JSON -- RFC 4627 examples"
# Banner 20. json.at:297
# Category starts at test group 228.
at_banner_text_20="JSON -- pathological cases"
# Banner 21. json.at:320
# Category starts at test group 239.
at_banner_text_21="JSON -- multiple inputs"
# Banner 22. jsonrpc.at:1
# Category starts at test group 251.
at_banner_text_22="JSON-RPC - C"
# Banner 23. jsonrpc-py.at:1
# Category starts at test group 254.
at_banner_text_23="JSON-RPC - Python"
# Banner 24. timeval.at:1
# Category starts at test group 257.
at_banner_text_24="timeval unit tests"
# Banner 25. lockfile.at:1
# Category starts at test group 259.
at_banner_text_25="lockfile unit tests"
# Banner 26. reconnect.at:1
# Category starts at test group 269.
at_banner_text_26="reconnect library"
# Banner 27. ofproto.at:1
# Category starts at test group 293.
at_banner_text_27="ofproto"
# Banner 28. ovsdb-log.at:1
# Category starts at test group 297.
at_banner_text_28="OVSDB -- logging"
# Banner 29. ovsdb-types.at:1
# Category starts at test group 308.
at_banner_text_29="OVSDB -- atomic types"
# Banner 30. ovsdb-types.at:16
# Category starts at test group 320.
at_banner_text_30="OVSDB -- base types"
# Banner 31. ovsdb-types.at:90
# Category starts at test group 366.
at_banner_text_31="OVSDB -- simple types"
# Banner 32. ovsdb-types.at:112
# Category starts at test group 384.
at_banner_text_32="OVSDB -- set types"
# Banner 33. ovsdb-types.at:144
# Category starts at test group 402.
at_banner_text_33="OVSDB -- map types"
# Banner 34. ovsdb-data.at:1
# Category starts at test group 416.
at_banner_text_34="OVSDB -- default values"
# Banner 35. ovsdb-data.at:74
# Category starts at test group 420.
at_banner_text_35="OVSDB -- atoms without constraints"
# Banner 36. ovsdb-data.at:275
# Category starts at test group 460.
at_banner_text_36="OVSDB -- atoms with enum constraints"
# Banner 37. ovsdb-data.at:348
# Category starts at test group 470.
at_banner_text_37="OVSDB -- atoms with other constraints"
# Banner 38. ovsdb-data.at:467
# Category starts at test group 486.
at_banner_text_38="OSVDB -- simple data"
# Banner 39. ovsdb-data.at:517
# Category starts at test group 498.
at_banner_text_39="OVSDB -- set data"
# Banner 40. ovsdb-data.at:661
# Category starts at test group 525.
at_banner_text_40="OVSDB -- map data"
# Banner 41. ovsdb-column.at:1
# Category starts at test group 543.
at_banner_text_41="OVSDB -- columns"
# Banner 42. ovsdb-table.at:1
# Category starts at test group 549.
at_banner_text_42="OVSDB -- tables"
# Banner 43. ovsdb-row.at:1
# Category starts at test group 563.
at_banner_text_43="OVSDB -- rows"
# Banner 44. ovsdb-schema.at:1
# Category starts at test group 574.
at_banner_text_44="OVSDB -- schemas"
# Banner 45. ovsdb-condition.at:1
# Category starts at test group 582.
at_banner_text_45="OVSDB -- conditions"
# Banner 46. ovsdb-mutation.at:1
# Category starts at test group 596.
at_banner_text_46="OVSDB -- mutations"
# Banner 47. ovsdb-query.at:1
# Category starts at test group 613.
at_banner_text_47="OVSDB -- queries"
# Banner 48. ovsdb-transaction.at:1
# Category starts at test group 620.
at_banner_text_48="OVSDB -- transactions"
# Banner 49. ovsdb-execution.at:1
# Category starts at test group 635.
at_banner_text_49="OVSDB -- execution"
# Banner 50. ovsdb-trigger.at:1
# Category starts at test group 657.
at_banner_text_50="OVSDB -- triggers"
# Banner 51. ovsdb-tool.at:1
# Category starts at test group 662.
at_banner_text_51="OVSDB -- ovsdb-tool"
# Banner 52. ovsdb-server.at:1
# Category starts at test group 690.
at_banner_text_52="OVSDB -- ovsdb-server transactions (Unix sockets)"
# Banner 53. ovsdb-server.at:278
# Category starts at test group 717.
at_banner_text_53="OVSDB -- ovsdb-server transactions (SSL sockets)"
# Banner 54. ovsdb-server.at:317
# Category starts at test group 739.
at_banner_text_54="OVSDB -- transactions on transient ovsdb-server"
# Banner 55. ovsdb-monitor.at:1
# Category starts at test group 761.
at_banner_text_55="OVSDB -- ovsdb-server monitors"
# Banner 56. ovsdb-monitor.at:249
# Category starts at test group 770.
at_banner_text_56="ovsdb -- ovsdb-monitor monitor only some operations"
# Banner 57. ovsdb-idl.at:1
# Category starts at test group 775.
at_banner_text_57="OVSDB -- interface description language (IDL)"
# Banner 58. ovsdb-idl-py.at:1
# Category starts at test group 785.
at_banner_text_58="OVSDB -- interface description language (IDL) - Python"
# Banner 59. ovs-vsctl.at:143
# Category starts at test group 788.
at_banner_text_59="ovs-vsctl unit tests -- real bridges"
# Banner 60. ovs-vsctl.at:384
# Category starts at test group 800.
at_banner_text_60="ovs-vsctl unit tests -- fake bridges"
# Banner 61. ovs-vsctl.at:507
# Category starts at test group 807.
at_banner_text_61="ovs-vsctl unit tests -- database commands"
# Banner 62. interface-reconfigure.at:631
# Category starts at test group 813.
at_banner_text_62="interface-reconfigure"

# Take any -C into account.
if $at_change_dir ; then
  test x != "x$at_dir" && cd "$at_dir" \
    || as_fn_error $? "unable to change directory"
  at_dir=`pwd`
fi

# Load the config files for any default variable assignments.
for at_file in atconfig atlocal
do
  test -r $at_file || continue
  . ./$at_file || as_fn_error $? "invalid content: $at_file"
done

# Autoconf <=2.59b set at_top_builddir instead of at_top_build_prefix:
: ${at_top_build_prefix=$at_top_builddir}

# Perform any assignments requested during argument parsing.
eval "$at_debug_args"

# atconfig delivers names relative to the directory the test suite is
# in, but the groups themselves are run in testsuite-dir/group-dir.
if test -n "$at_top_srcdir"; then
  builddir=../..
  for at_dir_var in srcdir top_srcdir top_build_prefix
  do
    eval at_val=\$at_$at_dir_var
    case $at_val in
      [\\/$]* | ?:[\\/]* ) at_prefix= ;;
      *) at_prefix=../../ ;;
    esac
    eval "$at_dir_var=\$at_prefix\$at_val"
  done
fi

## -------------------- ##
## Directory structure. ##
## -------------------- ##

# This is the set of directories and files used by this script
# (non-literals are capitalized):
#
# TESTSUITE         - the testsuite
# TESTSUITE.log     - summarizes the complete testsuite run
# TESTSUITE.dir/    - created during a run, remains after -d or failed test
# + at-groups/      - during a run: status of all groups in run
# | + NNN/          - during a run: meta-data about test group NNN
# | | + check-line  - location (source file and line) of current AT_CHECK
# | | + status      - exit status of current AT_CHECK
# | | + stdout      - stdout of current AT_CHECK
# | | + stder1      - stderr, including trace
# | | + stderr      - stderr, with trace filtered out
# | | + test-source - portion of testsuite that defines group
# | | + times       - timestamps for computing duration
# | | + pass        - created if group passed
# | | + xpass       - created if group xpassed
# | | + fail        - created if group failed
# | | + xfail       - created if group xfailed
# | | + skip        - created if group skipped
# + at-stop         - during a run: end the run if this file exists
# + at-source-lines - during a run: cache of TESTSUITE line numbers for extraction
# + 0..NNN/         - created for each group NNN, remains after -d or failed test
# | + TESTSUITE.log - summarizes the group results
# | + ...           - files created during the group

# The directory the whole suite works in.
# Should be absolute to let the user `cd' at will.
at_suite_dir=$at_dir/$as_me.dir
# The file containing the suite ($at_dir might have changed since earlier).
at_suite_log=$at_dir/$as_me.log
# The directory containing helper files per test group.
at_helper_dir=$at_suite_dir/at-groups
# Stop file: if it exists, do not start new jobs.
at_stop_file=$at_suite_dir/at-stop
# The fifo used for the job dispatcher.
at_job_fifo=$at_suite_dir/at-job-fifo

if $at_clean; then
  test -d "$at_suite_dir" &&
    find "$at_suite_dir" -type d ! -perm -700 -exec chmod u+rwx \{\} \;
  rm -f -r "$at_suite_dir" "$at_suite_log"
  exit $?
fi

# Don't take risks: use only absolute directories in PATH.
#
# For stand-alone test suites (ie. atconfig was not found),
# AUTOTEST_PATH is relative to `.'.
#
# For embedded test suites, AUTOTEST_PATH is relative to the top level
# of the package.  Then expand it into build/src parts, since users
# may create executables in both places.
AUTOTEST_PATH=`$as_echo "$AUTOTEST_PATH" | sed "s|:|$PATH_SEPARATOR|g"`
at_path=
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $AUTOTEST_PATH $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -n "$at_path" && as_fn_append at_path $PATH_SEPARATOR
case $as_dir in
  [\\/]* | ?:[\\/]* )
    as_fn_append at_path "$as_dir"
    ;;
  * )
    if test -z "$at_top_build_prefix"; then
      # Stand-alone test suite.
      as_fn_append at_path "$as_dir"
    else
      # Embedded test suite.
      as_fn_append at_path "$at_top_build_prefix$as_dir$PATH_SEPARATOR"
      as_fn_append at_path "$at_top_srcdir/$as_dir"
    fi
    ;;
esac
  done
IFS=$as_save_IFS


# Now build and simplify PATH.
#
# There might be directories that don't exist, but don't redirect
# builtins' (eg., cd) stderr directly: Ultrix's sh hates that.
at_new_path=
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $at_path
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -d "$as_dir" || continue
case $as_dir in
  [\\/]* | ?:[\\/]* ) ;;
  * ) as_dir=`(cd "$as_dir" && pwd) 2>/dev/null` ;;
esac
case $PATH_SEPARATOR$at_new_path$PATH_SEPARATOR in
  *$PATH_SEPARATOR$as_dir$PATH_SEPARATOR*) ;;
  $PATH_SEPARATOR$PATH_SEPARATOR) at_new_path=$as_dir ;;
  *) as_fn_append at_new_path "$PATH_SEPARATOR$as_dir" ;;
esac
  done
IFS=$as_save_IFS

PATH=$at_new_path
export PATH

# Setting up the FDs.



# 5 is the log file.  Not to be overwritten if `-d'.
if $at_debug_p; then
  at_suite_log=/dev/null
else
  : >"$at_suite_log"
fi
exec 5>>"$at_suite_log"

# Banners and logs.
$as_echo "## --------------------------------- ##
## openvswitch 1.1.0pre2 test suite. ##
## --------------------------------- ##"
{
  $as_echo "## --------------------------------- ##
## openvswitch 1.1.0pre2 test suite. ##
## --------------------------------- ##"
  echo

  $as_echo "$as_me: command line was:"
  $as_echo "  \$ $0 $at_cli_args"
  echo

  # If ChangeLog exists, list a few lines in case it might help determining
  # the exact version.
  if test -n "$at_top_srcdir" && test -f "$at_top_srcdir/ChangeLog"; then
    $as_echo "## ---------- ##
## ChangeLog. ##
## ---------- ##"
    echo
    sed 's/^/| /;10q' "$at_top_srcdir/ChangeLog"
    echo
  fi

  {
cat <<_ASUNAME
## --------- ##
## Platform. ##
## --------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`

_ASUNAME

as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    $as_echo "PATH: $as_dir"
  done
IFS=$as_save_IFS

}
  echo

  # Contents of the config files.
  for at_file in atconfig atlocal
  do
    test -r $at_file || continue
    $as_echo "$as_me: $at_file:"
    sed 's/^/| /' $at_file
    echo
  done
} >&5


## ------------------------- ##
## Autotest shell functions. ##
## ------------------------- ##

# at_fn_banner NUMBER
# -------------------
# Output banner NUMBER, provided the testsuite is running multiple groups and
# this particular banner has not yet been printed.
at_fn_banner ()
{
  $at_print_banners || return 0
  eval at_banner_text=\$at_banner_text_$1
  test "x$at_banner_text" = x && return 0
  eval at_banner_text_$1=
  $as_echo "$as_nl$at_banner_text$as_nl"
} # at_fn_banner

# at_fn_check_prepare_notrace REASON LINE
# ---------------------------------------
# Perform AT_CHECK preparations for the command at LINE for an untraceable
# command; REASON is the reason for disabling tracing.
at_fn_check_prepare_notrace ()
{
  $at_trace_echo "Not enabling shell tracing (command contains $1)"
  $as_echo "$2" >"$at_check_line_file"
  at_check_trace=: at_check_filter=:
  : >"$at_stdout"; : >"$at_stderr"
}

# at_fn_check_prepare_trace LINE
# ------------------------------
# Perform AT_CHECK preparations for the command at LINE for a traceable
# command.
at_fn_check_prepare_trace ()
{
  $as_echo "$1" >"$at_check_line_file"
  at_check_trace=$at_traceon at_check_filter=$at_check_filter_trace
  : >"$at_stdout"; : >"$at_stderr"
}

# at_fn_check_prepare_dynamic COMMAND LINE
# ----------------------------------------
# Decide if COMMAND at LINE is traceable at runtime, and call the appropriate
# preparation function.
at_fn_check_prepare_dynamic ()
{
  case $1 in
    *$as_nl*)
      at_fn_check_prepare_notrace 'an embedded newline' "$2" ;;
    *)
      at_fn_check_prepare_trace "$2" ;;
  esac
}

# at_fn_filter_trace
# ------------------
# Remove the lines in the file "$at_stderr" generated by "set -x" and print
# them to stderr.
at_fn_filter_trace ()
{
  mv "$at_stderr" "$at_stder1"
  grep '^ *+' "$at_stder1" >&2
  grep -v '^ *+' "$at_stder1" >"$at_stderr"
}

# at_fn_log_failure FILE-LIST
# ---------------------------
# Copy the files in the list on stdout with a "> " prefix, and exit the shell
# with a failure exit code.
at_fn_log_failure ()
{
  for file
    do $as_echo "$file:"; sed 's/^/> /' "$file"; done
  echo 1 > "$at_status_file"
  exit 1
}

# at_fn_check_skip EXIT-CODE LINE
# -------------------------------
# Check whether EXIT-CODE is a special exit code (77 or 99), and if so exit
# the test group subshell with that same exit code. Use LINE in any report
# about test failure.
at_fn_check_skip ()
{
  case $1 in
    99) echo 99 > "$at_status_file"; at_failed=:
	$as_echo "$2: hard failure"; exit 99;;
    77) echo 77 > "$at_status_file"; exit 77;;
  esac
}

# at_fn_check_status EXPECTED EXIT-CODE LINE
# ------------------------------------------
# Check whether EXIT-CODE is the EXPECTED exit code, and if so do nothing.
# Otherwise, if it is 77 or 99, exit the test group subshell with that same
# exit code; if it is anything else print an error message referring to LINE,
# and fail the test.
at_fn_check_status ()
{
  case $2 in
    $1 ) ;;
    77) echo 77 > "$at_status_file"; exit 77;;
    99) echo 99 > "$at_status_file"; at_failed=:
	$as_echo "$3: hard failure"; exit 99;;
    *) $as_echo "$3: exit code was $2, expected $1"
      at_failed=:;;
  esac
}

# at_fn_diff_devnull FILE
# -----------------------
# Emit a diff between /dev/null and FILE. Uses "test -s" to avoid useless diff
# invocations.
at_fn_diff_devnull ()
{
  test -s "$1" || return 0
  $at_diff "$at_devnull" "$1"
}

# at_fn_test NUMBER
# -----------------
# Parse out test NUMBER from the tail of this file.
at_fn_test ()
{
  eval at_sed=\$at_sed$1
  sed "$at_sed" "$at_myself" > "$at_test_source"
}

# at_fn_create_debugging_script
# -----------------------------
# Create the debugging script $at_group_dir/run which will reproduce the
# current test group.
at_fn_create_debugging_script ()
{
  {
    echo "#! /bin/sh" &&
    echo 'test "${ZSH_VERSION+set}" = set && alias -g '\''${1+"$@"}'\''='\''"$@"'\''' &&
    $as_echo "cd '$at_dir'" &&
    $as_echo "exec \${CONFIG_SHELL-$SHELL} \"$at_myself\" -v -d $at_debug_args $at_group \${1+\"\$@\"}" &&
    echo 'exit 1'
  } >"$at_group_dir/run" &&
  chmod +x "$at_group_dir/run"
}

## -------------------------------- ##
## End of autotest shell functions. ##
## -------------------------------- ##
{
  $as_echo "## ---------------- ##
## Tested programs. ##
## ---------------- ##"
  echo
} >&5

# Report what programs are being tested.
for at_program in : $at_tested
do
  test "$at_program" = : && continue
  case $at_program in
    [\\/]* | ?:[\\/]* ) $at_program_=$at_program ;;
    * )
    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -f "$as_dir/$at_program" && break
  done
IFS=$as_save_IFS

    at_program_=$as_dir/$at_program ;;
  esac
  if test -f "$at_program_"; then
    {
      $as_echo "$at_srcdir/testsuite.at:1: $at_program_ --version"
      "$at_program_" --version </dev/null
      echo
    } >&5 2>&1
  else
    as_fn_error $? "cannot find $at_program" "$LINENO" 5
  fi
done

{
  $as_echo "## ------------------ ##
## Running the tests. ##
## ------------------ ##"
} >&5

at_start_date=`date`
at_start_time=`date +%s 2>/dev/null`
$as_echo "$as_me: starting at: $at_start_date" >&5

# Create the master directory if it doesn't already exist.
as_dir="$at_suite_dir"; as_fn_mkdir_p ||
  as_fn_error $? "cannot create \`$at_suite_dir'" "$LINENO" 5

# Can we diff with `/dev/null'?  DU 5.0 refuses.
if diff /dev/null /dev/null >/dev/null 2>&1; then
  at_devnull=/dev/null
else
  at_devnull=$at_suite_dir/devnull
  >"$at_devnull"
fi

# Use `diff -u' when possible.
if at_diff=`diff -u "$at_devnull" "$at_devnull" 2>&1` && test -z "$at_diff"
then
  at_diff='diff -u'
else
  at_diff=diff
fi

# Get the last needed group.
for at_group in : $at_groups; do :; done

# Extract the start and end lines of each test group at the tail
# of this file
awk '
BEGIN { FS="" }
/^#AT_START_/ {
  start = NR
}
/^#AT_STOP_/ {
  test = substr ($ 0, 10)
  print "at_sed" test "=\"1," start "d;" (NR-1) "q\""
  if (test == "'"$at_group"'") exit
}' "$at_myself" > "$at_suite_dir/at-source-lines" &&
. "$at_suite_dir/at-source-lines" ||
  as_fn_error $? "cannot create test line number cache" "$LINENO" 5
rm -f "$at_suite_dir/at-source-lines"

# Set number of jobs for `-j'; avoid more jobs than test groups.
set X $at_groups; shift; at_max_jobs=$#
if test $at_max_jobs -eq 0; then
  at_jobs=1
fi
if test $at_jobs -ne 1 &&
   { test $at_jobs -eq 0 || test $at_jobs -gt $at_max_jobs; }; then
  at_jobs=$at_max_jobs
fi

# If parallel mode, don't output banners, don't split summary lines.
if test $at_jobs -ne 1; then
  at_print_banners=false
  at_quiet=:
fi

# Set up helper dirs.
rm -rf "$at_helper_dir" &&
mkdir "$at_helper_dir" &&
cd "$at_helper_dir" &&
{ test -z "$at_groups" || mkdir $at_groups; } ||
as_fn_error $? "testsuite directory setup failed" "$LINENO" 5

# Functions for running a test group.  We leave the actual
# test group execution outside of a shell function in order
# to avoid hitting zsh 4.x exit status bugs.

# at_fn_group_prepare
# -------------------
# Prepare for running a test group.
at_fn_group_prepare ()
{
  # The directory for additional per-group helper files.
  at_job_dir=$at_helper_dir/$at_group
  # The file containing the location of the last AT_CHECK.
  at_check_line_file=$at_job_dir/check-line
  # The file containing the exit status of the last command.
  at_status_file=$at_job_dir/status
  # The files containing the output of the tested commands.
  at_stdout=$at_job_dir/stdout
  at_stder1=$at_job_dir/stder1
  at_stderr=$at_job_dir/stderr
  # The file containing the code for a test group.
  at_test_source=$at_job_dir/test-source
  # The file containing dates.
  at_times_file=$at_job_dir/times

  # Be sure to come back to the top test directory.
  cd "$at_suite_dir"

  # Clearly separate the test groups when verbose.
  $at_first || $at_verbose echo

  at_group_normalized=$at_group

  eval 'while :; do
    case $at_group_normalized in #(
    '"$at_format"'*) break;;
    esac
    at_group_normalized=0$at_group_normalized
  done'


  # Create a fresh directory for the next test group, and enter.
  # If one already exists, the user may have invoked ./run from
  # within that directory; we remove the contents, but not the
  # directory itself, so that we aren't pulling the rug out from
  # under the shell's notion of the current directory.
  at_group_dir=$at_suite_dir/$at_group_normalized
  at_group_log=$at_group_dir/$as_me.log
  if test -d "$at_group_dir"; then
  find "$at_group_dir" -type d ! -perm -700 -exec chmod u+rwx {} \;
  rm -fr "$at_group_dir"/* "$at_group_dir"/.[!.] "$at_group_dir"/.??*
fi ||
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: test directory for $at_group_normalized could not be cleaned" >&5
$as_echo "$as_me: WARNING: test directory for $at_group_normalized could not be cleaned" >&2;}
  # Be tolerant if the above `rm' was not able to remove the directory.
  as_dir="$at_group_dir"; as_fn_mkdir_p

  echo 0 > "$at_status_file"

  # In verbose mode, append to the log file *and* show on
  # the standard output; in quiet mode only write to the log.
  if test -z "$at_verbose"; then
    at_tee_pipe='tee -a "$at_group_log"'
  else
    at_tee_pipe='cat >> "$at_group_log"'
  fi
}

# at_fn_group_banner ORDINAL LINE DESC PAD [BANNER]
# -------------------------------------------------
# Declare the test group ORDINAL, located at LINE with group description DESC,
# and residing under BANNER. Use PAD to align the status column.
at_fn_group_banner ()
{
  at_setup_line="$2"
  test -n "$5" && at_fn_banner $5
  at_desc="$3"
  case $1 in
    [0-9])      at_desc_line="  $1: ";;
    [0-9][0-9]) at_desc_line=" $1: " ;;
    *)          at_desc_line="$1: "  ;;
  esac
  as_fn_append at_desc_line "$3$4"
  $at_quiet $as_echo_n "$at_desc_line"
  echo "#                             -*- compilation -*-" >> "$at_group_log"
}

# at_fn_group_postprocess
# -----------------------
# Perform cleanup after running a test group.
at_fn_group_postprocess ()
{
  # Be sure to come back to the suite directory, in particular
  # since below we might `rm' the group directory we are in currently.
  cd "$at_suite_dir"

  if test ! -f "$at_check_line_file"; then
    sed "s/^ */$as_me: WARNING: /" <<_ATEOF
      A failure happened in a test group before any test could be
      run. This means that test suite is improperly designed.  Please
      report this failure to <ovs-bugs@openvswitch.org>.
_ATEOF
    $as_echo "$at_setup_line" >"$at_check_line_file"
    at_status=99
  fi
  $at_verbose $as_echo_n "$at_group. $at_setup_line: "
  $as_echo_n "$at_group. $at_setup_line: " >> "$at_group_log"
  case $at_xfail:$at_status in
    yes:0)
	at_msg="UNEXPECTED PASS"
	at_res=xpass
	at_errexit=$at_errexit_p
	at_color=$at_red
	;;
    no:0)
	at_msg="ok"
	at_res=pass
	at_errexit=false
	at_color=$at_grn
	;;
    *:77)
	at_msg='skipped ('`cat "$at_check_line_file"`')'
	at_res=skip
	at_errexit=false
	at_color=$at_blu
	;;
    no:* | *:99)
	at_msg='FAILED ('`cat "$at_check_line_file"`')'
	at_res=fail
	at_errexit=$at_errexit_p
	at_color=$at_red
	;;
    yes:*)
	at_msg='expected failure ('`cat "$at_check_line_file"`')'
	at_res=xfail
	at_errexit=false
	at_color=$at_lgn
	;;
  esac
  echo "$at_res" > "$at_job_dir/$at_res"
  # In parallel mode, output the summary line only afterwards.
  if test $at_jobs -ne 1 && test -n "$at_verbose"; then
    $as_echo "$at_desc_line $at_color$at_msg$at_std"
  else
    # Make sure there is a separator even with long titles.
    $as_echo " $at_color$at_msg$at_std"
  fi
  at_log_msg="$at_group. $at_desc ($at_setup_line): $at_msg"
  case $at_status in
    0|77)
      # $at_times_file is only available if the group succeeded.
      # We're not including the group log, so the success message
      # is written in the global log separately.  But we also
      # write to the group log in case they're using -d.
      if test -f "$at_times_file"; then
	at_log_msg="$at_log_msg     ("`sed 1d "$at_times_file"`')'
	rm -f "$at_times_file"
      fi
      $as_echo "$at_log_msg" >> "$at_group_log"
      $as_echo "$at_log_msg" >&5

      # Cleanup the group directory, unless the user wants the files.
      if $at_debug_p; then
	at_fn_create_debugging_script
      else
	if test -d "$at_group_dir"; then
	  find "$at_group_dir" -type d ! -perm -700 -exec chmod u+rwx \{\} \;
	  rm -fr "$at_group_dir"
	fi
	rm -f "$at_test_source"
      fi
      ;;
    *)
      # Upon failure, include the log into the testsuite's global
      # log.  The failure message is written in the group log.  It
      # is later included in the global log.
      $as_echo "$at_log_msg" >> "$at_group_log"

      # Upon failure, keep the group directory for autopsy, and create
      # the debugging script.  With -e, do not start any further tests.
      at_fn_create_debugging_script
      if $at_errexit; then
	echo stop > "$at_stop_file"
      fi
      ;;
  esac
}


## ------------ ##
## Driver loop. ##
## ------------ ##


if (set -m && set +m && set +b) >/dev/null 2>&1; then
  set +b
  at_job_control_on='set -m' at_job_control_off='set +m' at_job_group=-
else
  at_job_control_on=: at_job_control_off=: at_job_group=
fi

for at_signal in 1 2 15; do
  trap 'set +x; set +e
	$at_job_control_off
	at_signal='"$at_signal"'
	echo stop > "$at_stop_file"
	trap "" $at_signal
	at_pgids=
	for at_pgid in `jobs -p 2>/dev/null`; do
	  at_pgids="$at_pgids $at_job_group$at_pgid"
	done
	test -z "$at_pgids" || kill -$at_signal $at_pgids 2>/dev/null
	wait
	if test "$at_jobs" -eq 1 || test -z "$at_verbose"; then
	  echo >&2
	fi
	at_signame=`kill -l $at_signal 2>&1 || echo $at_signal`
	set x $at_signame
	test 0 -gt 2 && at_signame=$at_signal
	{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: caught signal $at_signame, bailing out" >&5
$as_echo "$as_me: WARNING: caught signal $at_signame, bailing out" >&2;}
	as_fn_arith 128 + $at_signal && exit_status=$as_val
	as_fn_exit $exit_status' $at_signal
done

rm -f "$at_stop_file"
at_first=:

if test $at_jobs -ne 1 &&
     rm -f "$at_job_fifo" &&
     test -n "$at_job_group" &&
     ( mkfifo "$at_job_fifo" && trap 'exit 1' PIPE STOP TSTP ) 2>/dev/null
then
  # FIFO job dispatcher.

  trap 'at_pids=
	for at_pid in `jobs -p`; do
	  at_pids="$at_pids $at_job_group$at_pid"
	done
	if test -n "$at_pids"; then
	  at_sig=TSTP
	  test "${TMOUT+set}" = set && at_sig=STOP
	  kill -$at_sig $at_pids 2>/dev/null
	fi
	kill -STOP $$
	test -z "$at_pids" || kill -CONT $at_pids 2>/dev/null' TSTP

  echo
  # Turn jobs into a list of numbers, starting from 1.
  at_joblist=`$as_echo " $at_groups_all " | \
    sed 's/\( '$at_jobs'\) .*/\1/'`

  set X $at_joblist
  shift
  for at_group in $at_groups; do
    $at_job_control_on 2>/dev/null
    (
      # Start one test group.
      $at_job_control_off
      if $at_first; then
	exec 7>"$at_job_fifo"
      else
	exec 6<&-
      fi
      trap 'set +x; set +e
	    trap "" PIPE
	    echo stop > "$at_stop_file"
	    echo >&7
	    as_fn_exit 141' PIPE
      at_fn_group_prepare
      if cd "$at_group_dir" &&
	 at_fn_test $at_group &&
	 . "$at_test_source"
      then :; else
	{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: unable to parse test group: $at_group" >&5
$as_echo "$as_me: WARNING: unable to parse test group: $at_group" >&2;}
	at_failed=:
      fi
      at_fn_group_postprocess
      echo >&7
    ) &
    $at_job_control_off
    if $at_first; then
      at_first=false
      exec 6<"$at_job_fifo" 7>"$at_job_fifo"
    fi
    shift # Consume one token.
    if test $# -gt 0; then :; else
      read at_token <&6 || break
      set x $*
    fi
    test -f "$at_stop_file" && break
  done
  exec 7>&-
  # Read back the remaining ($at_jobs - 1) tokens.
  set X $at_joblist
  shift
  if test $# -gt 0; then
    shift
    for at_job
    do
      read at_token
    done <&6
  fi
  exec 6<&-
  wait
else
  # Run serially, avoid forks and other potential surprises.
  for at_group in $at_groups; do
    at_fn_group_prepare
    if cd "$at_group_dir" &&
       at_fn_test $at_group &&
       . "$at_test_source"; then :; else
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: unable to parse test group: $at_group" >&5
$as_echo "$as_me: WARNING: unable to parse test group: $at_group" >&2;}
      at_failed=:
    fi
    at_fn_group_postprocess
    test -f "$at_stop_file" && break
    at_first=false
  done
fi

# Wrap up the test suite with summary statistics.
cd "$at_helper_dir"

# Use ?..???? when the list must remain sorted, the faster * otherwise.
at_pass_list=`for f in */pass; do echo $f; done | sed '/\*/d; s,/pass,,'`
at_skip_list=`for f in */skip; do echo $f; done | sed '/\*/d; s,/skip,,'`
at_xfail_list=`for f in */xfail; do echo $f; done | sed '/\*/d; s,/xfail,,'`
at_xpass_list=`for f in ?/xpass ??/xpass ???/xpass ????/xpass; do
		 echo $f; done | sed '/?/d; s,/xpass,,'`
at_fail_list=`for f in ?/fail ??/fail ???/fail ????/fail; do
		echo $f; done | sed '/?/d; s,/fail,,'`

set X $at_pass_list $at_xpass_list $at_xfail_list $at_fail_list $at_skip_list
shift; at_group_count=$#
set X $at_xpass_list; shift; at_xpass_count=$#; at_xpass_list=$*
set X $at_xfail_list; shift; at_xfail_count=$#
set X $at_fail_list; shift; at_fail_count=$#; at_fail_list=$*
set X $at_skip_list; shift; at_skip_count=$#

as_fn_arith $at_group_count - $at_skip_count && at_run_count=$as_val
as_fn_arith $at_xpass_count + $at_fail_count && at_unexpected_count=$as_val
as_fn_arith $at_xfail_count + $at_fail_count && at_total_fail_count=$as_val

# Back to the top directory.
cd "$at_dir"
rm -rf "$at_helper_dir"

# Compute the duration of the suite.
at_stop_date=`date`
at_stop_time=`date +%s 2>/dev/null`
$as_echo "$as_me: ending at: $at_stop_date" >&5
case $at_start_time,$at_stop_time in
  [0-9]*,[0-9]*)
    as_fn_arith $at_stop_time - $at_start_time && at_duration_s=$as_val
    as_fn_arith $at_duration_s / 60 && at_duration_m=$as_val
    as_fn_arith $at_duration_m / 60 && at_duration_h=$as_val
    as_fn_arith $at_duration_s % 60 && at_duration_s=$as_val
    as_fn_arith $at_duration_m % 60 && at_duration_m=$as_val
    at_duration="${at_duration_h}h ${at_duration_m}m ${at_duration_s}s"
    $as_echo "$as_me: test suite duration: $at_duration" >&5
    ;;
esac

echo
$as_echo "## ------------- ##
## Test results. ##
## ------------- ##"
echo
{
  echo
  $as_echo "## ------------- ##
## Test results. ##
## ------------- ##"
  echo
} >&5

if test $at_run_count = 1; then
  at_result="1 test"
  at_were=was
else
  at_result="$at_run_count tests"
  at_were=were
fi
if $at_errexit_p && test $at_unexpected_count != 0; then
  if test $at_xpass_count = 1; then
    at_result="$at_result $at_were run, one passed"
  else
    at_result="$at_result $at_were run, one failed"
  fi
  at_result="$at_result unexpectedly and inhibited subsequent tests."
  at_color=$at_red
else
  # Don't you just love exponential explosion of the number of cases?
  at_color=$at_red
  case $at_xpass_count:$at_fail_count:$at_xfail_count in
    # So far, so good.
    0:0:0) at_result="$at_result $at_were successful." at_color=$at_grn ;;
    0:0:*) at_result="$at_result behaved as expected." at_color=$at_lgn ;;

    # Some unexpected failures
    0:*:0) at_result="$at_result $at_were run,
$at_fail_count failed unexpectedly." ;;

    # Some failures, both expected and unexpected
    0:*:1) at_result="$at_result $at_were run,
$at_total_fail_count failed ($at_xfail_count expected failure)." ;;
    0:*:*) at_result="$at_result $at_were run,
$at_total_fail_count failed ($at_xfail_count expected failures)." ;;

    # No unexpected failures, but some xpasses
    *:0:*) at_result="$at_result $at_were run,
$at_xpass_count passed unexpectedly." ;;

    # No expected failures, but failures and xpasses
    *:1:0) at_result="$at_result $at_were run,
$at_unexpected_count did not behave as expected ($at_fail_count unexpected failure)." ;;
    *:*:0) at_result="$at_result $at_were run,
$at_unexpected_count did not behave as expected ($at_fail_count unexpected failures)." ;;

    # All of them.
    *:*:1) at_result="$at_result $at_were run,
$at_xpass_count passed unexpectedly,
$at_total_fail_count failed ($at_xfail_count expected failure)." ;;
    *:*:*) at_result="$at_result $at_were run,
$at_xpass_count passed unexpectedly,
$at_total_fail_count failed ($at_xfail_count expected failures)." ;;
  esac

  if test $at_skip_count = 0 && test $at_run_count -gt 1; then
    at_result="All $at_result"
  fi
fi

# Now put skips in the mix.
case $at_skip_count in
  0) ;;
  1) at_result="$at_result
1 test was skipped." ;;
  *) at_result="$at_result
$at_skip_count tests were skipped." ;;
esac

if test $at_unexpected_count = 0; then
  echo "$at_color$at_result$at_std"
  echo "$at_result" >&5
else
  echo "${at_color}ERROR: $at_result$at_std" >&2
  echo "ERROR: $at_result" >&5
  {
    echo
    $as_echo "## ------------------------ ##
## Summary of the failures. ##
## ------------------------ ##"

    # Summary of failed and skipped tests.
    if test $at_fail_count != 0; then
      echo "Failed tests:"
      $SHELL "$at_myself" $at_fail_list --list
      echo
    fi
    if test $at_skip_count != 0; then
      echo "Skipped tests:"
      $SHELL "$at_myself" $at_skip_list --list
      echo
    fi
    if test $at_xpass_count != 0; then
      echo "Unexpected passes:"
      $SHELL "$at_myself" $at_xpass_list --list
      echo
    fi
    if test $at_fail_count != 0; then
      $as_echo "## ---------------------- ##
## Detailed failed tests. ##
## ---------------------- ##"
      echo
      for at_group in $at_fail_list
      do
	at_group_normalized=$at_group

  eval 'while :; do
    case $at_group_normalized in #(
    '"$at_format"'*) break;;
    esac
    at_group_normalized=0$at_group_normalized
  done'

	cat "$at_suite_dir/$at_group_normalized/$as_me.log"
	echo
      done
      echo
    fi
    if test -n "$at_top_srcdir"; then
      sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
## ${at_top_build_prefix}config.log ##
_ASBOX
      sed 's/^/| /' ${at_top_build_prefix}config.log
      echo
    fi
  } >&5

  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
## $as_me.log was created. ##
_ASBOX

  echo
  if $at_debug_p; then
    at_msg='per-test log files'
  else
    at_msg="\`${at_testdir+${at_testdir}/}$as_me.log'"
  fi
  $as_echo "Please send $at_msg and all information you think might help:

   To: <ovs-bugs@openvswitch.org>
   Subject: [openvswitch 1.1.0pre2] $as_me: $at_fail_list${at_fail_list:+ failed${at_xpass_list:+, }}$at_xpass_list${at_xpass_list:+ passed unexpectedly}

You may investigate any problem if you feel able to do so, in which
case the test suite provides a good starting point.  Its output may
be found below \`${at_testdir+${at_testdir}/}$as_me.dir'.
"
  exit 1
fi

exit 0

## ------------- ##
## Actual tests. ##
## ------------- ##
#AT_START_1
at_fn_group_banner 1 'library.at:3' \
  "test flow extractor" "                            " 1
at_xfail=no
(
  $as_echo "1. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:4: \$PERL \`which flowgen.pl\` >/dev/null 3>flows 4>pcap"
at_fn_check_prepare_notrace 'a `...` command substitution' "library.at:4"
( $at_check_trace; $PERL `which flowgen.pl` >/dev/null 3>flows 4>pcap
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/library.at:4"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/library.at:5: test-flows <flows 3<pcap"
at_fn_check_prepare_trace "library.at:5"
( $at_check_trace; test-flows <flows 3<pcap
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "checked 247 packets, 0 errors
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/library.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_1
#AT_START_2
at_fn_group_banner 2 'library.at:9' \
  "test TCP/IP checksumming" "                       " 1
at_xfail=no
(
  $as_echo "2. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:10: test-csum"
at_fn_check_prepare_trace "library.at:10"
( $at_check_trace; test-csum
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/library.at:10"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_2
#AT_START_3
at_fn_group_banner 3 'library.at:13' \
  "test hash functions" "                            " 1
at_xfail=no
(
  $as_echo "3. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:14: test-hash"
at_fn_check_prepare_trace "library.at:14"
( $at_check_trace; test-hash
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/library.at:14"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_3
#AT_START_4
at_fn_group_banner 4 'library.at:17' \
  "test hash map" "                                  " 1
at_xfail=no
(
  $as_echo "4. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:18: test-hmap"
at_fn_check_prepare_trace "library.at:18"
( $at_check_trace; test-hmap
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/library.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_4
#AT_START_5
at_fn_group_banner 5 'library.at:21' \
  "test linked lists" "                              " 1
at_xfail=no
(
  $as_echo "5. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:22: test-list"
at_fn_check_prepare_trace "library.at:22"
( $at_check_trace; test-list
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/library.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_5
#AT_START_6
at_fn_group_banner 6 'library.at:25' \
  "test SHA-1" "                                     " 1
at_xfail=no
(
  $as_echo "6. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:26: test-sha1"
at_fn_check_prepare_trace "library.at:26"
( $at_check_trace; test-sha1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/library.at:26"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_6
#AT_START_7
at_fn_group_banner 7 'library.at:29' \
  "test type properties" "                           " 1
at_xfail=no
(
  $as_echo "7. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:30: test-type-props"
at_fn_check_prepare_trace "library.at:30"
( $at_check_trace; test-type-props
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/library.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_7
#AT_START_8
at_fn_group_banner 8 'library.at:33' \
  "test strtok_r bug fix" "                          " 1
at_xfail=no
(
  $as_echo "8. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:34: test-strtok_r"
at_fn_check_prepare_trace "library.at:34"
( $at_check_trace; test-strtok_r
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/library.at:34"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_8
#AT_START_9
at_fn_group_banner 9 'library.at:37' \
  "test byte order conversion" "                     " 1
at_xfail=no
(
  $as_echo "9. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/library.at:39: test-byte-order"
at_fn_check_prepare_trace "library.at:39"
( $at_check_trace; test-byte-order
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/library.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_9
#AT_START_10
at_fn_group_banner 10 'library.at:42' \
  "test random number generator" "                   " 1
at_xfail=no
(
  $as_echo "10. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:43: test-random"
at_fn_check_prepare_trace "library.at:43"
( $at_check_trace; test-random
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "average=7fa2014f

bit      0     1
  0  4946  5054
  1  4939  5061
  2  4947  5053
  3  4935  5065
  4  5004  4996
  5  4998  5002
  6  5062  4938
  7  5009  4991
  8  5001  4999
  9  5022  4978
 10  5006  4994
 11  5039  4961
 12  4940  5060
 13  5048  4952
 14  4930  5070
 15  4973  5027
 16  4954  5046
 17  5043  4957
 18  5020  4980
 19  5104  4896
 20  5051  4949
 21  5003  4997
 22  5110  4890
 23  4950  5050
 24  5016  4984
 25  5019  4981
 26  4948  5052
 27  4995  5005
 28  4995  5005
 29  4969  5031
 30  5109  4891
 31  4984  5016
(expected values are 5000)

nibble   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
     0 640 589 610 613 588 632 650 613 582 646 627 640 612 650 637 671
     1 626 642 663 620 630 609 617 602 615 638 614 644 641 597 598 644
     2 667 611 617 613 609 629 642 651 604 641 594 659 651 610 617 585
     3 621 662 594 605 618 644 616 613 613 616 611 608 614 660 653 652
     4 641 668 621 664 619 624 625 642 624 629 607 566 599 639 618 614
     5 666 629 620 621 581 615 598 620 630 651 671 622 628 603 657 588
     6 620 640 621 606 603 644 628 633 620 597 653 591 637 658 634 615
     7 636 645 679 593 598 609 612 612 623 626 638 669 603 629 606 622
(expected values are 625)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/library.at:43"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_10
#AT_START_11
at_fn_group_banner 11 'library.at:94' \
  "test unix socket -- short pathname" "             " 1
at_xfail=no
(
  $as_echo "11. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:95: test-unix-socket x"
at_fn_check_prepare_trace "library.at:95"
( $at_check_trace; test-unix-socket x
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/library.at:95"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_11
#AT_START_12
at_fn_group_banner 12 'library.at:103' \
  "test unix socket -- long pathname" "              " 1
at_xfail=no
(
  $as_echo "12. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/library.at:104:     case \`uname\` in       *[lL]inux*)
        exit 0
        ;;       *)
                exit 77
        ;;
    esac
"
at_fn_check_prepare_notrace 'a `...` command substitution' "library.at:104"
( $at_check_trace;     case `uname` in       *[lL]inux*)
        exit 0
        ;;       *)
                exit 77
        ;;
    esac

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/library.at:104"
$at_failed && at_fn_log_failure
$at_traceon; }

mkdir 012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789
cd 012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789
{ set +x
$as_echo "$at_srcdir/library.at:118: test-unix-socket ../012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789/socket socket"
at_fn_check_prepare_trace "library.at:118"
( $at_check_trace; test-unix-socket ../012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789/socket socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/library.at:118"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_12
#AT_START_13
at_fn_group_banner 13 'classifier.at:2' \
  "flow classifier - empty" "                        " 2
at_xfail=no
(
  $as_echo "13. $at_setup_line: testing $at_desc ..."
  $at_traceon

   { set +x
$as_echo "$at_srcdir/classifier.at:2: test-classifier empty"
at_fn_check_prepare_trace "classifier.at:2"
( $at_check_trace; test-classifier empty
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/classifier.at:2"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_13
#AT_START_14
at_fn_group_banner 14 'classifier.at:2' \
  "flow classifier - destroy null" "                 " 2
at_xfail=no
(
  $as_echo "14. $at_setup_line: testing $at_desc ..."
  $at_traceon

   { set +x
$as_echo "$at_srcdir/classifier.at:2: test-classifier destroy-null"
at_fn_check_prepare_trace "classifier.at:2"
( $at_check_trace; test-classifier destroy-null
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/classifier.at:2"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_14
#AT_START_15
at_fn_group_banner 15 'classifier.at:2' \
  "flow classifier - single rule" "                  " 2
at_xfail=no
(
  $as_echo "15. $at_setup_line: testing $at_desc ..."
  $at_traceon

   { set +x
$as_echo "$at_srcdir/classifier.at:2: test-classifier single-rule"
at_fn_check_prepare_trace "classifier.at:2"
( $at_check_trace; test-classifier single-rule
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/classifier.at:2"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_15
#AT_START_16
at_fn_group_banner 16 'classifier.at:2' \
  "flow classifier - rule replacement" "             " 2
at_xfail=no
(
  $as_echo "16. $at_setup_line: testing $at_desc ..."
  $at_traceon

   { set +x
$as_echo "$at_srcdir/classifier.at:2: test-classifier rule-replacement"
at_fn_check_prepare_trace "classifier.at:2"
( $at_check_trace; test-classifier rule-replacement
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/classifier.at:2"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_16
#AT_START_17
at_fn_group_banner 17 'classifier.at:2' \
  "flow classifier - many rules in one list" "       " 2
at_xfail=no
(
  $as_echo "17. $at_setup_line: testing $at_desc ..."
  $at_traceon

   { set +x
$as_echo "$at_srcdir/classifier.at:2: test-classifier many-rules-in-one-list"
at_fn_check_prepare_trace "classifier.at:2"
( $at_check_trace; test-classifier many-rules-in-one-list
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/classifier.at:2"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_17
#AT_START_18
at_fn_group_banner 18 'classifier.at:2' \
  "flow classifier - many rules in one table" "      " 2
at_xfail=no
(
  $as_echo "18. $at_setup_line: testing $at_desc ..."
  $at_traceon

   { set +x
$as_echo "$at_srcdir/classifier.at:2: test-classifier many-rules-in-one-table"
at_fn_check_prepare_trace "classifier.at:2"
( $at_check_trace; test-classifier many-rules-in-one-table
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/classifier.at:2"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_18
#AT_START_19
at_fn_group_banner 19 'classifier.at:2' \
  "flow classifier - many rules in two tables" "     " 2
at_xfail=no
(
  $as_echo "19. $at_setup_line: testing $at_desc ..."
  $at_traceon

   { set +x
$as_echo "$at_srcdir/classifier.at:2: test-classifier many-rules-in-two-tables"
at_fn_check_prepare_trace "classifier.at:2"
( $at_check_trace; test-classifier many-rules-in-two-tables
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/classifier.at:2"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_19
#AT_START_20
at_fn_group_banner 20 'classifier.at:2' \
  "flow classifier - many rules in five tables" "    " 2
at_xfail=no
(
  $as_echo "20. $at_setup_line: testing $at_desc ..."
  $at_traceon

   { set +x
$as_echo "$at_srcdir/classifier.at:2: test-classifier many-rules-in-five-tables"
at_fn_check_prepare_trace "classifier.at:2"
( $at_check_trace; test-classifier many-rules-in-five-tables
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/classifier.at:2"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_20
#AT_START_21
at_fn_group_banner 21 'check-structs.at:10' \
  "check struct tail padding" "                      " 3
at_xfail=no
(
  $as_echo "21. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "check-structs.at:11" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/check-structs.at:11"
   cat >test.h <<'_ATEOF'
struct xyz {
    uint16_t x;
};
_ATEOF

   { set +x
$as_echo "$at_srcdir/check-structs.at:11: \$PYTHON \$top_srcdir/build-aux/check-structs test.h"
at_fn_check_prepare_dynamic "$PYTHON $top_srcdir/build-aux/check-structs test.h" "check-structs.at:11"
( $at_check_trace; $PYTHON $top_srcdir/build-aux/check-structs test.h
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "test.h:3: warning: struct xyz needs 2 bytes of tail padding
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/check-structs.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_21
#AT_START_22
at_fn_group_banner 22 'check-structs.at:20' \
  "check struct internal alignment" "                " 3
at_xfail=no
(
  $as_echo "22. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "check-structs.at:21" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/check-structs.at:21"
   cat >test.h <<'_ATEOF'
struct xyzzy {
    uint16_t x;
    uint32_t y;
};
_ATEOF

   { set +x
$as_echo "$at_srcdir/check-structs.at:21: \$PYTHON \$top_srcdir/build-aux/check-structs test.h"
at_fn_check_prepare_dynamic "$PYTHON $top_srcdir/build-aux/check-structs test.h" "check-structs.at:21"
( $at_check_trace; $PYTHON $top_srcdir/build-aux/check-structs test.h
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "test.h:3: warning: struct xyzzy member y is 2 bytes short of 4-byte alignment
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/check-structs.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_22
#AT_START_23
at_fn_group_banner 23 'check-structs.at:31' \
  "check struct declared size" "                     " 3
at_xfail=no
(
  $as_echo "23. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "check-structs.at:32" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/check-structs.at:32"
   cat >test.h <<'_ATEOF'
struct wibble {
    uint64_t z;
};
OFP_ASSERT(sizeof(struct wibble) == 12);

_ATEOF

   { set +x
$as_echo "$at_srcdir/check-structs.at:32: \$PYTHON \$top_srcdir/build-aux/check-structs test.h"
at_fn_check_prepare_dynamic "$PYTHON $top_srcdir/build-aux/check-structs test.h" "check-structs.at:32"
( $at_check_trace; $PYTHON $top_srcdir/build-aux/check-structs test.h
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "test.h:4: warning: struct wibble is 8 bytes long but declared as 12
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/check-structs.at:32"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_23
#AT_START_24
at_fn_group_banner 24 'daemon.at:3' \
  "daemon" "                                         " 4
at_xfail=no
(
  $as_echo "24. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon.at:4" >"$at_check_line_file"
(test "$CHECK_LCOV" = true) \
  && at_fn_check_skip 77 "$at_srcdir/daemon.at:4" # lcov wrapper make pids differ
{ set +x
$as_echo "$at_srcdir/daemon.at:5: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon.at:5"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon.at:5: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:5"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }



# Start the daemon and wait for the pidfile to get created
# and that its contents are the correct pid.
{ set +x
$as_echo "$at_srcdir/daemon.at:10: ovsdb-server --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db& echo \$! > expected"
at_fn_check_prepare_dynamic "ovsdb-server --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db& echo $! > expected" "daemon.at:10"
( $at_check_trace; ovsdb-server --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db& echo $! > expected
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:10"
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:11: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:11"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:11"
if $at_failed; then :
  kill `cat expected`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:12: pid=\`cat pid\` && expected=\`cat expected\` && test \"\$pid\" = \"\$expected\""
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:12"
( $at_check_trace; pid=`cat pid` && expected=`cat expected` && test "$pid" = "$expected"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:12"
if $at_failed; then :
  kill `cat expected`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:15: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:15"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:15"
if $at_failed; then :
  kill `cat expected`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

# Kill the daemon and make sure that the pidfile gets deleted.
kill `cat expected`
{ set +x
$as_echo "$at_srcdir/daemon.at:18: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat expected\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat expected\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:18"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat expected`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat expected`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:18"
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:19: test ! -e pid"
at_fn_check_prepare_trace "daemon.at:19"
( $at_check_trace; test ! -e pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:19"
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_24
#AT_START_25
at_fn_group_banner 25 'daemon.at:22' \
  "daemon --monitor" "                               " 4
at_xfail=no
(
  $as_echo "25. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon.at:23" >"$at_check_line_file"
(test "$CHECK_LCOV" = true) \
  && at_fn_check_skip 77 "$at_srcdir/daemon.at:23" # lcov wrapper make pids differ
{ set +x
$as_echo "$at_srcdir/daemon.at:24: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon.at:24"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon.at:24: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:24"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }





# Start the daemon and wait for the pidfile to get created.
{ set +x
$as_echo "$at_srcdir/daemon.at:30: ovsdb-server --monitor --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db& echo \$! > parent"
at_fn_check_prepare_dynamic "ovsdb-server --monitor --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db& echo $! > parent" "daemon.at:30"
( $at_check_trace; ovsdb-server --monitor --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db& echo $! > parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:30"
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:31: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:31"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:31"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is our child process.
{ set +x
$as_echo "$at_srcdir/daemon.at:34: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:34"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:34"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:35: ps -o ppid= -p \`cat pid\` > parentpid"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:35"
( $at_check_trace; ps -o ppid= -p `cat pid` > parentpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:35"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:37: parentpid=\`cat parentpid\` &&
   parent=\`cat parent\` &&
   test \$parentpid = \$parent"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:37"
( $at_check_trace; parentpid=`cat parentpid` &&
   parent=`cat parent` &&
   test $parentpid = $parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:37"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Kill the daemon process, making it look like a segfault,
# and wait for a new child process to get spawned.
{ set +x
$as_echo "$at_srcdir/daemon.at:44: cp pid oldpid"
at_fn_check_prepare_trace "daemon.at:44"
( $at_check_trace; cp pid oldpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:44"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:45: kill -SEGV \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:45"
( $at_check_trace; kill -SEGV `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:45"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:46: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat oldpid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat oldpid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:46"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat oldpid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat oldpid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:46"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:47: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid && test \`cat pid\` != \`cat oldpid\`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid && test \`cat pid\` != \`cat oldpid\`; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:47"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid && test `cat pid` != `cat oldpid`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid && test `cat pid` != `cat oldpid`; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:47"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:49: cp pid newpid"
at_fn_check_prepare_trace "daemon.at:49"
( $at_check_trace; cp pid newpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:49"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is our child process.
{ set +x
$as_echo "$at_srcdir/daemon.at:52: ps -o ppid= -p \`cat pid\` > parentpid"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:52"
( $at_check_trace; ps -o ppid= -p `cat pid` > parentpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:52"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:54: parentpid=\`cat parentpid\` &&
   parent=\`cat parent\` &&
   test \$parentpid = \$parent"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:54"
( $at_check_trace; parentpid=`cat parentpid` &&
   parent=`cat parent` &&
   test $parentpid = $parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:54"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Kill the daemon process with SIGTERM, and wait for the daemon
# and the monitor processes to go away and the pidfile to get deleted.
{ set +x
$as_echo "$at_srcdir/daemon.at:61: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:61"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:61"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:62: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat parent\` || kill -0 \`cat newpid\` || test -e pid; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat parent\` || kill -0 \`cat newpid\` || test -e pid; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:62"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat parent` || kill -0 `cat newpid` || test -e pid; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat parent` || kill -0 `cat newpid` || test -e pid; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:62"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_25
#AT_START_26
at_fn_group_banner 26 'daemon.at:66' \
  "daemon --detach" "                                " 4
at_xfail=no
(
  $as_echo "26. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon.at:67" >"$at_check_line_file"
(test "$CHECK_LCOV" = true) \
  && at_fn_check_skip 77 "$at_srcdir/daemon.at:67" # lcov wrapper make pids differ

{ set +x
$as_echo "$at_srcdir/daemon.at:69: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon.at:69"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:69"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon.at:69: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:69"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:69"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

# Start the daemon and make sure that the pidfile exists immediately.
# We don't wait for the pidfile to get created because the daemon is
# supposed to do so before the parent exits.
{ set +x
$as_echo "$at_srcdir/daemon.at:73: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "daemon.at:73"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:73"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:74: test -s pid"
at_fn_check_prepare_trace "daemon.at:74"
( $at_check_trace; test -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:74"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:75: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:75"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:75"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

# Kill the daemon and make sure that the pidfile gets deleted.
cp pid saved-pid
kill `cat pid`
{ set +x
$as_echo "$at_srcdir/daemon.at:79: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat saved-pid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat saved-pid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:79"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat saved-pid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat saved-pid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:79"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:80: test ! -e pid"
at_fn_check_prepare_trace "daemon.at:80"
( $at_check_trace; test ! -e pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:80"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_26
#AT_START_27
at_fn_group_banner 27 'daemon.at:83' \
  "daemon --detach --monitor" "                      " 4
at_xfail=no
(
  $as_echo "27. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon.at:84" >"$at_check_line_file"
(test "$CHECK_LCOV" = true) \
  && at_fn_check_skip 77 "$at_srcdir/daemon.at:84" # lcov wrapper make pids differ

{ set +x
$as_echo "$at_srcdir/daemon.at:87: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon.at:87"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:87"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon.at:87: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:87"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:87"
$at_failed && at_fn_log_failure
$at_traceon; }







# Start the daemon and make sure that the pidfile exists immediately.
# We don't wait for the pidfile to get created because the daemon is
# supposed to do so before the parent exits.
{ set +x
$as_echo "$at_srcdir/daemon.at:97: ovsdb-server --detach --pidfile=\$PWD/daemon --monitor --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/daemon --monitor --remote=punix:socket --unixctl=$PWD/unixctl db" "daemon.at:97"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/daemon --monitor --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:97"
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:98: test -s daemon"
at_fn_check_prepare_trace "daemon.at:98"
( $at_check_trace; test -s daemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:98"
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is a running process,
# and that the parent process of that process is init.
{ set +x
$as_echo "$at_srcdir/daemon.at:102: kill -0 \`cat daemon\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:102"
( $at_check_trace; kill -0 `cat daemon`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:102"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:103: ps -o ppid= -p \`cat daemon\` > monitor"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:103"
( $at_check_trace; ps -o ppid= -p `cat daemon` > monitor
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:103"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:104: kill -0 \`cat monitor\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:104"
( $at_check_trace; kill -0 `cat monitor`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:104"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:105: ps -o ppid= -p \`cat monitor\` > init"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:105"
( $at_check_trace; ps -o ppid= -p `cat monitor` > init
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:105"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:106: test \`cat init\` = 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:106"
( $at_check_trace; test `cat init` = 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:106"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

# Kill the daemon process, making it look like a segfault,
# and wait for a new daemon process to get spawned.
{ set +x
$as_echo "$at_srcdir/daemon.at:109: cp daemon olddaemon"
at_fn_check_prepare_trace "daemon.at:109"
( $at_check_trace; cp daemon olddaemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:109"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:110: kill -SEGV \`cat daemon\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:110"
( $at_check_trace; kill -SEGV `cat daemon`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:110"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:111: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat olddaemon\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat olddaemon\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:111"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat olddaemon`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat olddaemon`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:111"
if $at_failed; then :
  kill `cat olddaemon daemon`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:112: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s daemon && test \`cat daemon\` != \`cat olddaemon\`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s daemon && test \`cat daemon\` != \`cat olddaemon\`; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:112"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s daemon && test `cat daemon` != `cat olddaemon`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s daemon && test `cat daemon` != `cat olddaemon`; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:112"
if $at_failed; then :
  kill `cat olddaemon daemon`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:114: cp daemon newdaemon"
at_fn_check_prepare_trace "daemon.at:114"
( $at_check_trace; cp daemon newdaemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:114"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is our child process.
{ set +x
$as_echo "$at_srcdir/daemon.at:117: kill -0 \`cat daemon\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:117"
( $at_check_trace; kill -0 `cat daemon`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:117"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:118: diff olddaemon newdaemon"
at_fn_check_prepare_trace "daemon.at:118"
( $at_check_trace; diff olddaemon newdaemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/daemon.at:118"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:119: ps -o ppid= -p \`cat daemon\` > newmonitor"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:119"
( $at_check_trace; ps -o ppid= -p `cat daemon` > newmonitor
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:119"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:120: diff monitor newmonitor"
at_fn_check_prepare_trace "daemon.at:120"
( $at_check_trace; diff monitor newmonitor
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:120"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:121: kill -0 \`cat newmonitor\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:121"
( $at_check_trace; kill -0 `cat newmonitor`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:121"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:122: ps -o ppid= -p \`cat newmonitor\` > init"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:122"
( $at_check_trace; ps -o ppid= -p `cat newmonitor` > init
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:122"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:123: test \`cat init\` = 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:123"
( $at_check_trace; test `cat init` = 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:123"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

# Kill the daemon process with SIGTERM, and wait for the daemon
# and the monitor processes to go away and the pidfile to get deleted.
{ set +x
$as_echo "$at_srcdir/daemon.at:126: kill \`cat daemon\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:126"
( $at_check_trace; kill `cat daemon`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:126"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:127: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat monitor\` || kill -0 \`cat newdaemon\` || test -e daemon; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat monitor\` || kill -0 \`cat newdaemon\` || test -e daemon; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:127"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat monitor` || kill -0 `cat newdaemon` || test -e daemon; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat monitor` || kill -0 `cat newdaemon` || test -e daemon; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:127"
if $at_failed; then :
  kill `cat monitor newdaemon`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }


  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_27
#AT_START_28
at_fn_group_banner 28 'daemon.at:133' \
  "daemon --detach startup errors" "                 " 4
at_xfail=no
(
  $as_echo "28. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/daemon.at:135: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon.at:135"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:135"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon.at:135: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:135"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:135"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:136: ovsdb-server --detach --pidfile=\$PWD/pid --unixctl=\$PWD/nonexistent/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/nonexistent/unixctl db" "daemon.at:136"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/nonexistent/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/daemon.at:136"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:137: grep 'ovsdb-server: could not initialize control socket' stderr"
at_fn_check_prepare_trace "daemon.at:137"
( $at_check_trace; grep 'ovsdb-server: could not initialize control socket' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:137"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:139: test ! -s pid"
at_fn_check_prepare_trace "daemon.at:139"
( $at_check_trace; test ! -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:139"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_28
#AT_START_29
at_fn_group_banner 29 'daemon.at:142' \
  "daemon --detach --monitor startup errors" "       " 4
at_xfail=no
(
  $as_echo "29. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/daemon.at:144: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon.at:144"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:144"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon.at:144: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:144"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:144"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:145: ovsdb-server --detach --pidfile=\$PWD/pid --monitor --unixctl=\$PWD/nonexistent/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --monitor --unixctl=$PWD/nonexistent/unixctl db" "daemon.at:145"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --monitor --unixctl=$PWD/nonexistent/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/daemon.at:145"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:146: grep 'ovsdb-server: could not initialize control socket' stderr"
at_fn_check_prepare_trace "daemon.at:146"
( $at_check_trace; grep 'ovsdb-server: could not initialize control socket' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:146"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:148: test ! -s pid"
at_fn_check_prepare_trace "daemon.at:148"
( $at_check_trace; test ! -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:148"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_29
#AT_START_30
at_fn_group_banner 30 'daemon.at:151' \
  "daemon --detach closes standard fds" "            " 4
at_xfail=no
(
  $as_echo "30. $at_setup_line: testing $at_desc ..."
  $at_traceon




{ set +x
$as_echo "$at_srcdir/daemon.at:155: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon.at:155"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:155"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon.at:155: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:155"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:155"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:156: (yes 2>stderr; echo \$? > status) | ovsdb-server --detach --pidfile=\$PWD/pid --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "daemon.at:156"
( $at_check_trace; (yes 2>stderr; echo $? > status) | ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:156"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:157: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:157"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:157"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:158: test -s status"
at_fn_check_prepare_trace "daemon.at:158"
( $at_check_trace; test -s status
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:158"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

if grep '[bB]roken pipe' stderr >/dev/null 2>&1; then
  # Something in the environment caused SIGPIPE to be ignored, but
  # 'yes' at least told us that it got EPIPE.  Good enough; we know
  # that stdout was closed.
  :
else
  # Otherwise make sure that 'yes' died from SIGPIPE.
  { set +x
$as_echo "$at_srcdir/daemon.at:166: kill -l \`cat status\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:166"
( $at_check_trace; kill -l `cat status`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "PIPE
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:166"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

fi
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_30
#AT_START_31
at_fn_group_banner 31 'daemon.at:171' \
  "daemon --detach --monitor closes standard fds" "  " 4
at_xfail=no
(
  $as_echo "31. $at_setup_line: testing $at_desc ..."
  $at_traceon




{ set +x
$as_echo "$at_srcdir/daemon.at:175: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon.at:175"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:175"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon.at:175: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon.at:175"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:175"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:176: (yes 2>stderr; echo \$? > status) | ovsdb-server --detach --monitor --pidfile=\$PWD/pid --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "daemon.at:176"
( $at_check_trace; (yes 2>stderr; echo $? > status) | ovsdb-server --detach --monitor --pidfile=$PWD/pid --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:176"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:177: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:177"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:177"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon.at:178: test -s status"
at_fn_check_prepare_trace "daemon.at:178"
( $at_check_trace; test -s status
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:178"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

if grep '[bB]roken pipe' stderr >/dev/null 2>&1; then
  # Something in the environment caused SIGPIPE to be ignored, but
  # 'yes' at least told us that it got EPIPE.  Good enough; we know
  # that stdout was closed.
  :
else
  # Otherwise make sure that 'yes' died from SIGPIPE.
  { set +x
$as_echo "$at_srcdir/daemon.at:186: kill -l \`cat status\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon.at:186"
( $at_check_trace; kill -l `cat status`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "PIPE
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon.at:186"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

fi
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_31
#AT_START_32
at_fn_group_banner 32 'daemon-py.at:3' \
  "daemon - Python" "                                " 5
at_xfail=no
(
  $as_echo "32. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon-py.at:4" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/daemon-py.at:4"


# Start the daemon and wait for the pidfile to get created
# and that its contents are the correct pid.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:9: \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/pid& echo \$! > expected"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid& echo $! > expected" "daemon-py.at:9"
( $at_check_trace; $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid& echo $! > expected
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:9"
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:10: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "daemon-py.at:10"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:10"
if $at_failed; then :
  kill `cat expected`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:11: pid=\`cat pid\` && expected=\`cat expected\` && test \"\$pid\" = \"\$expected\""
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:11"
( $at_check_trace; pid=`cat pid` && expected=`cat expected` && test "$pid" = "$expected"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:11"
if $at_failed; then :
  kill `cat expected`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:14: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:14"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:14"
if $at_failed; then :
  kill `cat expected`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

# Kill the daemon and make sure that the pidfile gets deleted.
kill `cat expected`
{ set +x
$as_echo "$at_srcdir/daemon-py.at:17: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat expected\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat expected\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:17"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat expected`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat expected`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:17"
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:18: test ! -e pid"
at_fn_check_prepare_trace "daemon-py.at:18"
( $at_check_trace; test ! -e pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:18"
$at_failed && at_fn_log_failure  \
"pid" \
"expected"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_32
#AT_START_33
at_fn_group_banner 33 'daemon-py.at:21' \
  "daemon --monitor - Python" "                      " 5
at_xfail=no
(
  $as_echo "33. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon-py.at:22" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/daemon-py.at:22"




# Start the daemon and wait for the pidfile to get created.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:28: \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/pid --monitor& echo \$! > parent"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --monitor& echo $! > parent" "daemon-py.at:28"
( $at_check_trace; $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --monitor& echo $! > parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:28"
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:29: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "daemon-py.at:29"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:29"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is our child process.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:32: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:32"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:32"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:33: ps -o ppid= -p \`cat pid\` > parentpid"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:33"
( $at_check_trace; ps -o ppid= -p `cat pid` > parentpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:33"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:35: parentpid=\`cat parentpid\` &&
   parent=\`cat parent\` &&
   test \$parentpid = \$parent"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:35"
( $at_check_trace; parentpid=`cat parentpid` &&
   parent=`cat parent` &&
   test $parentpid = $parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:35"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Kill the daemon process, making it look like a segfault,
# and wait for a new child process to get spawned.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:42: cp pid oldpid"
at_fn_check_prepare_trace "daemon-py.at:42"
( $at_check_trace; cp pid oldpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:42"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:43: kill -SEGV \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:43"
( $at_check_trace; kill -SEGV `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:43"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:44: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat oldpid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat oldpid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:44"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat oldpid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat oldpid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:44"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:45: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid && test \`cat pid\` != \`cat oldpid\`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid && test \`cat pid\` != \`cat oldpid\`; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:45"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid && test `cat pid` != `cat oldpid`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid && test `cat pid` != `cat oldpid`; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:45"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:47: cp pid newpid"
at_fn_check_prepare_trace "daemon-py.at:47"
( $at_check_trace; cp pid newpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:47"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is our child process.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:50: ps -o ppid= -p \`cat pid\` > parentpid"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:50"
( $at_check_trace; ps -o ppid= -p `cat pid` > parentpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:50"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:52: parentpid=\`cat parentpid\` &&
   parent=\`cat parent\` &&
   test \$parentpid = \$parent"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:52"
( $at_check_trace; parentpid=`cat parentpid` &&
   parent=`cat parent` &&
   test $parentpid = $parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:52"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Kill the daemon process with SIGTERM, and wait for the daemon
# and the monitor processes to go away and the pidfile to get deleted.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:59: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:59"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:59"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:60: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat parent\` || kill -0 \`cat newpid\` || test -e pid; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat parent\` || kill -0 \`cat newpid\` || test -e pid; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:60"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat parent` || kill -0 `cat newpid` || test -e pid; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat parent` || kill -0 `cat newpid` || test -e pid; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:60"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_33
#AT_START_34
at_fn_group_banner 34 'daemon-py.at:64' \
  "daemon --monitor restart exit code - Python" "    " 5
at_xfail=no
(
  $as_echo "34. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon-py.at:65" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/daemon-py.at:65"




# Start the daemon and wait for the pidfile to get created.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:71: \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/pid --monitor& echo \$! > parent"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --monitor& echo $! > parent" "daemon-py.at:71"
( $at_check_trace; $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --monitor& echo $! > parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:71"
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:72: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "daemon-py.at:72"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:72"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is our child process.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:75: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:75"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:75"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:76: ps -o ppid= -p \`cat pid\` > parentpid"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:76"
( $at_check_trace; ps -o ppid= -p `cat pid` > parentpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:76"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:78: parentpid=\`cat parentpid\` &&
   parent=\`cat parent\` &&
   test \$parentpid = \$parent"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:78"
( $at_check_trace; parentpid=`cat parentpid` &&
   parent=`cat parent` &&
   test $parentpid = $parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:78"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# HUP the daemon process causing it to throw an exception,
# and wait for a new child process to get spawned.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:85: cp pid oldpid"
at_fn_check_prepare_trace "daemon-py.at:85"
( $at_check_trace; cp pid oldpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:85"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:86: kill -HUP \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:86"
( $at_check_trace; kill -HUP `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:86"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:87: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat oldpid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat oldpid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:87"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat oldpid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat oldpid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:87"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:88: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid && test \`cat pid\` != \`cat oldpid\`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid && test \`cat pid\` != \`cat oldpid\`; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:88"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s pid && test `cat pid` != `cat oldpid`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s pid && test `cat pid` != `cat oldpid`; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:88"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:90: cp pid newpid"
at_fn_check_prepare_trace "daemon-py.at:90"
( $at_check_trace; cp pid newpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:90"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is our child process.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:93: ps -o ppid= -p \`cat pid\` > parentpid"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:93"
( $at_check_trace; ps -o ppid= -p `cat pid` > parentpid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:93"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:95: parentpid=\`cat parentpid\` &&
   parent=\`cat parent\` &&
   test \$parentpid = \$parent"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:95"
( $at_check_trace; parentpid=`cat parentpid` &&
   parent=`cat parent` &&
   test $parentpid = $parent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:95"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

# Kill the daemon process with SIGTERM, and wait for the daemon
# and the monitor processes to go away and the pidfile to get deleted.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:102: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:102"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:102"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:103: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat parent\` || kill -0 \`cat newpid\` || test -e pid; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat parent\` || kill -0 \`cat newpid\` || test -e pid; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:103"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat parent` || kill -0 `cat newpid` || test -e pid; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat parent` || kill -0 `cat newpid` || test -e pid; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:103"
if $at_failed; then :
  kill `cat parent`
fi
$at_failed && at_fn_log_failure  \
"pid" \
"parent" \
"parentpid" \
"newpid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_34
#AT_START_35
at_fn_group_banner 35 'daemon-py.at:107' \
  "daemon --detach - Python" "                       " 5
at_xfail=no
(
  $as_echo "35. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon-py.at:108" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/daemon-py.at:108"

# Start the daemon and make sure that the pidfile exists immediately.
# We don't wait for the pidfile to get created because the daemon is
# supposed to do so before the parent exits.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:113: \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/pid --detach"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --detach" "daemon-py.at:113"
( $at_check_trace; $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --detach
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:113"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:114: test -s pid"
at_fn_check_prepare_trace "daemon-py.at:114"
( $at_check_trace; test -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:114"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:115: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:115"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:115"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

# Kill the daemon and make sure that the pidfile gets deleted.
cp pid saved-pid
kill `cat pid`
{ set +x
$as_echo "$at_srcdir/daemon-py.at:119: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat saved-pid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat saved-pid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:119"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat saved-pid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat saved-pid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:119"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:120: test ! -e pid"
at_fn_check_prepare_trace "daemon-py.at:120"
( $at_check_trace; test ! -e pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:120"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_35
#AT_START_36
at_fn_group_banner 36 'daemon-py.at:123' \
  "daemon --detach --monitor - Python" "             " 5
at_xfail=no
(
  $as_echo "36. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon-py.at:124" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/daemon-py.at:124"







# Start the daemon and make sure that the pidfile exists immediately.
# We don't wait for the pidfile to get created because the daemon is
# supposed to do so before the parent exits.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:136: \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/daemon --detach --monitor"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/daemon --detach --monitor" "daemon-py.at:136"
( $at_check_trace; $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/daemon --detach --monitor
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:136"
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:137: test -s daemon"
at_fn_check_prepare_trace "daemon-py.at:137"
( $at_check_trace; test -s daemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:137"
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is a running process,
# and that the parent process of that process is init.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:141: kill -0 \`cat daemon\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:141"
( $at_check_trace; kill -0 `cat daemon`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:141"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:142: ps -o ppid= -p \`cat daemon\` > monitor"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:142"
( $at_check_trace; ps -o ppid= -p `cat daemon` > monitor
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:142"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:143: kill -0 \`cat monitor\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:143"
( $at_check_trace; kill -0 `cat monitor`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:143"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:144: ps -o ppid= -p \`cat monitor\` > init"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:144"
( $at_check_trace; ps -o ppid= -p `cat monitor` > init
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:144"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:145: test \`cat init\` = 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:145"
( $at_check_trace; test `cat init` = 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:145"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

# Kill the daemon process, making it look like a segfault,
# and wait for a new daemon process to get spawned.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:148: cp daemon olddaemon"
at_fn_check_prepare_trace "daemon-py.at:148"
( $at_check_trace; cp daemon olddaemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:148"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:149: kill -SEGV \`cat daemon\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:149"
( $at_check_trace; kill -SEGV `cat daemon`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:149"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:150: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat olddaemon\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat olddaemon\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:150"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat olddaemon`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat olddaemon`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:150"
if $at_failed; then :
  kill `cat olddaemon daemon`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:151: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s daemon && test \`cat daemon\` != \`cat olddaemon\`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s daemon && test \`cat daemon\` != \`cat olddaemon\`; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:151"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test -s daemon && test `cat daemon` != `cat olddaemon`; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test -s daemon && test `cat daemon` != `cat olddaemon`; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:151"
if $at_failed; then :
  kill `cat olddaemon daemon`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:153: cp daemon newdaemon"
at_fn_check_prepare_trace "daemon-py.at:153"
( $at_check_trace; cp daemon newdaemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:153"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

# Check that the pidfile names a running process,
# and that the parent process of that process is our child process.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:156: kill -0 \`cat daemon\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:156"
( $at_check_trace; kill -0 `cat daemon`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:156"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:157: diff olddaemon newdaemon"
at_fn_check_prepare_trace "daemon-py.at:157"
( $at_check_trace; diff olddaemon newdaemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/daemon-py.at:157"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:158: ps -o ppid= -p \`cat daemon\` > newmonitor"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:158"
( $at_check_trace; ps -o ppid= -p `cat daemon` > newmonitor
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:158"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:159: diff monitor newmonitor"
at_fn_check_prepare_trace "daemon-py.at:159"
( $at_check_trace; diff monitor newmonitor
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:159"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:160: kill -0 \`cat newmonitor\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:160"
( $at_check_trace; kill -0 `cat newmonitor`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:160"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:161: ps -o ppid= -p \`cat newmonitor\` > init"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:161"
( $at_check_trace; ps -o ppid= -p `cat newmonitor` > init
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:161"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:162: test \`cat init\` = 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:162"
( $at_check_trace; test `cat init` = 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:162"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

# Kill the daemon process with SIGTERM, and wait for the daemon
# and the monitor processes to go away and the pidfile to get deleted.
{ set +x
$as_echo "$at_srcdir/daemon-py.at:165: kill \`cat daemon\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:165"
( $at_check_trace; kill `cat daemon`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:165"
if $at_failed; then :
  kill `cat daemon monitor`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:166: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat monitor\` || kill -0 \`cat newdaemon\` || test -e daemon; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat monitor\` || kill -0 \`cat newdaemon\` || test -e daemon; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:166"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat monitor` || kill -0 `cat newdaemon` || test -e daemon; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat monitor` || kill -0 `cat newdaemon` || test -e daemon; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:166"
if $at_failed; then :
  kill `cat monitor newdaemon`
fi
$at_failed && at_fn_log_failure  \
"daemon" \
"olddaemon" \
"newdaemon" \
"monitor" \
"newmonitor" \
"init"
$at_traceon; }


  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_36
#AT_START_37
at_fn_group_banner 37 'daemon-py.at:172' \
  "daemon --detach startup errors - Python" "        " 5
at_xfail=no
(
  $as_echo "37. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon-py.at:173" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/daemon-py.at:173"

{ set +x
$as_echo "$at_srcdir/daemon-py.at:175: \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/pid --detach --bail"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --detach --bail" "daemon-py.at:175"
( $at_check_trace; $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --detach --bail
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/daemon-py.at:175"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:176: grep 'test-daemon.py: exiting after daemonize_start() as requested' stderr"
at_fn_check_prepare_trace "daemon-py.at:176"
( $at_check_trace; grep 'test-daemon.py: exiting after daemonize_start() as requested' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:176"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:178: test ! -s pid"
at_fn_check_prepare_trace "daemon-py.at:178"
( $at_check_trace; test ! -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:178"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_37
#AT_START_38
at_fn_group_banner 38 'daemon-py.at:181' \
  "daemon --detach --monitor startup errors - Python" "" 5
at_xfail=no
(
  $as_echo "38. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon-py.at:182" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/daemon-py.at:182"

{ set +x
$as_echo "$at_srcdir/daemon-py.at:184: \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/pid --detach --monitor --bail"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --detach --monitor --bail" "daemon-py.at:184"
( $at_check_trace; $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --detach --monitor --bail
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/daemon-py.at:184"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:185: grep 'test-daemon.py: exiting after daemonize_start() as requested' stderr"
at_fn_check_prepare_trace "daemon-py.at:185"
( $at_check_trace; grep 'test-daemon.py: exiting after daemonize_start() as requested' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:185"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:187: test ! -s pid"
at_fn_check_prepare_trace "daemon-py.at:187"
( $at_check_trace; test ! -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:187"
$at_failed && at_fn_log_failure  \
"pid"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_38
#AT_START_39
at_fn_group_banner 39 'daemon-py.at:190' \
  "daemon --detach closes standard fds - Python" "   " 5
at_xfail=no
(
  $as_echo "39. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "daemon-py.at:191" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/daemon-py.at:191"



{ set +x
$as_echo "$at_srcdir/daemon-py.at:195: (yes 2>stderr; echo \$? > status) | \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/pid --detach"
at_fn_check_prepare_notrace 'a shell pipeline' "daemon-py.at:195"
( $at_check_trace; (yes 2>stderr; echo $? > status) | $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --detach
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:195"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:196: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:196"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:196"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:197: test -s status"
at_fn_check_prepare_trace "daemon-py.at:197"
( $at_check_trace; test -s status
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:197"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

if grep '[bB]roken pipe' stderr >/dev/null 2>&1; then
  # Something in the environment caused SIGPIPE to be ignored, but
  # 'yes' at least told us that it got EPIPE.  Good enough; we know
  # that stdout was closed.
  :
else
  # Otherwise make sure that 'yes' died from SIGPIPE.
  { set +x
$as_echo "$at_srcdir/daemon-py.at:205: kill -l \`cat status\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:205"
( $at_check_trace; kill -l `cat status`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "PIPE
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:205"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

fi
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_39
#AT_START_40
at_fn_group_banner 40 'daemon-py.at:210' \
  "daemon --detach --monitor closes standard fds" "  " 5
at_xfail=no
(
  $as_echo "40. $at_setup_line: testing $at_desc ..."
  $at_traceon




{ set +x
$as_echo "$at_srcdir/daemon-py.at:214: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "daemon-py.at:214"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:214"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/daemon-py.at:214: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "daemon-py.at:214"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:214"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:215: (yes 2>stderr; echo \$? > status) | \$PYTHON \$srcdir/test-daemon.py --pidfile-name=\$PWD/pid --detach"
at_fn_check_prepare_notrace 'a shell pipeline' "daemon-py.at:215"
( $at_check_trace; (yes 2>stderr; echo $? > status) | $PYTHON $srcdir/test-daemon.py --pidfile-name=$PWD/pid --detach
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:215"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:216: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:216"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:216"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/daemon-py.at:217: test -s status"
at_fn_check_prepare_trace "daemon-py.at:217"
( $at_check_trace; test -s status
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:217"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

if grep '[bB]roken pipe' stderr >/dev/null 2>&1; then
  # Something in the environment caused SIGPIPE to be ignored, but
  # 'yes' at least told us that it got EPIPE.  Good enough; we know
  # that stdout was closed.
  :
else
  # Otherwise make sure that 'yes' died from SIGPIPE.
  { set +x
$as_echo "$at_srcdir/daemon-py.at:225: kill -l \`cat status\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "daemon-py.at:225"
( $at_check_trace; kill -l `cat status`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "PIPE
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/daemon-py.at:225"
$at_failed && at_fn_log_failure  \
"pid" \
"status" \
"stderr"
$at_traceon; }

fi
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_40
#AT_START_41
at_fn_group_banner 41 'ovs-ofctl.at:3' \
  "ovs-ofctl parse-flows" "                          " 6
at_xfail=no
(
  $as_echo "41. $at_setup_line: testing $at_desc ..."
  $at_traceon

cat >flows.txt <<'_ATEOF'

# comment
tcp,tp_src=123,actions=flood
in_port=LOCAL dl_vlan=9 dl_src=00:0A:E4:25:6B:B0 actions=drop
arp,nw_src=192.168.0.1 actions=drop_spoofed_arp,NORMAL
udp dl_vlan_pcp=7 idle_timeout=5 actions=strip_vlan output:0
tcp,nw_src=192.168.0.3,tp_dst=80 actions=set_queue:37,output:1
udp,nw_src=192.168.0.3,tp_dst=53 actions=pop_queue,output:1
cookie=0x123456789abcdef hard_timeout=10 priority=60000 actions=controller
actions=note:41.42.43,note:00.01.02.03.04.05.06.07,note
tun_id=0x1234,cookie=0x5678,actions=flood
actions=set_tunnel:0x1234,set_tunnel64:0x9876,set_tunnel:0x123456789
actions=multipath(eth_src, 50, hrw, 12, 0, NXM_NX_REG0[0..3]),multipath(symmetric_l4, 1024, iter_hash, 5000, 5050, NXM_NX_REG0[0..12])
actions=drop
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovs-ofctl.at:19: ovs-ofctl parse-flows flows.txt
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-ofctl.at:19"
( $at_check_trace; ovs-ofctl parse-flows flows.txt

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-ofctl.at:19"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-ofctl.at:21: sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout"
at_fn_check_prepare_trace "ovs-ofctl.at:21"
( $at_check_trace; sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "OFPT_FLOW_MOD: ADD tcp,tp_src=123 actions=FLOOD
OFPT_FLOW_MOD: ADD in_port=65534,dl_vlan=9,dl_src=00:0a:e4:25:6b:b0 actions=drop
OFPT_FLOW_MOD: ADD arp,nw_src=192.168.0.1 actions=drop_spoofed_arp,NORMAL
OFPT_FLOW_MOD: ADD udp,dl_vlan_pcp=7 idle:5 actions=strip_vlan,output:0
OFPT_FLOW_MOD: ADD tcp,nw_src=192.168.0.3,tp_dst=80 actions=set_queue:37,output:1
OFPT_FLOW_MOD: ADD udp,nw_src=192.168.0.3,tp_dst=53 actions=pop_queue,output:1
OFPT_FLOW_MOD: ADD priority=60000 cookie:0x123456789abcdef hard:10 actions=CONTROLLER:65535
OFPT_FLOW_MOD: ADD actions=note:41.42.43.00.00.00,note:00.01.02.03.04.05.06.07.00.00.00.00.00.00,note:00.00.00.00.00.00
NXT_TUN_ID_FROM_COOKIE: set=1
OFPT_FLOW_MOD: ADD cookie:0x123400005678 actions=FLOOD
OFPT_FLOW_MOD: ADD actions=set_tunnel:0x1234,set_tunnel64:0x9876,set_tunnel64:0x123456789
OFPT_FLOW_MOD: ADD actions=multipath(eth_src,50,hrw,12,0,NXM_NX_REG0[0..3]),multipath(symmetric_l4,1024,iter_hash,5000,5050,NXM_NX_REG0[0..12])
OFPT_FLOW_MOD: ADD actions=drop
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-ofctl.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-ofctl.at:36: sed 's/.*|//' stderr"
at_fn_check_prepare_notrace 'a shell pipeline' "ovs-ofctl.at:36"
( $at_check_trace; sed 's/.*|//' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "normalization changed ofp_match, details:
 pre: wildcards=  0x3820f8  in_port=65534  dl_src=00:0a:e4:25:6b:b0  dl_dst=00:00:00:00:00:00  dl_vlan=    9  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
post: wildcards=  0x3ffff8  in_port=65534  dl_src=00:0a:e4:25:6b:b0  dl_dst=00:00:00:00:00:00  dl_vlan=    9  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
normalization changed ofp_match, details:
 pre: wildcards=  0x3820ff  in_port=65534  dl_src=00:00:00:00:00:00  dl_dst=00:00:00:00:00:00  dl_vlan=    0  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
post: wildcards=  0x3fffff  in_port=65534  dl_src=00:00:00:00:00:00  dl_dst=00:00:00:00:00:00  dl_vlan=    0  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
normalization changed ofp_match, details:
 pre: wildcards=  0x3820ff  in_port=65534  dl_src=00:00:00:00:00:00  dl_dst=00:00:00:00:00:00  dl_vlan=    0  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
post: wildcards=  0x3fffff  in_port=65534  dl_src=00:00:00:00:00:00  dl_dst=00:00:00:00:00:00  dl_vlan=    0  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
normalization changed ofp_match, details:
 pre: wildcards=  0x3820ff  in_port=65534  dl_src=00:00:00:00:00:00  dl_dst=00:00:00:00:00:00  dl_vlan=    0  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
post: wildcards=  0x3fffff  in_port=65534  dl_src=00:00:00:00:00:00  dl_dst=00:00:00:00:00:00  dl_vlan=    0  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
normalization changed ofp_match, details:
 pre: wildcards= 0x23820ff  in_port=65534  dl_src=00:00:00:00:00:00  dl_dst=00:00:00:00:00:00  dl_vlan=    0  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
post: wildcards= 0x23fffff  in_port=65534  dl_src=00:00:00:00:00:00  dl_dst=00:00:00:00:00:00  dl_vlan=    0  dl_vlan_pcp=  0  dl_type=     0  nw_tos=   0  nw_proto=   0  nw_src=         0  nw_dst=         0  tp_src=    0  tp_dst=    0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-ofctl.at:36"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_41
#AT_START_42
at_fn_group_banner 42 'ovs-ofctl.at:55' \
  "ovs-ofctl -F nxm parse-flows" "                   " 6
at_xfail=no
(
  $as_echo "42. $at_setup_line: testing $at_desc ..."
  $at_traceon

cat >flows.txt <<'_ATEOF'

# comment
tcp,tp_src=123,actions=flood
in_port=LOCAL dl_vlan=9 dl_src=00:0A:E4:25:6B:B0 actions=drop
arp,nw_src=192.168.0.1 actions=drop_spoofed_arp,NORMAL
udp dl_vlan_pcp=7 idle_timeout=5 actions=strip_vlan output:0
tcp,nw_src=192.168.0.3,tp_dst=80 actions=set_queue:37,output:1
udp,nw_src=192.168.0.3,tp_dst=53 actions=pop_queue,output:1
cookie=0x123456789abcdef hard_timeout=10 priority=60000 actions=controller
actions=note:41.42.43,note:00.01.02.03.04.05.06.07,note
tun_id=0x1234,cookie=0x5678,actions=flood
actions=drop
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovs-ofctl.at:69: ovs-ofctl -F nxm parse-flows flows.txt"
at_fn_check_prepare_trace "ovs-ofctl.at:69"
( $at_check_trace; ovs-ofctl -F nxm parse-flows flows.txt
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-ofctl.at:69"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-ofctl.at:70: sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout"
at_fn_check_prepare_trace "ovs-ofctl.at:70"
( $at_check_trace; sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "NXT_FLOW_MOD: ADD tcp,tp_src=123 actions=FLOOD
NXT_FLOW_MOD: ADD in_port=65534,dl_vlan=9,dl_src=00:0a:e4:25:6b:b0 actions=drop
NXT_FLOW_MOD: ADD arp,nw_src=192.168.0.1 actions=drop_spoofed_arp,NORMAL
NXT_FLOW_MOD: ADD udp,dl_vlan_pcp=7 idle:5 actions=strip_vlan,output:0
NXT_FLOW_MOD: ADD tcp,nw_src=192.168.0.3,tp_dst=80 actions=set_queue:37,output:1
NXT_FLOW_MOD: ADD udp,nw_src=192.168.0.3,tp_dst=53 actions=pop_queue,output:1
NXT_FLOW_MOD: ADD priority=60000 cookie:0x123456789abcdef hard:10 actions=CONTROLLER:65535
NXT_FLOW_MOD: ADD actions=note:41.42.43.00.00.00,note:00.01.02.03.04.05.06.07.00.00.00.00.00.00,note:00.00.00.00.00.00
NXT_FLOW_MOD: ADD tun_id=0x1234 cookie:0x5678 actions=FLOOD
NXT_FLOW_MOD: ADD actions=drop
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-ofctl.at:70"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_42
#AT_START_43
at_fn_group_banner 43 'ovs-ofctl.at:84' \
  "ovs-ofctl -F nxm -mmm parse-flows" "              " 6
at_xfail=no
(
  $as_echo "43. $at_setup_line: testing $at_desc ..."
  $at_traceon

cat >flows.txt <<'_ATEOF'

# comment
tcp,tp_src=123,actions=flood
in_port=LOCAL dl_vlan=9 dl_src=00:0A:E4:25:6B:B0 actions=drop
arp,nw_src=192.168.0.1 actions=drop_spoofed_arp,NORMAL
udp dl_vlan_pcp=7 idle_timeout=5 actions=strip_vlan output:0
tcp,nw_src=192.168.0.3,tp_dst=80 actions=set_queue:37,output:1
udp,nw_src=192.168.0.3,tp_dst=53 actions=pop_queue,output:1
cookie=0x123456789abcdef hard_timeout=10 priority=60000 actions=controller
actions=note:41.42.43,note:00.01.02.03.04.05.06.07,note
tun_id=0x1234,cookie=0x5678,actions=flood
actions=drop
reg0=123,actions=move:NXM_NX_REG0[0..5]->NXM_NX_REG1[26..31],load:55->NXM_NX_REG2[0..31],move:NXM_NX_REG0[0..31]->NXM_NX_TUN_ID[0..31],move:NXM_NX_REG0[0..15]->NXM_OF_VLAN_TCI[]
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovs-ofctl.at:99: ovs-ofctl -F nxm -mmm parse-flows flows.txt"
at_fn_check_prepare_trace "ovs-ofctl.at:99"
( $at_check_trace; ovs-ofctl -F nxm -mmm parse-flows flows.txt
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-ofctl.at:99"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-ofctl.at:100: sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout"
at_fn_check_prepare_trace "ovs-ofctl.at:100"
( $at_check_trace; sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "NXT_FLOW_MOD: ADD NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(06), NXM_OF_TCP_SRC(007b) actions=FLOOD
NXT_FLOW_MOD: ADD NXM_OF_IN_PORT(fffe), NXM_OF_ETH_SRC(000ae4256bb0), NXM_OF_VLAN_TCI_W(1009/1fff) actions=drop
NXT_FLOW_MOD: ADD NXM_OF_ETH_TYPE(0806), NXM_OF_ARP_SPA(c0a80001) actions=drop_spoofed_arp,NORMAL
NXT_FLOW_MOD: ADD NXM_OF_ETH_TYPE(0800), NXM_OF_VLAN_TCI_W(f000/f000), NXM_OF_IP_PROTO(11) idle:5 actions=strip_vlan,output:0
NXT_FLOW_MOD: ADD NXM_OF_ETH_TYPE(0800), NXM_OF_IP_SRC(c0a80003), NXM_OF_IP_PROTO(06), NXM_OF_TCP_DST(0050) actions=set_queue:37,output:1
NXT_FLOW_MOD: ADD NXM_OF_ETH_TYPE(0800), NXM_OF_IP_SRC(c0a80003), NXM_OF_IP_PROTO(11), NXM_OF_UDP_DST(0035) actions=pop_queue,output:1
NXT_FLOW_MOD: ADD <any> cookie:0x123456789abcdef hard:10 pri:60000 actions=CONTROLLER:65535
NXT_FLOW_MOD: ADD <any> actions=note:41.42.43.00.00.00,note:00.01.02.03.04.05.06.07.00.00.00.00.00.00,note:00.00.00.00.00.00
NXT_FLOW_MOD: ADD NXM_NX_TUN_ID(0000000000001234) cookie:0x5678 actions=FLOOD
NXT_FLOW_MOD: ADD <any> actions=drop
NXT_FLOW_MOD: ADD NXM_NX_REG0(0000007b) actions=move:NXM_NX_REG0[0..5]->NXM_NX_REG1[26..31],load:55->NXM_NX_REG2[],move:NXM_NX_REG0[]->NXM_NX_TUN_ID[0..31],move:NXM_NX_REG0[0..15]->NXM_OF_VLAN_TCI[]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-ofctl.at:100"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_43
#AT_START_44
at_fn_group_banner 44 'ovs-ofctl.at:115' \
  "ovs-ofctl parse-nx-match" "                       " 6
at_xfail=no
(
  $as_echo "44. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >nx-match.txt <<'_ATEOF'
<any>

# in port
NXM_OF_IN_PORT(0000)
NXM_OF_IN_PORT(fffe)

# eth dst
NXM_OF_ETH_DST(0002e30f80a4)
NXM_OF_ETH_DST_W(010000000000/010000000000)
NXM_OF_ETH_DST_W(000000000000/010000000000)
NXM_OF_ETH_DST_W(ffffffffffff/010000000000)
NXM_OF_ETH_DST_W(0002e30f80a4/ffffffffffff)
NXM_OF_ETH_DST_W(0002e30f80a4/feffffffffff)

# eth src
NXM_OF_ETH_SRC(020898456ddb)

# eth type
NXM_OF_ETH_TYPE(0800)
NXM_OF_ETH_TYPE(0800) NXM_OF_IN_PORT(0012)

# vlan tci
NXM_OF_VLAN_TCI(f009)
NXM_OF_VLAN_TCI(f009) NXM_OF_VLAN_TCI(f009)
NXM_OF_VLAN_TCI(0000)           # Packets without 802.1Q header.
NXM_OF_VLAN_TCI(3123)           # Packets with VID=123, PCP=1.
NXM_OF_VLAN_TCI(0123)           # Does not make sense (but supported anyway)
NXM_OF_VLAN_TCI_W(1123/1fff)    # Packets with VID=123, any PCP.
NXM_OF_VLAN_TCI_W(f000/f000)    # Packets with any VID, PCP=7.
NXM_OF_VLAN_TCI_W(0000/e000)    # No 802.1Q or with VID=0

# IP TOS
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_TOS(f0)
NXM_OF_IP_TOS(f0)

# IP protocol
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(01)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(05)
NXM_OF_IP_PROTO(05)

# IP source
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_SRC(ac100014)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_SRC_W(C0a80000/FFFF0000)
NXM_OF_ETH_TYPE(0806) NXM_OF_IP_SRC(ac100014)
NXM_OF_IP_SRC_W(C0D80000/FFFF0000)

# IP destination
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_DST(ac100014)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_DST_W(C0a88012/FFFF0000)
NXM_OF_IP_DST(ac100014)
NXM_OF_ETH_TYPE(0806) NXM_OF_IP_DST_W(C0D80000/FFFF0000)

# TCP source port
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(06) NXM_OF_TCP_SRC(4231)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(07) NXM_OF_TCP_SRC(4231)

# TCP destination port
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(06) NXM_OF_TCP_DST(4231)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(07) NXM_OF_TCP_DST(4231)

# UDP source port
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(11) NXM_OF_UDP_SRC(8732)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(06) NXM_OF_UDP_SRC(7823)

# UDP destination port
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(11) NXM_OF_UDP_DST(1782)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(02) NXM_OF_UDP_DST(1293)

# ICMP type
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(01) NXM_OF_ICMP_TYPE(12)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(00) NXM_OF_ICMP_TYPE(10)

# ICMP code
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(01) NXM_OF_ICMP_CODE(12)
NXM_OF_ETH_TYPE(0800) NXM_OF_IP_PROTO(00) NXM_OF_ICMP_CODE(10)
NXM_OF_ETH_TYPE(0800) NXM_OF_ICMP_CODE(10)
NXM_OF_ICMP_CODE(00)

# ARP opcode
NXM_OF_ETH_TYPE(0806) NXM_OF_ARP_OP(0001)
NXM_OF_ETH_TYPE(0806) NXM_OF_ARP_OP(1111)
NXM_OF_ETH_TYPE(0000) NXM_OF_ARP_OP(0001)
NXM_OF_ARP_OP(0001)
NXM_OF_ETH_TYPE(0806) NXM_OF_ARP_OP(0001) NXM_OF_ARP_OP(0001)

# ARP source
NXM_OF_ETH_TYPE(0806) NXM_OF_ARP_SPA(ac100014)
NXM_OF_ETH_TYPE(0806) NXM_OF_ARP_SPA_W(C0a81234/FFFFFF00)
NXM_OF_ETH_TYPE(0800) NXM_OF_ARP_SPA(ac100014)
NXM_OF_ARP_SPA_W(C0D8fedc/FFFF0000)

# ARP destination
NXM_OF_ETH_TYPE(0806) NXM_OF_ARP_TPA(ac100014)
NXM_OF_ETH_TYPE(0806) NXM_OF_ARP_TPA_W(C0a812fe/FFFFFF00)
NXM_OF_ETH_TYPE(0800) NXM_OF_ARP_TPA(ac100014)
NXM_OF_ARP_TPA_W(C0D80000/FFFF0000)

# Tunnel ID.
NXM_NX_TUN_ID(00000000abcdef01)

# Register 0.
NXM_NX_REG0(acebdf56)
NXM_NX_REG0_W(a0e0d050/f0f0f0f0)

# Invalid field number.
01020304(1111/2222)

# Unimplemented registers.
#
# This test assumes that at least two registers, but fewer than 16,
# registers are implemented.
00010004(12345678)
00010108(12345678/12345678)
00011e04(12345678)
00011f08(12345678/12345678)
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovs-ofctl.at:234: ovs-ofctl parse-nx-match < nx-match.txt"
at_fn_check_prepare_trace "ovs-ofctl.at:234"
( $at_check_trace; ovs-ofctl parse-nx-match < nx-match.txt
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "<any>

# in port
NXM_OF_IN_PORT(fffe)
NXM_OF_IN_PORT(fffe)

# eth dst
NXM_OF_ETH_DST(0002e30f80a4)
NXM_OF_ETH_DST_W(010000000000/010000000000)
NXM_OF_ETH_DST_W(000000000000/010000000000)
NXM_OF_ETH_DST_W(010000000000/010000000000)
NXM_OF_ETH_DST(0002e30f80a4)
NXM_OF_ETH_DST_W(0002e30f80a4/feffffffffff)

# eth src
NXM_OF_ETH_SRC(020898456ddb)

# eth type
NXM_OF_ETH_TYPE(0800)
NXM_OF_IN_PORT(0012), NXM_OF_ETH_TYPE(0800)

# vlan tci
NXM_OF_VLAN_TCI(f009)
nx_pull_match() returned error 44010105
NXM_OF_VLAN_TCI(0000)
NXM_OF_VLAN_TCI(3123)
NXM_OF_VLAN_TCI(0123)
NXM_OF_VLAN_TCI_W(1123/1fff)
NXM_OF_VLAN_TCI_W(f000/f000)
NXM_OF_VLAN_TCI_W(0000/e000)

# IP TOS
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_TOS(f0)
nx_pull_match() returned error 44010104

# IP protocol
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(01)
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(05)
nx_pull_match() returned error 44010104

# IP source
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_SRC(ac100014)
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_SRC_W(c0a80000/ffff0000)
nx_pull_match() returned error 44010104
nx_pull_match() returned error 44010104

# IP destination
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_DST(ac100014)
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_DST_W(c0a80000/ffff0000)
nx_pull_match() returned error 44010104
nx_pull_match() returned error 44010104

# TCP source port
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(06), NXM_OF_TCP_SRC(4231)
nx_pull_match() returned error 44010104

# TCP destination port
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(06), NXM_OF_TCP_DST(4231)
nx_pull_match() returned error 44010104

# UDP source port
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(11), NXM_OF_UDP_SRC(8732)
nx_pull_match() returned error 44010104

# UDP destination port
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(11), NXM_OF_UDP_DST(1782)
nx_pull_match() returned error 44010104

# ICMP type
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(01), NXM_OF_ICMP_TYPE(12)
nx_pull_match() returned error 44010104

# ICMP code
NXM_OF_ETH_TYPE(0800), NXM_OF_IP_PROTO(01), NXM_OF_ICMP_CODE(12)
nx_pull_match() returned error 44010104
nx_pull_match() returned error 44010104
nx_pull_match() returned error 44010104

# ARP opcode
NXM_OF_ETH_TYPE(0806), NXM_OF_ARP_OP(0001)
nx_pull_match() returned error 44010102
nx_pull_match() returned error 44010104
nx_pull_match() returned error 44010104
nx_pull_match() returned error 44010105

# ARP source
NXM_OF_ETH_TYPE(0806), NXM_OF_ARP_SPA(ac100014)
NXM_OF_ETH_TYPE(0806), NXM_OF_ARP_SPA_W(c0a81200/ffffff00)
nx_pull_match() returned error 44010104
nx_pull_match() returned error 44010104

# ARP destination
NXM_OF_ETH_TYPE(0806), NXM_OF_ARP_TPA(ac100014)
NXM_OF_ETH_TYPE(0806), NXM_OF_ARP_TPA_W(c0a81200/ffffff00)
nx_pull_match() returned error 44010104
nx_pull_match() returned error 44010104

# Tunnel ID.
NXM_NX_TUN_ID(00000000abcdef01)

# Register 0.
NXM_NX_REG0(acebdf56)
NXM_NX_REG0_W(a0e0d050/f0f0f0f0)

# Invalid field number.
nx_pull_match() returned error 44010101

# Unimplemented registers.
#
# This test assumes that at least two registers, but fewer than 16,
# registers are implemented.
NXM_NX_REG0(12345678)
NXM_NX_REG0_W(12345678/12345678)
nx_pull_match() returned error 44010101
nx_pull_match() returned error 44010101
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-ofctl.at:234"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_44
#AT_START_45
at_fn_group_banner 45 'multipath.at:10' \
  "modulo_n multipath link selection" "              " 7
at_xfail=no
(
  $as_echo "45. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/multipath.at:11: test-multipath 'eth_src,50,modulo_n,0,0,NXM_NX_REG0[]'"
at_fn_check_prepare_trace "multipath.at:11"
( $at_check_trace; test-multipath 'eth_src,50,modulo_n,0,0,NXM_NX_REG0[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/multipath.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

# 1 ->  2: disruption=0.50 (perfect=0.50); stddev/expected=0.0000
# 2 ->  3: disruption=0.66 (perfect=0.33); stddev/expected=0.0023
# 3 ->  4: disruption=0.75 (perfect=0.25); stddev/expected=0.0061
# 4 ->  5: disruption=0.80 (perfect=0.20); stddev/expected=0.0082
# 5 ->  6: disruption=0.83 (perfect=0.17); stddev/expected=0.0083
# 6 ->  7: disruption=0.86 (perfect=0.14); stddev/expected=0.0061
# 7 ->  8: disruption=0.88 (perfect=0.12); stddev/expected=0.0103
# 8 ->  9: disruption=0.89 (perfect=0.11); stddev/expected=0.0129
# 9 -> 10: disruption=0.90 (perfect=0.10); stddev/expected=0.0091
#10 -> 11: disruption=0.91 (perfect=0.09); stddev/expected=0.0114
#11 -> 12: disruption=0.91 (perfect=0.08); stddev/expected=0.0073
#12 -> 13: disruption=0.92 (perfect=0.08); stddev/expected=0.0165
#13 -> 14: disruption=0.93 (perfect=0.07); stddev/expected=0.0149
#14 -> 15: disruption=0.93 (perfect=0.07); stddev/expected=0.0127
#15 -> 16: disruption=0.94 (perfect=0.06); stddev/expected=0.0142
#16 -> 17: disruption=0.94 (perfect=0.06); stddev/expected=0.0098
#17 -> 18: disruption=0.94 (perfect=0.06); stddev/expected=0.0159
#18 -> 19: disruption=0.95 (perfect=0.05); stddev/expected=0.0121
#19 -> 20: disruption=0.95 (perfect=0.05); stddev/expected=0.0195
#20 -> 21: disruption=0.95 (perfect=0.05); stddev/expected=0.0120
#21 -> 22: disruption=0.95 (perfect=0.05); stddev/expected=0.0181
#22 -> 23: disruption=0.96 (perfect=0.04); stddev/expected=0.0222
#23 -> 24: disruption=0.96 (perfect=0.04); stddev/expected=0.0164
#24 -> 25: disruption=0.96 (perfect=0.04); stddev/expected=0.0146
#25 -> 26: disruption=0.96 (perfect=0.04); stddev/expected=0.0175
#26 -> 27: disruption=0.96 (perfect=0.04); stddev/expected=0.0231
#27 -> 28: disruption=0.96 (perfect=0.04); stddev/expected=0.0172
#28 -> 29: disruption=0.97 (perfect=0.03); stddev/expected=0.0211
#29 -> 30: disruption=0.97 (perfect=0.03); stddev/expected=0.0213
#30 -> 31: disruption=0.97 (perfect=0.03); stddev/expected=0.0253
#31 -> 32: disruption=0.97 (perfect=0.03); stddev/expected=0.0208
#32 -> 33: disruption=0.97 (perfect=0.03); stddev/expected=0.0223
#33 -> 34: disruption=0.97 (perfect=0.03); stddev/expected=0.0215
#34 -> 35: disruption=0.97 (perfect=0.03); stddev/expected=0.0201
#35 -> 36: disruption=0.97 (perfect=0.03); stddev/expected=0.0220
#36 -> 37: disruption=0.97 (perfect=0.03); stddev/expected=0.0221
#37 -> 38: disruption=0.97 (perfect=0.03); stddev/expected=0.0201
#38 -> 39: disruption=0.97 (perfect=0.03); stddev/expected=0.0215
#39 -> 40: disruption=0.97 (perfect=0.03); stddev/expected=0.0271
#40 -> 41: disruption=0.98 (perfect=0.02); stddev/expected=0.0272
#41 -> 42: disruption=0.98 (perfect=0.02); stddev/expected=0.0208
#42 -> 43: disruption=0.98 (perfect=0.02); stddev/expected=0.0226
#43 -> 44: disruption=0.98 (perfect=0.02); stddev/expected=0.0264
#44 -> 45: disruption=0.98 (perfect=0.02); stddev/expected=0.0233
#45 -> 46: disruption=0.98 (perfect=0.02); stddev/expected=0.0285
#46 -> 47: disruption=0.98 (perfect=0.02); stddev/expected=0.0246
#47 -> 48: disruption=0.98 (perfect=0.02); stddev/expected=0.0282
#48 -> 49: disruption=0.98 (perfect=0.02); stddev/expected=0.0233
#49 -> 50: disruption=0.98 (perfect=0.02); stddev/expected=0.0197
#50 -> 51: disruption=0.98 (perfect=0.02); stddev/expected=0.0317
#51 -> 52: disruption=0.98 (perfect=0.02); stddev/expected=0.0283
#52 -> 53: disruption=0.98 (perfect=0.02); stddev/expected=0.0282
#53 -> 54: disruption=0.98 (perfect=0.02); stddev/expected=0.0273
#54 -> 55: disruption=0.98 (perfect=0.02); stddev/expected=0.0283
#55 -> 56: disruption=0.98 (perfect=0.02); stddev/expected=0.0288
#56 -> 57: disruption=0.98 (perfect=0.02); stddev/expected=0.0263
#57 -> 58: disruption=0.98 (perfect=0.02); stddev/expected=0.0339
#58 -> 59: disruption=0.98 (perfect=0.02); stddev/expected=0.0262
#59 -> 60: disruption=0.98 (perfect=0.02); stddev/expected=0.0309
#60 -> 61: disruption=0.98 (perfect=0.02); stddev/expected=0.0285
#61 -> 62: disruption=0.98 (perfect=0.02); stddev/expected=0.0288
#62 -> 63: disruption=0.98 (perfect=0.02); stddev/expected=0.0298
#63 -> 64: disruption=0.98 (perfect=0.02); stddev/expected=0.0277
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_45
#AT_START_46
at_fn_group_banner 46 'multipath.at:78' \
  "hash_threshold multipath link selection" "        " 7
at_xfail=no
(
  $as_echo "46. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/multipath.at:79: test-multipath 'eth_src,50,hash_threshold,0,0,NXM_NX_REG0[]'"
at_fn_check_prepare_trace "multipath.at:79"
( $at_check_trace; test-multipath 'eth_src,50,hash_threshold,0,0,NXM_NX_REG0[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/multipath.at:79"
$at_failed && at_fn_log_failure
$at_traceon; }

# 1 ->  2: disruption=0.50 (perfect=0.50); stddev/expected=0.0000
# 2 ->  3: disruption=0.50 (perfect=0.33); stddev/expected=0.0056
# 3 ->  4: disruption=0.50 (perfect=0.25); stddev/expected=0.0050
# 4 ->  5: disruption=0.50 (perfect=0.20); stddev/expected=0.0074
# 5 ->  6: disruption=0.50 (perfect=0.17); stddev/expected=0.0031
# 6 ->  7: disruption=0.50 (perfect=0.14); stddev/expected=0.0078
# 7 ->  8: disruption=0.50 (perfect=0.12); stddev/expected=0.0085
# 8 ->  9: disruption=0.50 (perfect=0.11); stddev/expected=0.0093
# 9 -> 10: disruption=0.50 (perfect=0.10); stddev/expected=0.0083
#10 -> 11: disruption=0.51 (perfect=0.09); stddev/expected=0.0110
#11 -> 12: disruption=0.50 (perfect=0.08); stddev/expected=0.0124
#12 -> 13: disruption=0.50 (perfect=0.08); stddev/expected=0.0143
#13 -> 14: disruption=0.50 (perfect=0.07); stddev/expected=0.0148
#14 -> 15: disruption=0.50 (perfect=0.07); stddev/expected=0.0099
#15 -> 16: disruption=0.50 (perfect=0.06); stddev/expected=0.0166
#16 -> 17: disruption=0.50 (perfect=0.06); stddev/expected=0.0099
#17 -> 18: disruption=0.50 (perfect=0.06); stddev/expected=0.0194
#18 -> 19: disruption=0.50 (perfect=0.05); stddev/expected=0.0169
#19 -> 20: disruption=0.50 (perfect=0.05); stddev/expected=0.0169
#20 -> 21: disruption=0.50 (perfect=0.05); stddev/expected=0.0185
#21 -> 22: disruption=0.50 (perfect=0.05); stddev/expected=0.0160
#22 -> 23: disruption=0.50 (perfect=0.04); stddev/expected=0.0236
#23 -> 24: disruption=0.50 (perfect=0.04); stddev/expected=0.0147
#24 -> 25: disruption=0.50 (perfect=0.04); stddev/expected=0.0195
#25 -> 26: disruption=0.50 (perfect=0.04); stddev/expected=0.0199
#26 -> 27: disruption=0.50 (perfect=0.04); stddev/expected=0.0227
#27 -> 28: disruption=0.50 (perfect=0.04); stddev/expected=0.0198
#28 -> 29: disruption=0.50 (perfect=0.03); stddev/expected=0.0216
#29 -> 30: disruption=0.50 (perfect=0.03); stddev/expected=0.0233
#30 -> 31: disruption=0.50 (perfect=0.03); stddev/expected=0.0266
#31 -> 32: disruption=0.51 (perfect=0.03); stddev/expected=0.0238
#32 -> 33: disruption=0.50 (perfect=0.03); stddev/expected=0.0194
#33 -> 34: disruption=0.50 (perfect=0.03); stddev/expected=0.0173
#34 -> 35: disruption=0.50 (perfect=0.03); stddev/expected=0.0223
#35 -> 36: disruption=0.50 (perfect=0.03); stddev/expected=0.0220
#36 -> 37: disruption=0.50 (perfect=0.03); stddev/expected=0.0237
#37 -> 38: disruption=0.50 (perfect=0.03); stddev/expected=0.0237
#38 -> 39: disruption=0.50 (perfect=0.03); stddev/expected=0.0251
#39 -> 40: disruption=0.50 (perfect=0.03); stddev/expected=0.0212
#40 -> 41: disruption=0.50 (perfect=0.02); stddev/expected=0.0267
#41 -> 42: disruption=0.50 (perfect=0.02); stddev/expected=0.0242
#42 -> 43: disruption=0.50 (perfect=0.02); stddev/expected=0.0222
#43 -> 44: disruption=0.50 (perfect=0.02); stddev/expected=0.0244
#44 -> 45: disruption=0.50 (perfect=0.02); stddev/expected=0.0231
#45 -> 46: disruption=0.50 (perfect=0.02); stddev/expected=0.0299
#46 -> 47: disruption=0.50 (perfect=0.02); stddev/expected=0.0263
#47 -> 48: disruption=0.50 (perfect=0.02); stddev/expected=0.0307
#48 -> 49: disruption=0.50 (perfect=0.02); stddev/expected=0.0253
#49 -> 50: disruption=0.50 (perfect=0.02); stddev/expected=0.0228
#50 -> 51: disruption=0.50 (perfect=0.02); stddev/expected=0.0273
#51 -> 52: disruption=0.50 (perfect=0.02); stddev/expected=0.0243
#52 -> 53: disruption=0.50 (perfect=0.02); stddev/expected=0.0268
#53 -> 54: disruption=0.50 (perfect=0.02); stddev/expected=0.0251
#54 -> 55: disruption=0.50 (perfect=0.02); stddev/expected=0.0297
#55 -> 56: disruption=0.50 (perfect=0.02); stddev/expected=0.0287
#56 -> 57: disruption=0.50 (perfect=0.02); stddev/expected=0.0299
#57 -> 58: disruption=0.50 (perfect=0.02); stddev/expected=0.0272
#58 -> 59: disruption=0.50 (perfect=0.02); stddev/expected=0.0295
#59 -> 60: disruption=0.50 (perfect=0.02); stddev/expected=0.0312
#60 -> 61: disruption=0.50 (perfect=0.02); stddev/expected=0.0361
#61 -> 62: disruption=0.50 (perfect=0.02); stddev/expected=0.0308
#62 -> 63: disruption=0.50 (perfect=0.02); stddev/expected=0.0283
#63 -> 64: disruption=0.50 (perfect=0.02); stddev/expected=0.0325
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_46
#AT_START_47
at_fn_group_banner 47 'multipath.at:146' \
  "hrw multipath link selection" "                   " 7
at_xfail=no
(
  $as_echo "47. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/multipath.at:147: test-multipath 'eth_src,50,hrw,0,0,NXM_NX_REG0[]'"
at_fn_check_prepare_trace "multipath.at:147"
( $at_check_trace; test-multipath 'eth_src,50,hrw,0,0,NXM_NX_REG0[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/multipath.at:147"
$at_failed && at_fn_log_failure
$at_traceon; }

# 1 ->  2: disruption=0.50 (perfect=0.50); stddev/expected=0.0000
# 2 ->  3: disruption=0.33 (perfect=0.33); stddev/expected=0.0033
# 3 ->  4: disruption=0.25 (perfect=0.25); stddev/expected=0.0076
# 4 ->  5: disruption=0.20 (perfect=0.20); stddev/expected=0.0059
# 5 ->  6: disruption=0.17 (perfect=0.17); stddev/expected=0.0030
# 6 ->  7: disruption=0.14 (perfect=0.14); stddev/expected=0.0124
# 7 ->  8: disruption=0.13 (perfect=0.12); stddev/expected=0.0072
# 8 ->  9: disruption=0.11 (perfect=0.11); stddev/expected=0.0074
# 9 -> 10: disruption=0.10 (perfect=0.10); stddev/expected=0.0161
#10 -> 11: disruption=0.09 (perfect=0.09); stddev/expected=0.0055
#11 -> 12: disruption=0.08 (perfect=0.08); stddev/expected=0.0092
#12 -> 13: disruption=0.08 (perfect=0.08); stddev/expected=0.0134
#13 -> 14: disruption=0.07 (perfect=0.07); stddev/expected=0.0124
#14 -> 15: disruption=0.07 (perfect=0.07); stddev/expected=0.0156
#15 -> 16: disruption=0.06 (perfect=0.06); stddev/expected=0.0182
#16 -> 17: disruption=0.06 (perfect=0.06); stddev/expected=0.0150
#17 -> 18: disruption=0.06 (perfect=0.06); stddev/expected=0.0109
#18 -> 19: disruption=0.05 (perfect=0.05); stddev/expected=0.0162
#19 -> 20: disruption=0.05 (perfect=0.05); stddev/expected=0.0149
#20 -> 21: disruption=0.05 (perfect=0.05); stddev/expected=0.0148
#21 -> 22: disruption=0.05 (perfect=0.05); stddev/expected=0.0230
#22 -> 23: disruption=0.04 (perfect=0.04); stddev/expected=0.0208
#23 -> 24: disruption=0.04 (perfect=0.04); stddev/expected=0.0210
#24 -> 25: disruption=0.04 (perfect=0.04); stddev/expected=0.0228
#25 -> 26: disruption=0.04 (perfect=0.04); stddev/expected=0.0155
#26 -> 27: disruption=0.04 (perfect=0.04); stddev/expected=0.0208
#27 -> 28: disruption=0.04 (perfect=0.04); stddev/expected=0.0218
#28 -> 29: disruption=0.03 (perfect=0.03); stddev/expected=0.0193
#29 -> 30: disruption=0.03 (perfect=0.03); stddev/expected=0.0169
#30 -> 31: disruption=0.03 (perfect=0.03); stddev/expected=0.0163
#31 -> 32: disruption=0.03 (perfect=0.03); stddev/expected=0.0192
#32 -> 33: disruption=0.03 (perfect=0.03); stddev/expected=0.0212
#33 -> 34: disruption=0.03 (perfect=0.03); stddev/expected=0.0240
#34 -> 35: disruption=0.03 (perfect=0.03); stddev/expected=0.0227
#35 -> 36: disruption=0.03 (perfect=0.03); stddev/expected=0.0230
#36 -> 37: disruption=0.03 (perfect=0.03); stddev/expected=0.0183
#37 -> 38: disruption=0.03 (perfect=0.03); stddev/expected=0.0227
#38 -> 39: disruption=0.03 (perfect=0.03); stddev/expected=0.0255
#39 -> 40: disruption=0.03 (perfect=0.03); stddev/expected=0.0247
#40 -> 41: disruption=0.02 (perfect=0.02); stddev/expected=0.0228
#41 -> 42: disruption=0.02 (perfect=0.02); stddev/expected=0.0247
#42 -> 43: disruption=0.02 (perfect=0.02); stddev/expected=0.0265
#43 -> 44: disruption=0.02 (perfect=0.02); stddev/expected=0.0250
#44 -> 45: disruption=0.02 (perfect=0.02); stddev/expected=0.0258
#45 -> 46: disruption=0.02 (perfect=0.02); stddev/expected=0.0196
#46 -> 47: disruption=0.02 (perfect=0.02); stddev/expected=0.0235
#47 -> 48: disruption=0.02 (perfect=0.02); stddev/expected=0.0314
#48 -> 49: disruption=0.02 (perfect=0.02); stddev/expected=0.0293
#49 -> 50: disruption=0.02 (perfect=0.02); stddev/expected=0.0241
#50 -> 51: disruption=0.02 (perfect=0.02); stddev/expected=0.0291
#51 -> 52: disruption=0.02 (perfect=0.02); stddev/expected=0.0304
#52 -> 53: disruption=0.02 (perfect=0.02); stddev/expected=0.0307
#53 -> 54: disruption=0.02 (perfect=0.02); stddev/expected=0.0250
#54 -> 55: disruption=0.02 (perfect=0.02); stddev/expected=0.0290
#55 -> 56: disruption=0.02 (perfect=0.02); stddev/expected=0.0284
#56 -> 57: disruption=0.02 (perfect=0.02); stddev/expected=0.0272
#57 -> 58: disruption=0.02 (perfect=0.02); stddev/expected=0.0272
#58 -> 59: disruption=0.02 (perfect=0.02); stddev/expected=0.0304
#59 -> 60: disruption=0.02 (perfect=0.02); stddev/expected=0.0345
#60 -> 61: disruption=0.02 (perfect=0.02); stddev/expected=0.0251
#61 -> 62: disruption=0.02 (perfect=0.02); stddev/expected=0.0249
#62 -> 63: disruption=0.02 (perfect=0.02); stddev/expected=0.0285
#63 -> 64: disruption=0.02 (perfect=0.02); stddev/expected=0.0285
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_47
#AT_START_48
at_fn_group_banner 48 'multipath.at:214' \
  "iter_hash multipath link selection" "             " 7
at_xfail=no
(
  $as_echo "48. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/multipath.at:215: test-multipath 'eth_src,50,iter_hash,0,0,NXM_NX_REG0[]'"
at_fn_check_prepare_trace "multipath.at:215"
( $at_check_trace; test-multipath 'eth_src,50,iter_hash,0,0,NXM_NX_REG0[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/multipath.at:215"
$at_failed && at_fn_log_failure
$at_traceon; }

# 1 ->  2: disruption=0.50 (perfect=0.50); stddev/expected=0.0000
# 2 ->  3: disruption=0.42 (perfect=0.33); stddev/expected=0.0034
# 3 ->  4: disruption=0.25 (perfect=0.25); stddev/expected=0.0082
# 4 ->  5: disruption=0.42 (perfect=0.20); stddev/expected=0.0073
# 5 ->  6: disruption=0.17 (perfect=0.17); stddev/expected=0.0040
# 6 ->  7: disruption=0.14 (perfect=0.14); stddev/expected=0.0069
# 7 ->  8: disruption=0.13 (perfect=0.12); stddev/expected=0.0131
# 8 ->  9: disruption=0.45 (perfect=0.11); stddev/expected=0.0093
# 9 -> 10: disruption=0.10 (perfect=0.10); stddev/expected=0.0127
#10 -> 11: disruption=0.09 (perfect=0.09); stddev/expected=0.0134
#11 -> 12: disruption=0.08 (perfect=0.08); stddev/expected=0.0101
#12 -> 13: disruption=0.08 (perfect=0.08); stddev/expected=0.0127
#13 -> 14: disruption=0.07 (perfect=0.07); stddev/expected=0.0115
#14 -> 15: disruption=0.07 (perfect=0.07); stddev/expected=0.0100
#15 -> 16: disruption=0.06 (perfect=0.06); stddev/expected=0.0111
#16 -> 17: disruption=0.47 (perfect=0.06); stddev/expected=0.0137
#17 -> 18: disruption=0.05 (perfect=0.06); stddev/expected=0.0204
#18 -> 19: disruption=0.05 (perfect=0.05); stddev/expected=0.0082
#19 -> 20: disruption=0.05 (perfect=0.05); stddev/expected=0.0124
#20 -> 21: disruption=0.05 (perfect=0.05); stddev/expected=0.0203
#21 -> 22: disruption=0.05 (perfect=0.05); stddev/expected=0.0196
#22 -> 23: disruption=0.04 (perfect=0.04); stddev/expected=0.0183
#23 -> 24: disruption=0.04 (perfect=0.04); stddev/expected=0.0212
#24 -> 25: disruption=0.04 (perfect=0.04); stddev/expected=0.0176
#25 -> 26: disruption=0.04 (perfect=0.04); stddev/expected=0.0173
#26 -> 27: disruption=0.04 (perfect=0.04); stddev/expected=0.0159
#27 -> 28: disruption=0.03 (perfect=0.04); stddev/expected=0.0168
#28 -> 29: disruption=0.03 (perfect=0.03); stddev/expected=0.0190
#29 -> 30: disruption=0.03 (perfect=0.03); stddev/expected=0.0305
#30 -> 31: disruption=0.03 (perfect=0.03); stddev/expected=0.0282
#31 -> 32: disruption=0.03 (perfect=0.03); stddev/expected=0.0255
#32 -> 33: disruption=0.49 (perfect=0.03); stddev/expected=0.0220
#33 -> 34: disruption=0.03 (perfect=0.03); stddev/expected=0.0188
#34 -> 35: disruption=0.03 (perfect=0.03); stddev/expected=0.0203
#35 -> 36: disruption=0.03 (perfect=0.03); stddev/expected=0.0207
#36 -> 37: disruption=0.03 (perfect=0.03); stddev/expected=0.0261
#37 -> 38: disruption=0.03 (perfect=0.03); stddev/expected=0.0226
#38 -> 39: disruption=0.03 (perfect=0.03); stddev/expected=0.0233
#39 -> 40: disruption=0.03 (perfect=0.03); stddev/expected=0.0161
#40 -> 41: disruption=0.03 (perfect=0.02); stddev/expected=0.0303
#41 -> 42: disruption=0.02 (perfect=0.02); stddev/expected=0.0249
#42 -> 43: disruption=0.02 (perfect=0.02); stddev/expected=0.0262
#43 -> 44: disruption=0.02 (perfect=0.02); stddev/expected=0.0260
#44 -> 45: disruption=0.02 (perfect=0.02); stddev/expected=0.0266
#45 -> 46: disruption=0.02 (perfect=0.02); stddev/expected=0.0287
#46 -> 47: disruption=0.02 (perfect=0.02); stddev/expected=0.0213
#47 -> 48: disruption=0.02 (perfect=0.02); stddev/expected=0.0301
#48 -> 49: disruption=0.02 (perfect=0.02); stddev/expected=0.0230
#49 -> 50: disruption=0.02 (perfect=0.02); stddev/expected=0.0248
#50 -> 51: disruption=0.02 (perfect=0.02); stddev/expected=0.0203
#51 -> 52: disruption=0.02 (perfect=0.02); stddev/expected=0.0235
#52 -> 53: disruption=0.02 (perfect=0.02); stddev/expected=0.0340
#53 -> 54: disruption=0.02 (perfect=0.02); stddev/expected=0.0264
#54 -> 55: disruption=0.02 (perfect=0.02); stddev/expected=0.0292
#55 -> 56: disruption=0.02 (perfect=0.02); stddev/expected=0.0246
#56 -> 57: disruption=0.02 (perfect=0.02); stddev/expected=0.0270
#57 -> 58: disruption=0.02 (perfect=0.02); stddev/expected=0.0299
#58 -> 59: disruption=0.02 (perfect=0.02); stddev/expected=0.0307
#59 -> 60: disruption=0.02 (perfect=0.02); stddev/expected=0.0275
#60 -> 61: disruption=0.02 (perfect=0.02); stddev/expected=0.0289
#61 -> 62: disruption=0.02 (perfect=0.02); stddev/expected=0.0292
#62 -> 63: disruption=0.02 (perfect=0.02); stddev/expected=0.0292
#63 -> 64: disruption=0.02 (perfect=0.02); stddev/expected=0.0307
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_48
#AT_START_49
at_fn_group_banner 49 'vconn.at:20' \
  "unix vconn - refuse connection" "                 " 8
at_xfail=no
(
  $as_echo "49. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:20: test-vconn refuse-connection unix"
at_fn_check_prepare_trace "vconn.at:20"
( $at_check_trace; test-vconn refuse-connection unix
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_49
#AT_START_50
at_fn_group_banner 50 'vconn.at:20' \
  "unix vconn - accept then close" "                 " 8
at_xfail=no
(
  $as_echo "50. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:20: test-vconn accept-then-close unix"
at_fn_check_prepare_trace "vconn.at:20"
( $at_check_trace; test-vconn accept-then-close unix
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_50
#AT_START_51
at_fn_group_banner 51 'vconn.at:20' \
  "unix vconn - read hello" "                        " 8
at_xfail=no
(
  $as_echo "51. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:20: test-vconn read-hello unix"
at_fn_check_prepare_trace "vconn.at:20"
( $at_check_trace; test-vconn read-hello unix
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_51
#AT_START_52
at_fn_group_banner 52 'vconn.at:20' \
  "unix vconn - send plain hello" "                  " 8
at_xfail=no
(
  $as_echo "52. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:20: test-vconn send-plain-hello unix"
at_fn_check_prepare_trace "vconn.at:20"
( $at_check_trace; test-vconn send-plain-hello unix
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_52
#AT_START_53
at_fn_group_banner 53 'vconn.at:20' \
  "unix vconn - send long hello" "                   " 8
at_xfail=no
(
  $as_echo "53. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:20: test-vconn send-long-hello unix"
at_fn_check_prepare_trace "vconn.at:20"
( $at_check_trace; test-vconn send-long-hello unix
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_53
#AT_START_54
at_fn_group_banner 54 'vconn.at:20' \
  "unix vconn - send echo hello" "                   " 8
at_xfail=no
(
  $as_echo "54. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:20: test-vconn send-echo-hello unix"
at_fn_check_prepare_trace "vconn.at:20"
( $at_check_trace; test-vconn send-echo-hello unix
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_54
#AT_START_55
at_fn_group_banner 55 'vconn.at:20' \
  "unix vconn - send short hello" "                  " 8
at_xfail=no
(
  $as_echo "55. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:20: test-vconn send-short-hello unix"
at_fn_check_prepare_trace "vconn.at:20"
( $at_check_trace; test-vconn send-short-hello unix
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_55
#AT_START_56
at_fn_group_banner 56 'vconn.at:20' \
  "unix vconn - send invalid version hello" "        " 8
at_xfail=no
(
  $as_echo "56. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:20: test-vconn send-invalid-version-hello unix"
at_fn_check_prepare_trace "vconn.at:20"
( $at_check_trace; test-vconn send-invalid-version-hello unix
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_56
#AT_START_57
at_fn_group_banner 57 'vconn.at:21' \
  "tcp vconn - refuse connection" "                  " 9
at_xfail=no
(
  $as_echo "57. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:21: test-vconn refuse-connection tcp"
at_fn_check_prepare_trace "vconn.at:21"
( $at_check_trace; test-vconn refuse-connection tcp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_57
#AT_START_58
at_fn_group_banner 58 'vconn.at:21' \
  "tcp vconn - accept then close" "                  " 9
at_xfail=no
(
  $as_echo "58. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:21: test-vconn accept-then-close tcp"
at_fn_check_prepare_trace "vconn.at:21"
( $at_check_trace; test-vconn accept-then-close tcp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_58
#AT_START_59
at_fn_group_banner 59 'vconn.at:21' \
  "tcp vconn - read hello" "                         " 9
at_xfail=no
(
  $as_echo "59. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:21: test-vconn read-hello tcp"
at_fn_check_prepare_trace "vconn.at:21"
( $at_check_trace; test-vconn read-hello tcp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_59
#AT_START_60
at_fn_group_banner 60 'vconn.at:21' \
  "tcp vconn - send plain hello" "                   " 9
at_xfail=no
(
  $as_echo "60. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:21: test-vconn send-plain-hello tcp"
at_fn_check_prepare_trace "vconn.at:21"
( $at_check_trace; test-vconn send-plain-hello tcp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_60
#AT_START_61
at_fn_group_banner 61 'vconn.at:21' \
  "tcp vconn - send long hello" "                    " 9
at_xfail=no
(
  $as_echo "61. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:21: test-vconn send-long-hello tcp"
at_fn_check_prepare_trace "vconn.at:21"
( $at_check_trace; test-vconn send-long-hello tcp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_61
#AT_START_62
at_fn_group_banner 62 'vconn.at:21' \
  "tcp vconn - send echo hello" "                    " 9
at_xfail=no
(
  $as_echo "62. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:21: test-vconn send-echo-hello tcp"
at_fn_check_prepare_trace "vconn.at:21"
( $at_check_trace; test-vconn send-echo-hello tcp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_62
#AT_START_63
at_fn_group_banner 63 'vconn.at:21' \
  "tcp vconn - send short hello" "                   " 9
at_xfail=no
(
  $as_echo "63. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:21: test-vconn send-short-hello tcp"
at_fn_check_prepare_trace "vconn.at:21"
( $at_check_trace; test-vconn send-short-hello tcp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_63
#AT_START_64
at_fn_group_banner 64 'vconn.at:21' \
  "tcp vconn - send invalid version hello" "         " 9
at_xfail=no
(
  $as_echo "64. $at_setup_line: testing $at_desc ..."
  $at_traceon


      { set +x
$as_echo "$at_srcdir/vconn.at:21: test-vconn send-invalid-version-hello tcp"
at_fn_check_prepare_trace "vconn.at:21"
( $at_check_trace; test-vconn send-invalid-version-hello tcp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_64
#AT_START_65
at_fn_group_banner 65 'vconn.at:22' \
  "ssl vconn - refuse connection" "                  " 10
at_xfail=no
(
  $as_echo "65. $at_setup_line: testing $at_desc ..."
  $at_traceon


        $as_echo "vconn.at:22" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/vconn.at:22"
        { set +x
$as_echo "$at_srcdir/vconn.at:22: cp \$abs_top_srcdir/tests/testpki*.pem ."
at_fn_check_prepare_dynamic "cp $abs_top_srcdir/tests/testpki*.pem ." "vconn.at:22"
( $at_check_trace; cp $abs_top_srcdir/tests/testpki*.pem .
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

      { set +x
$as_echo "$at_srcdir/vconn.at:22: test-vconn refuse-connection ssl"
at_fn_check_prepare_trace "vconn.at:22"
( $at_check_trace; test-vconn refuse-connection ssl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_65
#AT_START_66
at_fn_group_banner 66 'vconn.at:22' \
  "ssl vconn - accept then close" "                  " 10
at_xfail=no
(
  $as_echo "66. $at_setup_line: testing $at_desc ..."
  $at_traceon


        $as_echo "vconn.at:22" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/vconn.at:22"
        { set +x
$as_echo "$at_srcdir/vconn.at:22: cp \$abs_top_srcdir/tests/testpki*.pem ."
at_fn_check_prepare_dynamic "cp $abs_top_srcdir/tests/testpki*.pem ." "vconn.at:22"
( $at_check_trace; cp $abs_top_srcdir/tests/testpki*.pem .
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

      { set +x
$as_echo "$at_srcdir/vconn.at:22: test-vconn accept-then-close ssl"
at_fn_check_prepare_trace "vconn.at:22"
( $at_check_trace; test-vconn accept-then-close ssl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_66
#AT_START_67
at_fn_group_banner 67 'vconn.at:22' \
  "ssl vconn - read hello" "                         " 10
at_xfail=no
(
  $as_echo "67. $at_setup_line: testing $at_desc ..."
  $at_traceon


        $as_echo "vconn.at:22" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/vconn.at:22"
        { set +x
$as_echo "$at_srcdir/vconn.at:22: cp \$abs_top_srcdir/tests/testpki*.pem ."
at_fn_check_prepare_dynamic "cp $abs_top_srcdir/tests/testpki*.pem ." "vconn.at:22"
( $at_check_trace; cp $abs_top_srcdir/tests/testpki*.pem .
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

      { set +x
$as_echo "$at_srcdir/vconn.at:22: test-vconn read-hello ssl"
at_fn_check_prepare_trace "vconn.at:22"
( $at_check_trace; test-vconn read-hello ssl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_67
#AT_START_68
at_fn_group_banner 68 'vconn.at:22' \
  "ssl vconn - send plain hello" "                   " 10
at_xfail=no
(
  $as_echo "68. $at_setup_line: testing $at_desc ..."
  $at_traceon


        $as_echo "vconn.at:22" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/vconn.at:22"
        { set +x
$as_echo "$at_srcdir/vconn.at:22: cp \$abs_top_srcdir/tests/testpki*.pem ."
at_fn_check_prepare_dynamic "cp $abs_top_srcdir/tests/testpki*.pem ." "vconn.at:22"
( $at_check_trace; cp $abs_top_srcdir/tests/testpki*.pem .
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

      { set +x
$as_echo "$at_srcdir/vconn.at:22: test-vconn send-plain-hello ssl"
at_fn_check_prepare_trace "vconn.at:22"
( $at_check_trace; test-vconn send-plain-hello ssl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_68
#AT_START_69
at_fn_group_banner 69 'vconn.at:22' \
  "ssl vconn - send long hello" "                    " 10
at_xfail=no
(
  $as_echo "69. $at_setup_line: testing $at_desc ..."
  $at_traceon


        $as_echo "vconn.at:22" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/vconn.at:22"
        { set +x
$as_echo "$at_srcdir/vconn.at:22: cp \$abs_top_srcdir/tests/testpki*.pem ."
at_fn_check_prepare_dynamic "cp $abs_top_srcdir/tests/testpki*.pem ." "vconn.at:22"
( $at_check_trace; cp $abs_top_srcdir/tests/testpki*.pem .
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

      { set +x
$as_echo "$at_srcdir/vconn.at:22: test-vconn send-long-hello ssl"
at_fn_check_prepare_trace "vconn.at:22"
( $at_check_trace; test-vconn send-long-hello ssl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_69
#AT_START_70
at_fn_group_banner 70 'vconn.at:22' \
  "ssl vconn - send echo hello" "                    " 10
at_xfail=no
(
  $as_echo "70. $at_setup_line: testing $at_desc ..."
  $at_traceon


        $as_echo "vconn.at:22" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/vconn.at:22"
        { set +x
$as_echo "$at_srcdir/vconn.at:22: cp \$abs_top_srcdir/tests/testpki*.pem ."
at_fn_check_prepare_dynamic "cp $abs_top_srcdir/tests/testpki*.pem ." "vconn.at:22"
( $at_check_trace; cp $abs_top_srcdir/tests/testpki*.pem .
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

      { set +x
$as_echo "$at_srcdir/vconn.at:22: test-vconn send-echo-hello ssl"
at_fn_check_prepare_trace "vconn.at:22"
( $at_check_trace; test-vconn send-echo-hello ssl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_70
#AT_START_71
at_fn_group_banner 71 'vconn.at:22' \
  "ssl vconn - send short hello" "                   " 10
at_xfail=no
(
  $as_echo "71. $at_setup_line: testing $at_desc ..."
  $at_traceon


        $as_echo "vconn.at:22" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/vconn.at:22"
        { set +x
$as_echo "$at_srcdir/vconn.at:22: cp \$abs_top_srcdir/tests/testpki*.pem ."
at_fn_check_prepare_dynamic "cp $abs_top_srcdir/tests/testpki*.pem ." "vconn.at:22"
( $at_check_trace; cp $abs_top_srcdir/tests/testpki*.pem .
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

      { set +x
$as_echo "$at_srcdir/vconn.at:22: test-vconn send-short-hello ssl"
at_fn_check_prepare_trace "vconn.at:22"
( $at_check_trace; test-vconn send-short-hello ssl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_71
#AT_START_72
at_fn_group_banner 72 'vconn.at:22' \
  "ssl vconn - send invalid version hello" "         " 10
at_xfail=no
(
  $as_echo "72. $at_setup_line: testing $at_desc ..."
  $at_traceon


        $as_echo "vconn.at:22" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/vconn.at:22"
        { set +x
$as_echo "$at_srcdir/vconn.at:22: cp \$abs_top_srcdir/tests/testpki*.pem ."
at_fn_check_prepare_dynamic "cp $abs_top_srcdir/tests/testpki*.pem ." "vconn.at:22"
( $at_check_trace; cp $abs_top_srcdir/tests/testpki*.pem .
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

      { set +x
$as_echo "$at_srcdir/vconn.at:22: test-vconn send-invalid-version-hello ssl"
at_fn_check_prepare_trace "vconn.at:22"
( $at_check_trace; test-vconn send-invalid-version-hello ssl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/vconn.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

        set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_72
#AT_START_73
at_fn_group_banner 73 'file_name.at:12' \
  "components of \"/usr/lib\" are \"/usr\", \"lib\"" "     " 11
at_xfail=no
(
  $as_echo "73. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:12: test-file_name \"/usr/lib\""
at_fn_check_prepare_trace "file_name.at:12"
( $at_check_trace; test-file_name "/usr/lib"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "/usr
lib
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:12"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_73
#AT_START_74
at_fn_group_banner 74 'file_name.at:13' \
  "components of \"/usr/\" are \"/\", \"usr\"" "           " 11
at_xfail=no
(
  $as_echo "74. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:13: test-file_name \"/usr/\""
at_fn_check_prepare_trace "file_name.at:13"
( $at_check_trace; test-file_name "/usr/"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "/
usr
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:13"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_74
#AT_START_75
at_fn_group_banner 75 'file_name.at:14' \
  "components of \"usr\" are \".\", \"usr\"" "             " 11
at_xfail=no
(
  $as_echo "75. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:14: test-file_name \"usr\""
at_fn_check_prepare_trace "file_name.at:14"
( $at_check_trace; test-file_name "usr"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo ".
usr
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:14"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_75
#AT_START_76
at_fn_group_banner 76 'file_name.at:15' \
  "components of \"/\" are \"/\", \"/\"" "                 " 11
at_xfail=no
(
  $as_echo "76. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:15: test-file_name \"/\""
at_fn_check_prepare_trace "file_name.at:15"
( $at_check_trace; test-file_name "/"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "/
/
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:15"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_76
#AT_START_77
at_fn_group_banner 77 'file_name.at:16' \
  "components of \".\" are \".\", \".\"" "                 " 11
at_xfail=no
(
  $as_echo "77. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:16: test-file_name \".\""
at_fn_check_prepare_trace "file_name.at:16"
( $at_check_trace; test-file_name "."
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo ".
.
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:16"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_77
#AT_START_78
at_fn_group_banner 78 'file_name.at:17' \
  "components of \"..\" are \".\", \"..\"" "               " 11
at_xfail=no
(
  $as_echo "78. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:17: test-file_name \"..\""
at_fn_check_prepare_trace "file_name.at:17"
( $at_check_trace; test-file_name ".."
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo ".
..
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:17"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_78
#AT_START_79
at_fn_group_banner 79 'file_name.at:18' \
  "components of \"//\" are \"//\", \"//\"" "              " 11
at_xfail=no
(
  $as_echo "79. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:18: test-file_name \"//\""
at_fn_check_prepare_trace "file_name.at:18"
( $at_check_trace; test-file_name "//"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "//
//
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_79
#AT_START_80
at_fn_group_banner 80 'file_name.at:19' \
  "components of \"//foo\" are \"//\", \"foo\"" "          " 11
at_xfail=no
(
  $as_echo "80. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:19: test-file_name \"//foo\""
at_fn_check_prepare_trace "file_name.at:19"
( $at_check_trace; test-file_name "//foo"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "//
foo
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:19"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_80
#AT_START_81
at_fn_group_banner 81 'file_name.at:20' \
  "components of \"\" are \".\", \".\"" "                  " 11
at_xfail=no
(
  $as_echo "81. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:20: test-file_name \"\""
at_fn_check_prepare_trace "file_name.at:20"
( $at_check_trace; test-file_name ""
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo ".
.
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_81
#AT_START_82
at_fn_group_banner 82 'file_name.at:23' \
  "components of \"dir/file\" are \"dir\", \"file\"" "     " 11
at_xfail=no
(
  $as_echo "82. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:23: test-file_name \"dir/file\""
at_fn_check_prepare_trace "file_name.at:23"
( $at_check_trace; test-file_name "dir/file"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "dir
file
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:23"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_82
#AT_START_83
at_fn_group_banner 83 'file_name.at:24' \
  "components of \"dir/file/\" are \"dir\", \"file\"" "    " 11
at_xfail=no
(
  $as_echo "83. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:24: test-file_name \"dir/file/\""
at_fn_check_prepare_trace "file_name.at:24"
( $at_check_trace; test-file_name "dir/file/"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "dir
file
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_83
#AT_START_84
at_fn_group_banner 84 'file_name.at:25' \
  "components of \"dir/file//\" are \"dir\", \"file\"" "   " 11
at_xfail=no
(
  $as_echo "84. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:25: test-file_name \"dir/file//\""
at_fn_check_prepare_trace "file_name.at:25"
( $at_check_trace; test-file_name "dir/file//"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "dir
file
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:25"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_84
#AT_START_85
at_fn_group_banner 85 'file_name.at:26' \
  "components of \"///foo\" are \"/\", \"foo\"" "          " 11
at_xfail=no
(
  $as_echo "85. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/file_name.at:26: test-file_name \"///foo\""
at_fn_check_prepare_trace "file_name.at:26"
( $at_check_trace; test-file_name "///foo"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "/
foo
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/file_name.at:26"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_85
#AT_START_86
at_fn_group_banner 86 'aes128.at:10' \
  "wikipedia test vector 1" "                        " 12
at_xfail=no
(
  $as_echo "86. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:10: test-aes128 00010203050607080a0b0c0d0f101112 506812a45f08c889b97f5980038b8359"
at_fn_check_prepare_trace "aes128.at:10"
( $at_check_trace; test-aes128 00010203050607080a0b0c0d0f101112 506812a45f08c889b97f5980038b8359
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "d8f532538289ef7d06b506a4fd5be9c9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:10"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_86
#AT_START_87
at_fn_group_banner 87 'aes128.at:16' \
  "wikipedia test vector 2" "                        " 12
at_xfail=no
(
  $as_echo "87. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:16: test-aes128 95A8EE8E89979B9EFDCBC6EB9797528D 4ec137a426dabf8aa0beb8bc0c2b89d6"
at_fn_check_prepare_trace "aes128.at:16"
( $at_check_trace; test-aes128 95A8EE8E89979B9EFDCBC6EB9797528D 4ec137a426dabf8aa0beb8bc0c2b89d6
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "d9b65d1232ba0199cdbd487b2a1fd646
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:16"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_87
#AT_START_88
at_fn_group_banner 88 'aes128.at:22' \
  "NIST KAT ECBKeySbox128e vector 0" "               " 12
at_xfail=no
(
  $as_echo "88. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:22: test-aes128 10a58869d74be5a374cf867cfb473859 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:22"
( $at_check_trace; test-aes128 10a58869d74be5a374cf867cfb473859 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "6d251e6944b051e04eaa6fb4dbf78465
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_88
#AT_START_89
at_fn_group_banner 89 'aes128.at:28' \
  "NIST KAT ECBKeySbox128e vector 1" "               " 12
at_xfail=no
(
  $as_echo "89. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:28: test-aes128 caea65cdbb75e9169ecd22ebe6e54675 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:28"
( $at_check_trace; test-aes128 caea65cdbb75e9169ecd22ebe6e54675 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "6e29201190152df4ee058139def610bb
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:28"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_89
#AT_START_90
at_fn_group_banner 90 'aes128.at:34' \
  "NIST KAT ECBKeySbox128e vector 2" "               " 12
at_xfail=no
(
  $as_echo "90. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:34: test-aes128 a2e2fa9baf7d20822ca9f0542f764a41 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:34"
( $at_check_trace; test-aes128 a2e2fa9baf7d20822ca9f0542f764a41 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "c3b44b95d9d2f25670eee9a0de099fa3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:34"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_90
#AT_START_91
at_fn_group_banner 91 'aes128.at:40' \
  "NIST KAT ECBKeySbox128e vector 3" "               " 12
at_xfail=no
(
  $as_echo "91. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:40: test-aes128 b6364ac4e1de1e285eaf144a2415f7a0 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:40"
( $at_check_trace; test-aes128 b6364ac4e1de1e285eaf144a2415f7a0 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "5d9b05578fc944b3cf1ccf0e746cd581
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:40"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_91
#AT_START_92
at_fn_group_banner 92 'aes128.at:46' \
  "NIST KAT ECBKeySbox128e vector 4" "               " 12
at_xfail=no
(
  $as_echo "92. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:46: test-aes128 64cf9c7abc50b888af65f49d521944b2 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:46"
( $at_check_trace; test-aes128 64cf9c7abc50b888af65f49d521944b2 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "f7efc89d5dba578104016ce5ad659c05
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:46"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_92
#AT_START_93
at_fn_group_banner 93 'aes128.at:52' \
  "NIST KAT ECBKeySbox128e vector 5" "               " 12
at_xfail=no
(
  $as_echo "93. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:52: test-aes128 47d6742eefcc0465dc96355e851b64d9 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:52"
( $at_check_trace; test-aes128 47d6742eefcc0465dc96355e851b64d9 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0306194f666d183624aa230a8b264ae7
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:52"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_93
#AT_START_94
at_fn_group_banner 94 'aes128.at:58' \
  "NIST KAT ECBKeySbox128e vector 6" "               " 12
at_xfail=no
(
  $as_echo "94. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:58: test-aes128 3eb39790678c56bee34bbcdeccf6cdb5 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:58"
( $at_check_trace; test-aes128 3eb39790678c56bee34bbcdeccf6cdb5 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "858075d536d79ccee571f7d7204b1f67
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:58"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_94
#AT_START_95
at_fn_group_banner 95 'aes128.at:64' \
  "NIST KAT ECBKeySbox128e vector 7" "               " 12
at_xfail=no
(
  $as_echo "95. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:64: test-aes128 64110a924f0743d500ccadae72c13427 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:64"
( $at_check_trace; test-aes128 64110a924f0743d500ccadae72c13427 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "35870c6a57e9e92314bcb8087cde72ce
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:64"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_95
#AT_START_96
at_fn_group_banner 96 'aes128.at:70' \
  "NIST KAT ECBKeySbox128e vector 8" "               " 12
at_xfail=no
(
  $as_echo "96. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:70: test-aes128 18d8126516f8a12ab1a36d9f04d68e51 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:70"
( $at_check_trace; test-aes128 18d8126516f8a12ab1a36d9f04d68e51 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "6c68e9be5ec41e22c825b7c7affb4363
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:70"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_96
#AT_START_97
at_fn_group_banner 97 'aes128.at:76' \
  "NIST KAT ECBKeySbox128e vector 9" "               " 12
at_xfail=no
(
  $as_echo "97. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:76: test-aes128 f530357968578480b398a3c251cd1093 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:76"
( $at_check_trace; test-aes128 f530357968578480b398a3c251cd1093 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "f5df39990fc688f1b07224cc03e86cea
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:76"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_97
#AT_START_98
at_fn_group_banner 98 'aes128.at:82' \
  "NIST KAT ECBKeySbox128e vector 10" "              " 12
at_xfail=no
(
  $as_echo "98. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:82: test-aes128 da84367f325d42d601b4326964802e8e 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:82"
( $at_check_trace; test-aes128 da84367f325d42d601b4326964802e8e 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bba071bcb470f8f6586e5d3add18bc66
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:82"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_98
#AT_START_99
at_fn_group_banner 99 'aes128.at:88' \
  "NIST KAT ECBKeySbox128e vector 11" "              " 12
at_xfail=no
(
  $as_echo "99. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:88: test-aes128 e37b1c6aa2846f6fdb413f238b089f23 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:88"
( $at_check_trace; test-aes128 e37b1c6aa2846f6fdb413f238b089f23 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "43c9f7e62f5d288bb27aa40ef8fe1ea8
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:88"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_99
#AT_START_100
at_fn_group_banner 100 'aes128.at:94' \
  "NIST KAT ECBKeySbox128e vector 12" "              " 12
at_xfail=no
(
  $as_echo "100. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:94: test-aes128 6c002b682483e0cabcc731c253be5674 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:94"
( $at_check_trace; test-aes128 6c002b682483e0cabcc731c253be5674 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "3580d19cff44f1014a7c966a69059de5
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:94"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_100
#AT_START_101
at_fn_group_banner 101 'aes128.at:100' \
  "NIST KAT ECBKeySbox128e vector 13" "              " 12
at_xfail=no
(
  $as_echo "101. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:100: test-aes128 143ae8ed6555aba96110ab58893a8ae1 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:100"
( $at_check_trace; test-aes128 143ae8ed6555aba96110ab58893a8ae1 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "806da864dd29d48deafbe764f8202aef
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:100"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_101
#AT_START_102
at_fn_group_banner 102 'aes128.at:106' \
  "NIST KAT ECBKeySbox128e vector 14" "              " 12
at_xfail=no
(
  $as_echo "102. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:106: test-aes128 b69418a85332240dc82492353956ae0c 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:106"
( $at_check_trace; test-aes128 b69418a85332240dc82492353956ae0c 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a303d940ded8f0baff6f75414cac5243
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:106"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_102
#AT_START_103
at_fn_group_banner 103 'aes128.at:112' \
  "NIST KAT ECBKeySbox128e vector 15" "              " 12
at_xfail=no
(
  $as_echo "103. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:112: test-aes128 71b5c08a1993e1362e4d0ce9b22b78d5 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:112"
( $at_check_trace; test-aes128 71b5c08a1993e1362e4d0ce9b22b78d5 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "c2dabd117f8a3ecabfbb11d12194d9d0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:112"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_103
#AT_START_104
at_fn_group_banner 104 'aes128.at:118' \
  "NIST KAT ECBKeySbox128e vector 16" "              " 12
at_xfail=no
(
  $as_echo "104. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:118: test-aes128 e234cdca2606b81f29408d5f6da21206 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:118"
( $at_check_trace; test-aes128 e234cdca2606b81f29408d5f6da21206 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "fff60a4740086b3b9c56195b98d91a7b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:118"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_104
#AT_START_105
at_fn_group_banner 105 'aes128.at:124' \
  "NIST KAT ECBKeySbox128e vector 17" "              " 12
at_xfail=no
(
  $as_echo "105. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:124: test-aes128 13237c49074a3da078dc1d828bb78c6f 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:124"
( $at_check_trace; test-aes128 13237c49074a3da078dc1d828bb78c6f 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "8146a08e2357f0caa30ca8c94d1a0544
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:124"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_105
#AT_START_106
at_fn_group_banner 106 'aes128.at:130' \
  "NIST KAT ECBKeySbox128e vector 18" "              " 12
at_xfail=no
(
  $as_echo "106. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:130: test-aes128 3071a2a48fe6cbd04f1a129098e308f8 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:130"
( $at_check_trace; test-aes128 3071a2a48fe6cbd04f1a129098e308f8 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "4b98e06d356deb07ebb824e5713f7be3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:130"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_106
#AT_START_107
at_fn_group_banner 107 'aes128.at:136' \
  "NIST KAT ECBKeySbox128e vector 19" "              " 12
at_xfail=no
(
  $as_echo "107. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:136: test-aes128 90f42ec0f68385f2ffc5dfc03a654dce 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:136"
( $at_check_trace; test-aes128 90f42ec0f68385f2ffc5dfc03a654dce 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "7a20a53d460fc9ce0423a7a0764c6cf2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:136"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_107
#AT_START_108
at_fn_group_banner 108 'aes128.at:142' \
  "NIST KAT ECBKeySbox128e vector 20" "              " 12
at_xfail=no
(
  $as_echo "108. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/aes128.at:142: test-aes128 febd9a24d8b65c1c787d50a4ed3619a9 00000000000000000000000000000000"
at_fn_check_prepare_trace "aes128.at:142"
( $at_check_trace; test-aes128 febd9a24d8b65c1c787d50a4ed3619a9 00000000000000000000000000000000
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "f4a70d8af877f9b02b4c40df57d45b17
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/aes128.at:142"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_108
#AT_START_109
at_fn_group_banner 109 'uuid.at:17' \
  "UUID generation" "                                " 13
at_xfail=no
(
  $as_echo "109. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/uuid.at:19: test-uuid > uuid"
at_fn_check_prepare_trace "uuid.at:19"
( $at_check_trace; test-uuid > uuid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/uuid.at:19"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/uuid.at:20:
  uuid=\`cat uuid\`
  if expr \"\$uuid\" : '[0-9a-f]\\{8\\}-[0-9a-f]\\{4\\}-4[0-9a-f]\\{3\\}-[89ab][0-9a-f]\\{3\\}-[0-9a-f]\\{12\\}\$' > /dev/null
   then
      :
   else
     echo \"\$uuid: not a random UUID\"
     exit 1
   fi"
at_fn_check_prepare_notrace 'a `...` command substitution' "uuid.at:20"
( $at_check_trace;
  uuid=`cat uuid`
  if expr "$uuid" : '[0-9a-f]\{8\}-[0-9a-f]\{4\}-4[0-9a-f]\{3\}-[89ab][0-9a-f]\{3\}-[0-9a-f]\{12\}$' > /dev/null
   then
      :
   else
     echo "$uuid: not a random UUID"
     exit 1
   fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/uuid.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_109
#AT_START_110
at_fn_group_banner 110 'uuid.at:27' \
  "UUID parsing and serialization" "                 " 13
at_xfail=no
(
  $as_echo "110. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/uuid.at:29: test-uuid f47ac10b-58cc-4372-a567-0e02b2c3d479"
at_fn_check_prepare_trace "uuid.at:29"
( $at_check_trace; test-uuid f47ac10b-58cc-4372-a567-0e02b2c3d479
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "f47ac10b-58cc-4372-a567-0e02b2c3d479
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/uuid.at:29"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_110
#AT_START_111
at_fn_group_banner 111 'uuid.at:34' \
  "UUID generation, parsing, serialization" "        " 13
at_xfail=no
(
  $as_echo "111. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "uuid.at:35" >"$at_check_line_file"
(test "$CHECK_LCOV" = true) \
  && at_fn_check_skip 77 "$at_srcdir/uuid.at:35" # lcov makes this test absurdly slow

{ set +x
$as_echo "$at_srcdir/uuid.at:37:
  uuids=
  for i in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 ; do
     # Generate random UUID and check that it is in the expected format.
     uuid=\`test-uuid\`
     if expr \"\$uuid\" : '[0-9a-f]\\{8\\}-[0-9a-f]\\{4\\}-4[0-9a-f]\\{3\\}-[89ab][0-9a-f]\\{3\\}-[0-9a-f]\\{12\\}\$' > /dev/null
   then
      :
   else
     echo \"\$uuid: not a random UUID\"
     exit 1
   fi

     # Verify that \$uuid does not duplicate any UUID generated so far.
     case \$uuids in
       *\$uuid*)
         echo \"\$uuid: generated duplicate UUID\"
         exit 1
     esac
     uuids=\"\$uuids \$uuid\"

     # Verify that test-uuid parses and re-serializes this UUID correctly.
     serialized=\`test-uuid \$uuid\`
     if test \"\$uuid\" != \"\$serialized\"; then
       echo \"\$uuid: test-uuid serialized this as \$serialized\"
       exit 1
     fi
   done"
at_fn_check_prepare_notrace 'a `...` command substitution' "uuid.at:37"
( $at_check_trace;
  uuids=
  for i in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 ; do
     # Generate random UUID and check that it is in the expected format.
     uuid=`test-uuid`
     if expr "$uuid" : '[0-9a-f]\{8\}-[0-9a-f]\{4\}-4[0-9a-f]\{3\}-[89ab][0-9a-f]\{3\}-[0-9a-f]\{12\}$' > /dev/null
   then
      :
   else
     echo "$uuid: not a random UUID"
     exit 1
   fi

     # Verify that $uuid does not duplicate any UUID generated so far.
     case $uuids in
       *$uuid*)
         echo "$uuid: generated duplicate UUID"
         exit 1
     esac
     uuids="$uuids $uuid"

     # Verify that test-uuid parses and re-serializes this UUID correctly.
     serialized=`test-uuid $uuid`
     if test "$uuid" != "$serialized"; then
       echo "$uuid: test-uuid serialized this as $serialized"
       exit 1
     fi
   done
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/uuid.at:37"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_111
#AT_START_112
at_fn_group_banner 112 'json.at:53' \
  "empty array - C" "                                " 14
at_xfail=no
(
  $as_echo "112. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:53: printf %s \" [   ] \" > input"
at_fn_check_prepare_trace "json.at:53"
( $at_check_trace; printf %s " [   ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:53"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:53: test-json  input"
at_fn_check_prepare_trace "json.at:53"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:53"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:53: cat stdout"
at_fn_check_prepare_trace "json.at:53"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:53"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_112
#AT_START_113
at_fn_group_banner 113 'json.at:53' \
  "empty array - Python" "                           " 14
at_xfail=no
(
  $as_echo "113. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:53" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:53"
   { set +x
$as_echo "$at_srcdir/json.at:53: printf %s \" [   ] \" > input"
at_fn_check_prepare_trace "json.at:53"
( $at_check_trace; printf %s " [   ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:53"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:53: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:53"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:53"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:53: cat stdout"
at_fn_check_prepare_trace "json.at:53"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:53"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_113
#AT_START_114
at_fn_group_banner 114 'json.at:54' \
  "single-element array - C" "                       " 14
at_xfail=no
(
  $as_echo "114. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:54: printf %s \" [ 1 ] \" > input"
at_fn_check_prepare_trace "json.at:54"
( $at_check_trace; printf %s " [ 1 ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:54"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:54: test-json  input"
at_fn_check_prepare_trace "json.at:54"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:54"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:54: cat stdout"
at_fn_check_prepare_trace "json.at:54"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:54"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_114
#AT_START_115
at_fn_group_banner 115 'json.at:54' \
  "single-element array - Python" "                  " 14
at_xfail=no
(
  $as_echo "115. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:54" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:54"
   { set +x
$as_echo "$at_srcdir/json.at:54: printf %s \" [ 1 ] \" > input"
at_fn_check_prepare_trace "json.at:54"
( $at_check_trace; printf %s " [ 1 ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:54"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:54: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:54"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:54"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:54: cat stdout"
at_fn_check_prepare_trace "json.at:54"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:54"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_115
#AT_START_116
at_fn_group_banner 116 'json.at:55' \
  "2-element array - C" "                            " 14
at_xfail=no
(
  $as_echo "116. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:55: printf %s \" [ 1, 2 ] \" > input"
at_fn_check_prepare_trace "json.at:55"
( $at_check_trace; printf %s " [ 1, 2 ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:55"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:55: test-json  input"
at_fn_check_prepare_trace "json.at:55"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:55"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:55: cat stdout"
at_fn_check_prepare_trace "json.at:55"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1,2]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:55"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_116
#AT_START_117
at_fn_group_banner 117 'json.at:55' \
  "2-element array - Python" "                       " 14
at_xfail=no
(
  $as_echo "117. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:55" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:55"
   { set +x
$as_echo "$at_srcdir/json.at:55: printf %s \" [ 1, 2 ] \" > input"
at_fn_check_prepare_trace "json.at:55"
( $at_check_trace; printf %s " [ 1, 2 ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:55"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:55: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:55"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:55"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:55: cat stdout"
at_fn_check_prepare_trace "json.at:55"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1,2]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:55"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_117
#AT_START_118
at_fn_group_banner 118 'json.at:56' \
  "many-element array - C" "                         " 14
at_xfail=no
(
  $as_echo "118. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:56: printf %s \" [ 1, 2, 3, 4, 5 ] \" > input"
at_fn_check_prepare_trace "json.at:56"
( $at_check_trace; printf %s " [ 1, 2, 3, 4, 5 ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:56"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:56: test-json  input"
at_fn_check_prepare_trace "json.at:56"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:56"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:56: cat stdout"
at_fn_check_prepare_trace "json.at:56"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1,2,3,4,5]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:56"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_118
#AT_START_119
at_fn_group_banner 119 'json.at:56' \
  "many-element array - Python" "                    " 14
at_xfail=no
(
  $as_echo "119. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:56" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:56"
   { set +x
$as_echo "$at_srcdir/json.at:56: printf %s \" [ 1, 2, 3, 4, 5 ] \" > input"
at_fn_check_prepare_trace "json.at:56"
( $at_check_trace; printf %s " [ 1, 2, 3, 4, 5 ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:56"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:56: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:56"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:56"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:56: cat stdout"
at_fn_check_prepare_trace "json.at:56"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1,2,3,4,5]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:56"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_119
#AT_START_120
at_fn_group_banner 120 'json.at:59' \
  "missing comma - C" "                              " 14
at_xfail=no
(
  $as_echo "120. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:59: printf %s \" [ 1, 2, 3 4, 5 ] \" > input"
at_fn_check_prepare_trace "json.at:59"
( $at_check_trace; printf %s " [ 1, 2, 3 4, 5 ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:59"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:59: test-json  input"
at_fn_check_prepare_trace "json.at:59"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:59"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:59: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:59"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting ']' or ','
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:59"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_120
#AT_START_121
at_fn_group_banner 121 'json.at:59' \
  "missing comma - Python" "                         " 14
at_xfail=no
(
  $as_echo "121. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:59" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:59"
   { set +x
$as_echo "$at_srcdir/json.at:59: printf %s \" [ 1, 2, 3 4, 5 ] \" > input"
at_fn_check_prepare_trace "json.at:59"
( $at_check_trace; printf %s " [ 1, 2, 3 4, 5 ] " > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:59"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:59: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:59"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:59"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:59: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:59"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting ']' or ','
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:59"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_121
#AT_START_122
at_fn_group_banner 122 'json.at:61' \
  "trailing comma not allowed - C" "                 " 14
at_xfail=no
(
  $as_echo "122. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:61: printf %s \"[1,2,]\" > input"
at_fn_check_prepare_trace "json.at:61"
( $at_check_trace; printf %s "[1,2,]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:61"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:61: test-json  input"
at_fn_check_prepare_trace "json.at:61"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:61"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:61: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:61"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting value
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:61"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_122
#AT_START_123
at_fn_group_banner 123 'json.at:61' \
  "trailing comma not allowed - Python" "            " 14
at_xfail=no
(
  $as_echo "123. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:61" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:61"
   { set +x
$as_echo "$at_srcdir/json.at:61: printf %s \"[1,2,]\" > input"
at_fn_check_prepare_trace "json.at:61"
( $at_check_trace; printf %s "[1,2,]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:61"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:61: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:61"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:61"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:61: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:61"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting value
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:61"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_123
#AT_START_124
at_fn_group_banner 124 'json.at:63' \
  "doubled comma not allowed - C" "                  " 14
at_xfail=no
(
  $as_echo "124. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:63: printf %s \"[1,,2]\" > input"
at_fn_check_prepare_trace "json.at:63"
( $at_check_trace; printf %s "[1,,2]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:63"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:63: test-json  input"
at_fn_check_prepare_trace "json.at:63"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:63"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:63: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:63"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting value
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:63"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_124
#AT_START_125
at_fn_group_banner 125 'json.at:63' \
  "doubled comma not allowed - Python" "             " 14
at_xfail=no
(
  $as_echo "125. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:63" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:63"
   { set +x
$as_echo "$at_srcdir/json.at:63: printf %s \"[1,,2]\" > input"
at_fn_check_prepare_trace "json.at:63"
( $at_check_trace; printf %s "[1,,2]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:63"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:63: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:63"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:63"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:63: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:63"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting value
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:63"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_125
#AT_START_126
at_fn_group_banner 126 'json.at:68' \
  "empty string - C" "                               " 15
at_xfail=no
(
  $as_echo "126. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:68: printf %s \"[ \\\"\\\" ]\" > input"
at_fn_check_prepare_trace "json.at:68"
( $at_check_trace; printf %s "[ \"\" ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:68"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:68: test-json  input"
at_fn_check_prepare_trace "json.at:68"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:68"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:68: cat stdout"
at_fn_check_prepare_trace "json.at:68"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:68"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_126
#AT_START_127
at_fn_group_banner 127 'json.at:68' \
  "empty string - Python" "                          " 15
at_xfail=no
(
  $as_echo "127. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:68" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:68"
   { set +x
$as_echo "$at_srcdir/json.at:68: printf %s \"[ \\\"\\\" ]\" > input"
at_fn_check_prepare_trace "json.at:68"
( $at_check_trace; printf %s "[ \"\" ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:68"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:68: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:68"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:68"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:68: cat stdout"
at_fn_check_prepare_trace "json.at:68"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:68"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_127
#AT_START_128
at_fn_group_banner 128 'json.at:69' \
  "1-character strings - C" "                        " 15
at_xfail=no
(
  $as_echo "128. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:69: printf %s \"[ \\\"a\\\", \\\"b\\\", \\\"c\\\" ]\" > input"
at_fn_check_prepare_trace "json.at:69"
( $at_check_trace; printf %s "[ \"a\", \"b\", \"c\" ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:69"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:69: test-json  input"
at_fn_check_prepare_trace "json.at:69"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:69"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:69: cat stdout"
at_fn_check_prepare_trace "json.at:69"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"a\",\"b\",\"c\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:69"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_128
#AT_START_129
at_fn_group_banner 129 'json.at:69' \
  "1-character strings - Python" "                   " 15
at_xfail=no
(
  $as_echo "129. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:69" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:69"
   { set +x
$as_echo "$at_srcdir/json.at:69: printf %s \"[ \\\"a\\\", \\\"b\\\", \\\"c\\\" ]\" > input"
at_fn_check_prepare_trace "json.at:69"
( $at_check_trace; printf %s "[ \"a\", \"b\", \"c\" ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:69"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:69: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:69"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:69"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:69: cat stdout"
at_fn_check_prepare_trace "json.at:69"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"a\",\"b\",\"c\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:69"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_129
#AT_START_130
at_fn_group_banner 130 'json.at:72' \
  "escape sequences - C" "                           " 15
at_xfail=no
(
  $as_echo "130. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:72: printf %s \"[ \\\" \\\\\\\" \\\\\\\\ \\\\/ \\\\b \\\\f \\\\n \\\\r \\\\t\\\" ]\" > input"
at_fn_check_prepare_trace "json.at:72"
( $at_check_trace; printf %s "[ \" \\\" \\\\ \\/ \\b \\f \\n \\r \\t\" ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:72"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:72: test-json  input"
at_fn_check_prepare_trace "json.at:72"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:72"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:72: cat stdout"
at_fn_check_prepare_trace "json.at:72"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\" \\\" \\\\ / \\b \\f \\n \\r \\t\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:72"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_130
#AT_START_131
at_fn_group_banner 131 'json.at:72' \
  "escape sequences - Python" "                      " 15
at_xfail=no
(
  $as_echo "131. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:72" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:72"
   { set +x
$as_echo "$at_srcdir/json.at:72: printf %s \"[ \\\" \\\\\\\" \\\\\\\\ \\\\/ \\\\b \\\\f \\\\n \\\\r \\\\t\\\" ]\" > input"
at_fn_check_prepare_trace "json.at:72"
( $at_check_trace; printf %s "[ \" \\\" \\\\ \\/ \\b \\f \\n \\r \\t\" ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:72"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:72: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:72"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:72"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:72: cat stdout"
at_fn_check_prepare_trace "json.at:72"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\" \\\" \\\\ / \\b \\f \\n \\r \\t\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:72"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_131
#AT_START_132
at_fn_group_banner 132 'json.at:75' \
  "Unicode escape sequences - C" "                   " 15
at_xfail=no
(
  $as_echo "132. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:75: printf %s \"[ \\\" \\\\u0022 \\\\u005c \\\\u002F \\\\u0008 \\\\u000c \\\\u000A \\\\u000d \\\\u0009\\\" ]\" > input"
at_fn_check_prepare_trace "json.at:75"
( $at_check_trace; printf %s "[ \" \\u0022 \\u005c \\u002F \\u0008 \\u000c \\u000A \\u000d \\u0009\" ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:75"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:75: test-json  input"
at_fn_check_prepare_trace "json.at:75"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:75"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:75: cat stdout"
at_fn_check_prepare_trace "json.at:75"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\" \\\" \\\\ / \\b \\f \\n \\r \\t\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:75"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_132
#AT_START_133
at_fn_group_banner 133 'json.at:75' \
  "Unicode escape sequences - Python" "              " 15
at_xfail=no
(
  $as_echo "133. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:75" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:75"
   { set +x
$as_echo "$at_srcdir/json.at:75: printf %s \"[ \\\" \\\\u0022 \\\\u005c \\\\u002F \\\\u0008 \\\\u000c \\\\u000A \\\\u000d \\\\u0009\\\" ]\" > input"
at_fn_check_prepare_trace "json.at:75"
( $at_check_trace; printf %s "[ \" \\u0022 \\u005c \\u002F \\u0008 \\u000c \\u000A \\u000d \\u0009\" ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:75"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:75: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:75"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:75"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:75: cat stdout"
at_fn_check_prepare_trace "json.at:75"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\" \\\" \\\\ / \\b \\f \\n \\r \\t\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:75"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_133
#AT_START_134
at_fn_group_banner 134 'json.at:78' \
  "surrogate pairs - C" "                            " 15
at_xfail=no
(
  $as_echo "134. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:78: printf %s \"[\\\"\\\\ud834\\\\udd1e\\\"]\" > input"
at_fn_check_prepare_trace "json.at:78"
( $at_check_trace; printf %s "[\"\\ud834\\udd1e\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:78"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:78: test-json  input"
at_fn_check_prepare_trace "json.at:78"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:78"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:78: cat stdout"
at_fn_check_prepare_trace "json.at:78"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:78"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_134
#AT_START_135
at_fn_group_banner 135 'json.at:78' \
  "surrogate pairs - Python" "                       " 15
at_xfail=no
(
  $as_echo "135. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:78" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:78"
   { set +x
$as_echo "$at_srcdir/json.at:78: printf %s \"[\\\"\\\\ud834\\\\udd1e\\\"]\" > input"
at_fn_check_prepare_trace "json.at:78"
( $at_check_trace; printf %s "[\"\\ud834\\udd1e\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:78"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:78: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:78"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:78"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:78: cat stdout"
at_fn_check_prepare_trace "json.at:78"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:78"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_135
#AT_START_136
at_fn_group_banner 136 'json.at:81' \
  "a string by itself is not valid JSON - C" "       " 15
at_xfail=no
(
  $as_echo "136. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:81: printf %s \"\\\"xxx\\\"\" > input"
at_fn_check_prepare_trace "json.at:81"
( $at_check_trace; printf %s "\"xxx\"" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:81"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:81: test-json  input"
at_fn_check_prepare_trace "json.at:81"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:81"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:81: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:81"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error at beginning of input
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:81"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_136
#AT_START_137
at_fn_group_banner 137 'json.at:81' \
  "a string by itself is not valid JSON - Python" "  " 15
at_xfail=no
(
  $as_echo "137. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:81" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:81"
   { set +x
$as_echo "$at_srcdir/json.at:81: printf %s \"\\\"xxx\\\"\" > input"
at_fn_check_prepare_trace "json.at:81"
( $at_check_trace; printf %s "\"xxx\"" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:81"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:81: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:81"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:81"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:81: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:81"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error at beginning of input
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:81"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_137
#AT_START_138
at_fn_group_banner 138 'json.at:83' \
  "end of line in quoted string - C" "               " 15
at_xfail=no
(
  $as_echo "138. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:83: printf %s \"[\\\"xxx
\\\"]\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:83"
( $at_check_trace; printf %s "[\"xxx
\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:83"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:83: test-json  input"
at_fn_check_prepare_trace "json.at:83"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:83"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:83: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:83"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: U+000A must be escaped in quoted string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:83"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_138
#AT_START_139
at_fn_group_banner 139 'json.at:83' \
  "end of line in quoted string - Python" "          " 15
at_xfail=no
(
  $as_echo "139. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:83" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:83"
   { set +x
$as_echo "$at_srcdir/json.at:83: printf %s \"[\\\"xxx
\\\"]\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:83"
( $at_check_trace; printf %s "[\"xxx
\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:83"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:83: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:83"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:83"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:83: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:83"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: U+000A must be escaped in quoted string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:83"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_139
#AT_START_140
at_fn_group_banner 140 'json.at:87' \
  "formfeed in quoted string - C" "                  " 15
at_xfail=no
(
  $as_echo "140. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:87: printf %s \"[\\\"xxx\\\"]\" > input"
at_fn_check_prepare_trace "json.at:87"
( $at_check_trace; printf %s "[\"xxx\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:87"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:87: test-json  input"
at_fn_check_prepare_trace "json.at:87"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:87"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:87: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:87"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: U+000C must be escaped in quoted string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:87"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_140
#AT_START_141
at_fn_group_banner 141 'json.at:87' \
  "formfeed in quoted string - Python" "             " 15
at_xfail=no
(
  $as_echo "141. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:87" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:87"
   { set +x
$as_echo "$at_srcdir/json.at:87: printf %s \"[\\\"xxx\\\"]\" > input"
at_fn_check_prepare_trace "json.at:87"
( $at_check_trace; printf %s "[\"xxx\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:87"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:87: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:87"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:87"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:87: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:87"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: U+000C must be escaped in quoted string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:87"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_141
#AT_START_142
at_fn_group_banner 142 'json.at:90' \
  "bad escape in quoted string - C" "                " 15
at_xfail=no
(
  $as_echo "142. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:90: printf %s \"[\\\"\\\\x12\\\"]\" > input"
at_fn_check_prepare_trace "json.at:90"
( $at_check_trace; printf %s "[\"\\x12\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:90"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:90: test-json  input"
at_fn_check_prepare_trace "json.at:90"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:90"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:90: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:90"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: bad escape \\x
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:90"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_142
#AT_START_143
at_fn_group_banner 143 'json.at:90' \
  "bad escape in quoted string - Python" "           " 15
at_xfail=no
(
  $as_echo "143. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:90" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:90"
   { set +x
$as_echo "$at_srcdir/json.at:90: printf %s \"[\\\"\\\\x12\\\"]\" > input"
at_fn_check_prepare_trace "json.at:90"
( $at_check_trace; printf %s "[\"\\x12\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:90"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:90: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:90"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:90"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:90: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:90"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: bad escape \\x
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:90"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_143
#AT_START_144
at_fn_group_banner 144 'json.at:93' \
  "\\u must be followed by 4 hex digits (1) - C" "    " 15
at_xfail=no
(
  $as_echo "144. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:93: printf %s \"[\\\"\\\\u1x\\\"]\" > input"
at_fn_check_prepare_trace "json.at:93"
( $at_check_trace; printf %s "[\"\\u1x\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:93"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:93: test-json  input"
at_fn_check_prepare_trace "json.at:93"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:93"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:93: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:93"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: quoted string ends within \\u escape
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:93"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_144
#AT_START_145
at_fn_group_banner 145 'json.at:93' \
  "\\u must be followed by 4 hex digits (1) - Python" "" 15
at_xfail=no
(
  $as_echo "145. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:93" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:93"
   { set +x
$as_echo "$at_srcdir/json.at:93: printf %s \"[\\\"\\\\u1x\\\"]\" > input"
at_fn_check_prepare_trace "json.at:93"
( $at_check_trace; printf %s "[\"\\u1x\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:93"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:93: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:93"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:93"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:93: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:93"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: quoted string ends within \\u escape
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:93"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_145
#AT_START_146
at_fn_group_banner 146 'json.at:96' \
  "\\u must be followed by 4 hex digits (2) - C" "    " 15
at_xfail=no
(
  $as_echo "146. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:96: printf %s \"[\\\"\\\\u1xyz\\\"]\" > input"
at_fn_check_prepare_trace "json.at:96"
( $at_check_trace; printf %s "[\"\\u1xyz\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:96"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:96: test-json  input"
at_fn_check_prepare_trace "json.at:96"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:96"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:96: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:96"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: malformed \\u escape
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:96"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_146
#AT_START_147
at_fn_group_banner 147 'json.at:96' \
  "\\u must be followed by 4 hex digits (2) - Python" "" 15
at_xfail=no
(
  $as_echo "147. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:96" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:96"
   { set +x
$as_echo "$at_srcdir/json.at:96: printf %s \"[\\\"\\\\u1xyz\\\"]\" > input"
at_fn_check_prepare_trace "json.at:96"
( $at_check_trace; printf %s "[\"\\u1xyz\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:96"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:96: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:96"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:96"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:96: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:96"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: malformed \\u escape
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:96"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_147
#AT_START_148
at_fn_group_banner 148 'json.at:99' \
  "isolated leading surrogate not allowed - C" "     " 15
at_xfail=no
(
  $as_echo "148. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:99: printf %s \"[\\\"\\\\ud834xxx\\\"]\" > input"
at_fn_check_prepare_trace "json.at:99"
( $at_check_trace; printf %s "[\"\\ud834xxx\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:99"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:99: test-json  input"
at_fn_check_prepare_trace "json.at:99"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:99"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:99: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:99"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: malformed escaped surrogate pair
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:99"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_148
#AT_START_149
at_fn_group_banner 149 'json.at:99' \
  "isolated leading surrogate not allowed - Python" "" 15
at_xfail=no
(
  $as_echo "149. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:99" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:99"
   { set +x
$as_echo "$at_srcdir/json.at:99: printf %s \"[\\\"\\\\ud834xxx\\\"]\" > input"
at_fn_check_prepare_trace "json.at:99"
( $at_check_trace; printf %s "[\"\\ud834xxx\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:99"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:99: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:99"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:99"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:99: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:99"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: malformed escaped surrogate pair
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:99"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_149
#AT_START_150
at_fn_group_banner 150 'json.at:102' \
  "surrogatess must paired properly - C" "           " 15
at_xfail=no
(
  $as_echo "150. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:102: printf %s \"[\\\"\\\\ud834\\\\u1234\\\"]\" > input"
at_fn_check_prepare_trace "json.at:102"
( $at_check_trace; printf %s "[\"\\ud834\\u1234\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:102"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:102: test-json  input"
at_fn_check_prepare_trace "json.at:102"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:102"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:102: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:102"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: second half of escaped surrogate pair is not trailing surrogate
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:102"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_150
#AT_START_151
at_fn_group_banner 151 'json.at:102' \
  "surrogatess must paired properly - Python" "      " 15
at_xfail=no
(
  $as_echo "151. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:102" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:102"
   { set +x
$as_echo "$at_srcdir/json.at:102: printf %s \"[\\\"\\\\ud834\\\\u1234\\\"]\" > input"
at_fn_check_prepare_trace "json.at:102"
( $at_check_trace; printf %s "[\"\\ud834\\u1234\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:102"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:102: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:102"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:102"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:102: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:102"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: second half of escaped surrogate pair is not trailing surrogate
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:102"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_151
#AT_START_152
at_fn_group_banner 152 'json.at:105' \
  "null bytes not allowed - C" "                     " 15
at_xfail=no
(
  $as_echo "152. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:105: printf %s \"[\\\"\\\\u0000\\\"]\" > input"
at_fn_check_prepare_trace "json.at:105"
( $at_check_trace; printf %s "[\"\\u0000\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:105"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:105: test-json  input"
at_fn_check_prepare_trace "json.at:105"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:105"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:105: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:105"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: null bytes not supported in quoted strings
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:105"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_152
#AT_START_153
at_fn_group_banner 153 'json.at:105' \
  "null bytes not allowed - Python" "                " 15
at_xfail=no
(
  $as_echo "153. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:105" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:105"
   { set +x
$as_echo "$at_srcdir/json.at:105: printf %s \"[\\\"\\\\u0000\\\"]\" > input"
at_fn_check_prepare_trace "json.at:105"
( $at_check_trace; printf %s "[\"\\u0000\"]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:105"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:105: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:105"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:105"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:105: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:105"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: null bytes not supported in quoted strings
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:105"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_153
#AT_START_154
at_fn_group_banner 154 'json.at:109' \
  "end of input in quoted string - C" "              " 15
at_xfail=no
(
  $as_echo "154. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/json.at:111: printf '\"xxx' | test-json -"
at_fn_check_prepare_notrace 'a shell pipeline' "json.at:111"
( $at_check_trace; printf '"xxx' | test-json -
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: line 0, column 4, byte 4: unexpected end of input in quoted string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/json.at:111"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_154
#AT_START_155
at_fn_group_banner 155 'json.at:116' \
  "end of input in quoted string - Python" "         " 15
at_xfail=no
(
  $as_echo "155. $at_setup_line: testing $at_desc ..."
  $at_traceon


$as_echo "json.at:118" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:118"
{ set +x
$as_echo "$at_srcdir/json.at:119: printf '\"xxx' > input
\$PYTHON \$srcdir/test-json.py input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:119"
( $at_check_trace; printf '"xxx' > input
$PYTHON $srcdir/test-json.py input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: line 0, column 4, byte 4: unexpected end of input in quoted string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/json.at:119"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_155
#AT_START_156
at_fn_group_banner 156 'json.at:127' \
  "empty object - C" "                               " 16
at_xfail=no
(
  $as_echo "156. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:127: printf %s \"{ }\" > input"
at_fn_check_prepare_trace "json.at:127"
( $at_check_trace; printf %s "{ }" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:127"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:127: test-json  input"
at_fn_check_prepare_trace "json.at:127"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:127"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:127: cat stdout"
at_fn_check_prepare_trace "json.at:127"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:127"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_156
#AT_START_157
at_fn_group_banner 157 'json.at:127' \
  "empty object - Python" "                          " 16
at_xfail=no
(
  $as_echo "157. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:127" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:127"
   { set +x
$as_echo "$at_srcdir/json.at:127: printf %s \"{ }\" > input"
at_fn_check_prepare_trace "json.at:127"
( $at_check_trace; printf %s "{ }" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:127"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:127: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:127"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:127"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:127: cat stdout"
at_fn_check_prepare_trace "json.at:127"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:127"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_157
#AT_START_158
at_fn_group_banner 158 'json.at:128' \
  "simple object - C" "                              " 16
at_xfail=no
(
  $as_echo "158. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:128: printf %s \"{\\\"b\\\": 2, \\\"a\\\": 1, \\\"c\\\": 3}\" > input"
at_fn_check_prepare_trace "json.at:128"
( $at_check_trace; printf %s "{\"b\": 2, \"a\": 1, \"c\": 3}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:128"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:128: test-json  input"
at_fn_check_prepare_trace "json.at:128"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:128"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:128: cat stdout"
at_fn_check_prepare_trace "json.at:128"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"a\":1,\"b\":2,\"c\":3}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:128"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_158
#AT_START_159
at_fn_group_banner 159 'json.at:128' \
  "simple object - Python" "                         " 16
at_xfail=no
(
  $as_echo "159. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:128" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:128"
   { set +x
$as_echo "$at_srcdir/json.at:128: printf %s \"{\\\"b\\\": 2, \\\"a\\\": 1, \\\"c\\\": 3}\" > input"
at_fn_check_prepare_trace "json.at:128"
( $at_check_trace; printf %s "{\"b\": 2, \"a\": 1, \"c\": 3}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:128"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:128: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:128"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:128"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:128: cat stdout"
at_fn_check_prepare_trace "json.at:128"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"a\":1,\"b\":2,\"c\":3}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:128"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_159
#AT_START_160
at_fn_group_banner 160 'json.at:131' \
  "bad value - C" "                                  " 16
at_xfail=no
(
  $as_echo "160. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:131: printf %s \"{\\\"a\\\": }, \\\"b\\\": 2\" > input"
at_fn_check_prepare_trace "json.at:131"
( $at_check_trace; printf %s "{\"a\": }, \"b\": 2" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:131"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:131: test-json  input"
at_fn_check_prepare_trace "json.at:131"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:131"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:131: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:131"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting value
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:131"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_160
#AT_START_161
at_fn_group_banner 161 'json.at:131' \
  "bad value - Python" "                             " 16
at_xfail=no
(
  $as_echo "161. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:131" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:131"
   { set +x
$as_echo "$at_srcdir/json.at:131: printf %s \"{\\\"a\\\": }, \\\"b\\\": 2\" > input"
at_fn_check_prepare_trace "json.at:131"
( $at_check_trace; printf %s "{\"a\": }, \"b\": 2" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:131"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:131: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:131"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:131"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:131: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:131"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting value
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:131"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_161
#AT_START_162
at_fn_group_banner 162 'json.at:133' \
  "missing colon - C" "                              " 16
at_xfail=no
(
  $as_echo "162. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:133: printf %s \"{\\\"b\\\": 2, \\\"a\\\" 1, \\\"c\\\": 3}\" > input"
at_fn_check_prepare_trace "json.at:133"
( $at_check_trace; printf %s "{\"b\": 2, \"a\" 1, \"c\": 3}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:133"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:133: test-json  input"
at_fn_check_prepare_trace "json.at:133"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:133"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:133: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:133"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error parsing object expecting ':'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:133"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_162
#AT_START_163
at_fn_group_banner 163 'json.at:133' \
  "missing colon - Python" "                         " 16
at_xfail=no
(
  $as_echo "163. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:133" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:133"
   { set +x
$as_echo "$at_srcdir/json.at:133: printf %s \"{\\\"b\\\": 2, \\\"a\\\" 1, \\\"c\\\": 3}\" > input"
at_fn_check_prepare_trace "json.at:133"
( $at_check_trace; printf %s "{\"b\": 2, \"a\" 1, \"c\": 3}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:133"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:133: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:133"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:133"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:133: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:133"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error parsing object expecting ':'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:133"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_163
#AT_START_164
at_fn_group_banner 164 'json.at:135' \
  "missing comma - C" "                              " 16
at_xfail=no
(
  $as_echo "164. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:135: printf %s \"{\\\"b\\\": 2 \\\"a\\\" 1, \\\"c\\\": 3}\" > input"
at_fn_check_prepare_trace "json.at:135"
( $at_check_trace; printf %s "{\"b\": 2 \"a\" 1, \"c\": 3}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:135"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:135: test-json  input"
at_fn_check_prepare_trace "json.at:135"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:135"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:135: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:135"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting '}' or ','
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:135"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_164
#AT_START_165
at_fn_group_banner 165 'json.at:135' \
  "missing comma - Python" "                         " 16
at_xfail=no
(
  $as_echo "165. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:135" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:135"
   { set +x
$as_echo "$at_srcdir/json.at:135: printf %s \"{\\\"b\\\": 2 \\\"a\\\" 1, \\\"c\\\": 3}\" > input"
at_fn_check_prepare_trace "json.at:135"
( $at_check_trace; printf %s "{\"b\": 2 \"a\" 1, \"c\": 3}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:135"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:135: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:135"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:135"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:135: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:135"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error expecting '}' or ','
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:135"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_165
#AT_START_166
at_fn_group_banner 166 'json.at:137' \
  "trailing comma not allowed - C" "                 " 16
at_xfail=no
(
  $as_echo "166. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:137: printf %s \"{\\\"b\\\": 2, \\\"a\\\": 1, \\\"c\\\": 3, }\" > input"
at_fn_check_prepare_trace "json.at:137"
( $at_check_trace; printf %s "{\"b\": 2, \"a\": 1, \"c\": 3, }" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:137"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:137: test-json  input"
at_fn_check_prepare_trace "json.at:137"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:137"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:137: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:137"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error parsing object expecting string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:137"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_166
#AT_START_167
at_fn_group_banner 167 'json.at:137' \
  "trailing comma not allowed - Python" "            " 16
at_xfail=no
(
  $as_echo "167. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:137" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:137"
   { set +x
$as_echo "$at_srcdir/json.at:137: printf %s \"{\\\"b\\\": 2, \\\"a\\\": 1, \\\"c\\\": 3, }\" > input"
at_fn_check_prepare_trace "json.at:137"
( $at_check_trace; printf %s "{\"b\": 2, \"a\": 1, \"c\": 3, }" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:137"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:137: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:137"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:137"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:137: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:137"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error parsing object expecting string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:137"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_167
#AT_START_168
at_fn_group_banner 168 'json.at:140' \
  "doubled comma not allowed - C" "                  " 16
at_xfail=no
(
  $as_echo "168. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:140: printf %s \"{\\\"b\\\": 2, \\\"a\\\": 1,, \\\"c\\\": 3}\" > input"
at_fn_check_prepare_trace "json.at:140"
( $at_check_trace; printf %s "{\"b\": 2, \"a\": 1,, \"c\": 3}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:140"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:140: test-json  input"
at_fn_check_prepare_trace "json.at:140"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:140"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:140: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:140"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error parsing object expecting string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:140"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_168
#AT_START_169
at_fn_group_banner 169 'json.at:140' \
  "doubled comma not allowed - Python" "             " 16
at_xfail=no
(
  $as_echo "169. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:140" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:140"
   { set +x
$as_echo "$at_srcdir/json.at:140: printf %s \"{\\\"b\\\": 2, \\\"a\\\": 1,, \\\"c\\\": 3}\" > input"
at_fn_check_prepare_trace "json.at:140"
( $at_check_trace; printf %s "{\"b\": 2, \"a\": 1,, \"c\": 3}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:140"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:140: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:140"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:140"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:140: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:140"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error parsing object expecting string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:140"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_169
#AT_START_170
at_fn_group_banner 170 'json.at:143' \
  "names must be strings - C" "                      " 16
at_xfail=no
(
  $as_echo "170. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:143: printf %s \"{1: 2}\" > input"
at_fn_check_prepare_trace "json.at:143"
( $at_check_trace; printf %s "{1: 2}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:143"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:143: test-json  input"
at_fn_check_prepare_trace "json.at:143"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:143"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:143: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:143"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error parsing object expecting string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:143"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_170
#AT_START_171
at_fn_group_banner 171 'json.at:143' \
  "names must be strings - Python" "                 " 16
at_xfail=no
(
  $as_echo "171. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:143" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:143"
   { set +x
$as_echo "$at_srcdir/json.at:143: printf %s \"{1: 2}\" > input"
at_fn_check_prepare_trace "json.at:143"
( $at_check_trace; printf %s "{1: 2}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:143"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:143: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:143"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:143"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:143: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:143"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error parsing object expecting string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:143"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_171
#AT_START_172
at_fn_group_banner 172 'json.at:149' \
  "null - C" "                                       " 17
at_xfail=no
(
  $as_echo "172. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:149: printf %s \"[ null ]\" > input"
at_fn_check_prepare_trace "json.at:149"
( $at_check_trace; printf %s "[ null ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:149: test-json  input"
at_fn_check_prepare_trace "json.at:149"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:149"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:149: cat stdout"
at_fn_check_prepare_trace "json.at:149"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[null]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:149"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_172
#AT_START_173
at_fn_group_banner 173 'json.at:149' \
  "null - Python" "                                  " 17
at_xfail=no
(
  $as_echo "173. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:149" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:149"
   { set +x
$as_echo "$at_srcdir/json.at:149: printf %s \"[ null ]\" > input"
at_fn_check_prepare_trace "json.at:149"
( $at_check_trace; printf %s "[ null ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:149: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:149"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:149"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:149: cat stdout"
at_fn_check_prepare_trace "json.at:149"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[null]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:149"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_173
#AT_START_174
at_fn_group_banner 174 'json.at:150' \
  "false - C" "                                      " 17
at_xfail=no
(
  $as_echo "174. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:150: printf %s \"[ false ]\" > input"
at_fn_check_prepare_trace "json.at:150"
( $at_check_trace; printf %s "[ false ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:150"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:150: test-json  input"
at_fn_check_prepare_trace "json.at:150"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:150"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:150: cat stdout"
at_fn_check_prepare_trace "json.at:150"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[false]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:150"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_174
#AT_START_175
at_fn_group_banner 175 'json.at:150' \
  "false - Python" "                                 " 17
at_xfail=no
(
  $as_echo "175. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:150" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:150"
   { set +x
$as_echo "$at_srcdir/json.at:150: printf %s \"[ false ]\" > input"
at_fn_check_prepare_trace "json.at:150"
( $at_check_trace; printf %s "[ false ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:150"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:150: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:150"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:150"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:150: cat stdout"
at_fn_check_prepare_trace "json.at:150"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[false]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:150"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_175
#AT_START_176
at_fn_group_banner 176 'json.at:151' \
  "true - C" "                                       " 17
at_xfail=no
(
  $as_echo "176. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:151: printf %s \"[ true ]\" > input"
at_fn_check_prepare_trace "json.at:151"
( $at_check_trace; printf %s "[ true ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:151"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:151: test-json  input"
at_fn_check_prepare_trace "json.at:151"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:151"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:151: cat stdout"
at_fn_check_prepare_trace "json.at:151"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[true]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:151"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_176
#AT_START_177
at_fn_group_banner 177 'json.at:151' \
  "true - Python" "                                  " 17
at_xfail=no
(
  $as_echo "177. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:151" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:151"
   { set +x
$as_echo "$at_srcdir/json.at:151: printf %s \"[ true ]\" > input"
at_fn_check_prepare_trace "json.at:151"
( $at_check_trace; printf %s "[ true ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:151"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:151: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:151"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:151"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:151: cat stdout"
at_fn_check_prepare_trace "json.at:151"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[true]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:151"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_177
#AT_START_178
at_fn_group_banner 178 'json.at:152' \
  "a literal by itself is not valid JSON - C" "      " 17
at_xfail=no
(
  $as_echo "178. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:152: printf %s \"null\" > input"
at_fn_check_prepare_trace "json.at:152"
( $at_check_trace; printf %s "null" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:152"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:152: test-json  input"
at_fn_check_prepare_trace "json.at:152"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:152"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:152: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:152"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error at beginning of input
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:152"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_178
#AT_START_179
at_fn_group_banner 179 'json.at:152' \
  "a literal by itself is not valid JSON - Python" " " 17
at_xfail=no
(
  $as_echo "179. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:152" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:152"
   { set +x
$as_echo "$at_srcdir/json.at:152: printf %s \"null\" > input"
at_fn_check_prepare_trace "json.at:152"
( $at_check_trace; printf %s "null" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:152"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:152: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:152"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:152"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:152: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:152"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error at beginning of input
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:152"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_179
#AT_START_180
at_fn_group_banner 180 'json.at:154' \
  "nullify is invalid - C" "                         " 17
at_xfail=no
(
  $as_echo "180. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:154: printf %s \"[ nullify ]\" > input"
at_fn_check_prepare_trace "json.at:154"
( $at_check_trace; printf %s "[ nullify ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:154"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:154: test-json  input"
at_fn_check_prepare_trace "json.at:154"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:154"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:154: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:154"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid keyword 'nullify'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:154"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_180
#AT_START_181
at_fn_group_banner 181 'json.at:154' \
  "nullify is invalid - Python" "                    " 17
at_xfail=no
(
  $as_echo "181. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:154" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:154"
   { set +x
$as_echo "$at_srcdir/json.at:154: printf %s \"[ nullify ]\" > input"
at_fn_check_prepare_trace "json.at:154"
( $at_check_trace; printf %s "[ nullify ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:154"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:154: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:154"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:154"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:154: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:154"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid keyword 'nullify'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:154"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_181
#AT_START_182
at_fn_group_banner 182 'json.at:156' \
  "nubs is invalid - C" "                            " 17
at_xfail=no
(
  $as_echo "182. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:156: printf %s \"[ nubs ]\" > input"
at_fn_check_prepare_trace "json.at:156"
( $at_check_trace; printf %s "[ nubs ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:156"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:156: test-json  input"
at_fn_check_prepare_trace "json.at:156"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:156"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:156: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:156"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid keyword 'nubs'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:156"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_182
#AT_START_183
at_fn_group_banner 183 'json.at:156' \
  "nubs is invalid - Python" "                       " 17
at_xfail=no
(
  $as_echo "183. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:156" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:156"
   { set +x
$as_echo "$at_srcdir/json.at:156: printf %s \"[ nubs ]\" > input"
at_fn_check_prepare_trace "json.at:156"
( $at_check_trace; printf %s "[ nubs ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:156"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:156: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:156"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:156"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:156: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:156"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid keyword 'nubs'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:156"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_183
#AT_START_184
at_fn_group_banner 184 'json.at:158' \
  "xxx is invalid - C" "                             " 17
at_xfail=no
(
  $as_echo "184. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:158: printf %s \"[ xxx ]\" > input"
at_fn_check_prepare_trace "json.at:158"
( $at_check_trace; printf %s "[ xxx ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:158"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:158: test-json  input"
at_fn_check_prepare_trace "json.at:158"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:158"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:158: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:158"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid keyword 'xxx'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:158"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_184
#AT_START_185
at_fn_group_banner 185 'json.at:158' \
  "xxx is invalid - Python" "                        " 17
at_xfail=no
(
  $as_echo "185. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:158" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:158"
   { set +x
$as_echo "$at_srcdir/json.at:158: printf %s \"[ xxx ]\" > input"
at_fn_check_prepare_trace "json.at:158"
( $at_check_trace; printf %s "[ xxx ]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:158"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:158: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:158"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:158"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:158: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:158"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid keyword 'xxx'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:158"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_185
#AT_START_186
at_fn_group_banner 186 'json.at:163' \
  "integers expressed as reals - C" "                " 18
at_xfail=no
(
  $as_echo "186. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:163: printf %s \"[1.0000000000,
     2.00000000000000000000000000000000000,
     2e5,
     2.1234e4,
     2.1230e3,
     0e-10000,
     0e10000]\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:163"
( $at_check_trace; printf %s "[1.0000000000,
     2.00000000000000000000000000000000000,
     2e5,
     2.1234e4,
     2.1230e3,
     0e-10000,
     0e10000]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:163"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:163: test-json  input"
at_fn_check_prepare_trace "json.at:163"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:163"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:163: cat stdout"
at_fn_check_prepare_trace "json.at:163"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1,2,200000,21234,2123,0,0]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:163"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_186
#AT_START_187
at_fn_group_banner 187 'json.at:163' \
  "integers expressed as reals - Python" "           " 18
at_xfail=no
(
  $as_echo "187. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:163" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:163"
   { set +x
$as_echo "$at_srcdir/json.at:163: printf %s \"[1.0000000000,
     2.00000000000000000000000000000000000,
     2e5,
     2.1234e4,
     2.1230e3,
     0e-10000,
     0e10000]\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:163"
( $at_check_trace; printf %s "[1.0000000000,
     2.00000000000000000000000000000000000,
     2e5,
     2.1234e4,
     2.1230e3,
     0e-10000,
     0e10000]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:163"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:163: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:163"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:163"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:163: cat stdout"
at_fn_check_prepare_trace "json.at:163"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1,2,200000,21234,2123,0,0]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:163"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_187
#AT_START_188
at_fn_group_banner 188 'json.at:173' \
  "large integers - C" "                             " 18
at_xfail=no
(
  $as_echo "188. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:173: printf %s \"[9223372036854775807, -9223372036854775808]\" > input"
at_fn_check_prepare_trace "json.at:173"
( $at_check_trace; printf %s "[9223372036854775807, -9223372036854775808]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:173"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:173: test-json  input"
at_fn_check_prepare_trace "json.at:173"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:173"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:173: cat stdout"
at_fn_check_prepare_trace "json.at:173"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[9223372036854775807,-9223372036854775808]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:173"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_188
#AT_START_189
at_fn_group_banner 189 'json.at:173' \
  "large integers - Python" "                        " 18
at_xfail=no
(
  $as_echo "189. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:173" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:173"
   { set +x
$as_echo "$at_srcdir/json.at:173: printf %s \"[9223372036854775807, -9223372036854775808]\" > input"
at_fn_check_prepare_trace "json.at:173"
( $at_check_trace; printf %s "[9223372036854775807, -9223372036854775808]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:173"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:173: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:173"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:173"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:173: cat stdout"
at_fn_check_prepare_trace "json.at:173"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[9223372036854775807,-9223372036854775808]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:173"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_189
#AT_START_190
at_fn_group_banner 190 'json.at:177' \
  "large integers expressed as reals - C" "          " 18
at_xfail=no
(
  $as_echo "190. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:177: printf %s \"[9223372036854775807.0, -9223372036854775808.0,
     92233720.36854775807e11, -9.223372036854775808e18]\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:177"
( $at_check_trace; printf %s "[9223372036854775807.0, -9223372036854775808.0,
     92233720.36854775807e11, -9.223372036854775808e18]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:177"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:177: test-json  input"
at_fn_check_prepare_trace "json.at:177"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:177"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:177: cat stdout"
at_fn_check_prepare_trace "json.at:177"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[9223372036854775807,-9223372036854775808,9223372036854775807,-9223372036854775808]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:177"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_190
#AT_START_191
at_fn_group_banner 191 'json.at:177' \
  "large integers expressed as reals - Python" "     " 18
at_xfail=no
(
  $as_echo "191. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:177" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:177"
   { set +x
$as_echo "$at_srcdir/json.at:177: printf %s \"[9223372036854775807.0, -9223372036854775808.0,
     92233720.36854775807e11, -9.223372036854775808e18]\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:177"
( $at_check_trace; printf %s "[9223372036854775807.0, -9223372036854775808.0,
     92233720.36854775807e11, -9.223372036854775808e18]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:177"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:177: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:177"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:177"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:177: cat stdout"
at_fn_check_prepare_trace "json.at:177"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[9223372036854775807,-9223372036854775808,9223372036854775807,-9223372036854775808]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:177"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_191
#AT_START_192
at_fn_group_banner 192 'json.at:185' \
  "large integers that overflow to reals - C" "      " 18
at_xfail=no
(
  $as_echo "192. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:185: printf %s \"[9223372036854775807000, -92233720368547758080000]\" > input"
at_fn_check_prepare_trace "json.at:185"
( $at_check_trace; printf %s "[9223372036854775807000, -92233720368547758080000]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:185"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:185: test-json  input"
at_fn_check_prepare_trace "json.at:185"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:185"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:185: cat stdout"
at_fn_check_prepare_trace "json.at:185"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[9.22337203685478e+21,-9.22337203685478e+22]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:185"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_192
#AT_START_193
at_fn_group_banner 193 'json.at:185' \
  "large integers that overflow to reals - Python" " " 18
at_xfail=no
(
  $as_echo "193. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:185" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:185"
   { set +x
$as_echo "$at_srcdir/json.at:185: printf %s \"[9223372036854775807000, -92233720368547758080000]\" > input"
at_fn_check_prepare_trace "json.at:185"
( $at_check_trace; printf %s "[9223372036854775807000, -92233720368547758080000]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:185"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:185: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:185"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:185"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:185: cat stdout"
at_fn_check_prepare_trace "json.at:185"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[9.22337203685478e+21,-9.22337203685478e+22]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:185"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_193
#AT_START_194
at_fn_group_banner 194 'json.at:190' \
  "negative zero - C" "                              " 18
at_xfail=no
(
  $as_echo "194. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:190: printf %s \"[-0, -0.0, 1e-9999, -1e-9999]\" > input"
at_fn_check_prepare_trace "json.at:190"
( $at_check_trace; printf %s "[-0, -0.0, 1e-9999, -1e-9999]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:190"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:190: test-json  input"
at_fn_check_prepare_trace "json.at:190"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:190"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:190: cat stdout"
at_fn_check_prepare_trace "json.at:190"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0,0,0,0]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:190"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_194
#AT_START_195
at_fn_group_banner 195 'json.at:190' \
  "negative zero - Python" "                         " 18
at_xfail=no
(
  $as_echo "195. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:190" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:190"
   { set +x
$as_echo "$at_srcdir/json.at:190: printf %s \"[-0, -0.0, 1e-9999, -1e-9999]\" > input"
at_fn_check_prepare_trace "json.at:190"
( $at_check_trace; printf %s "[-0, -0.0, 1e-9999, -1e-9999]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:190"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:190: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:190"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:190"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:190: cat stdout"
at_fn_check_prepare_trace "json.at:190"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0,0,0,0]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:190"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_195
#AT_START_196
at_fn_group_banner 196 'json.at:195' \
  "reals - C" "                                      " 18
at_xfail=no
(
  $as_echo "196. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:195: printf %s \"[0.0, 1.0, 2.0, 3.0, 3.5, 81.250]\" > input"
at_fn_check_prepare_trace "json.at:195"
( $at_check_trace; printf %s "[0.0, 1.0, 2.0, 3.0, 3.5, 81.250]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:195"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:195: test-json  input"
at_fn_check_prepare_trace "json.at:195"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:195"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:195: cat stdout"
at_fn_check_prepare_trace "json.at:195"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0,1,2,3,3.5,81.25]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:195"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_196
#AT_START_197
at_fn_group_banner 197 'json.at:195' \
  "reals - Python" "                                 " 18
at_xfail=no
(
  $as_echo "197. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:195" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:195"
   { set +x
$as_echo "$at_srcdir/json.at:195: printf %s \"[0.0, 1.0, 2.0, 3.0, 3.5, 81.250]\" > input"
at_fn_check_prepare_trace "json.at:195"
( $at_check_trace; printf %s "[0.0, 1.0, 2.0, 3.0, 3.5, 81.250]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:195"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:195: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:195"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:195"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:195: cat stdout"
at_fn_check_prepare_trace "json.at:195"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0,1,2,3,3.5,81.25]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:195"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_197
#AT_START_198
at_fn_group_banner 198 'json.at:199' \
  "scientific notation - C" "                        " 18
at_xfail=no
(
  $as_echo "198. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:199: printf %s \"[1e3, 1E3, 2.5E2, 1e+3, 125e-3, 3.125e-2, 3125e-05, 1.525878906e-5]\" > input"
at_fn_check_prepare_trace "json.at:199"
( $at_check_trace; printf %s "[1e3, 1E3, 2.5E2, 1e+3, 125e-3, 3.125e-2, 3125e-05, 1.525878906e-5]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:199"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:199: test-json  input"
at_fn_check_prepare_trace "json.at:199"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:199"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:199: cat stdout"
at_fn_check_prepare_trace "json.at:199"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1000,1000,250,1000,0.125,0.03125,0.03125,1.525878906e-05]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:199"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_198
#AT_START_199
at_fn_group_banner 199 'json.at:199' \
  "scientific notation - Python" "                   " 18
at_xfail=no
(
  $as_echo "199. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:199" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:199"
   { set +x
$as_echo "$at_srcdir/json.at:199: printf %s \"[1e3, 1E3, 2.5E2, 1e+3, 125e-3, 3.125e-2, 3125e-05, 1.525878906e-5]\" > input"
at_fn_check_prepare_trace "json.at:199"
( $at_check_trace; printf %s "[1e3, 1E3, 2.5E2, 1e+3, 125e-3, 3.125e-2, 3125e-05, 1.525878906e-5]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:199"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:199: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:199"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:199"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:199: cat stdout"
at_fn_check_prepare_trace "json.at:199"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1000,1000,250,1000,0.125,0.03125,0.03125,1.525878906e-05]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:199"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_199
#AT_START_200
at_fn_group_banner 200 'json.at:206' \
  "+/- DBL_MAX - C" "                                " 18
at_xfail=no
(
  $as_echo "200. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:206: printf %s \"[1.7976931348623157e+308, -1.7976931348623157e+308]\" > input"
at_fn_check_prepare_trace "json.at:206"
( $at_check_trace; printf %s "[1.7976931348623157e+308, -1.7976931348623157e+308]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:206"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:206: test-json  input"
at_fn_check_prepare_trace "json.at:206"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:206"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:206: cat stdout"
at_fn_check_prepare_trace "json.at:206"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1.79769313486232e+308,-1.79769313486232e+308]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:206"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_200
#AT_START_201
at_fn_group_banner 201 'json.at:206' \
  "+/- DBL_MAX - Python" "                           " 18
at_xfail=no
(
  $as_echo "201. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:206" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:206"
   { set +x
$as_echo "$at_srcdir/json.at:206: printf %s \"[1.7976931348623157e+308, -1.7976931348623157e+308]\" > input"
at_fn_check_prepare_trace "json.at:206"
( $at_check_trace; printf %s "[1.7976931348623157e+308, -1.7976931348623157e+308]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:206"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:206: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:206"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:206"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:206: cat stdout"
at_fn_check_prepare_trace "json.at:206"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[1.79769313486232e+308,-1.79769313486232e+308]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:206"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_201
#AT_START_202
at_fn_group_banner 202 'json.at:211' \
  "negative reals - C" "                             " 18
at_xfail=no
(
  $as_echo "202. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:211: printf %s \"[-0, -1.0, -2.0, -3.0, -3.5, -8.1250]\" > input"
at_fn_check_prepare_trace "json.at:211"
( $at_check_trace; printf %s "[-0, -1.0, -2.0, -3.0, -3.5, -8.1250]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:211"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:211: test-json  input"
at_fn_check_prepare_trace "json.at:211"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:211"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:211: cat stdout"
at_fn_check_prepare_trace "json.at:211"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0,-1,-2,-3,-3.5,-8.125]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:211"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_202
#AT_START_203
at_fn_group_banner 203 'json.at:211' \
  "negative reals - Python" "                        " 18
at_xfail=no
(
  $as_echo "203. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:211" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:211"
   { set +x
$as_echo "$at_srcdir/json.at:211: printf %s \"[-0, -1.0, -2.0, -3.0, -3.5, -8.1250]\" > input"
at_fn_check_prepare_trace "json.at:211"
( $at_check_trace; printf %s "[-0, -1.0, -2.0, -3.0, -3.5, -8.1250]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:211"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:211: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:211"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:211"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:211: cat stdout"
at_fn_check_prepare_trace "json.at:211"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0,-1,-2,-3,-3.5,-8.125]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:211"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_203
#AT_START_204
at_fn_group_banner 204 'json.at:215' \
  "negative scientific notation - C" "               " 18
at_xfail=no
(
  $as_echo "204. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:215: printf %s \"[-1e3, -1E3, -2.5E2, -1e+3, -125e-3, -3.125e-2, -3125e-05, -1.525878906e-5]\" > input"
at_fn_check_prepare_trace "json.at:215"
( $at_check_trace; printf %s "[-1e3, -1E3, -2.5E2, -1e+3, -125e-3, -3.125e-2, -3125e-05, -1.525878906e-5]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:215"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:215: test-json  input"
at_fn_check_prepare_trace "json.at:215"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:215"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:215: cat stdout"
at_fn_check_prepare_trace "json.at:215"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[-1000,-1000,-250,-1000,-0.125,-0.03125,-0.03125,-1.525878906e-05]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:215"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_204
#AT_START_205
at_fn_group_banner 205 'json.at:215' \
  "negative scientific notation - Python" "          " 18
at_xfail=no
(
  $as_echo "205. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:215" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:215"
   { set +x
$as_echo "$at_srcdir/json.at:215: printf %s \"[-1e3, -1E3, -2.5E2, -1e+3, -125e-3, -3.125e-2, -3125e-05, -1.525878906e-5]\" > input"
at_fn_check_prepare_trace "json.at:215"
( $at_check_trace; printf %s "[-1e3, -1E3, -2.5E2, -1e+3, -125e-3, -3.125e-2, -3125e-05, -1.525878906e-5]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:215"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:215: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:215"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:215"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:215: cat stdout"
at_fn_check_prepare_trace "json.at:215"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[-1000,-1000,-250,-1000,-0.125,-0.03125,-0.03125,-1.525878906e-05]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:215"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_205
#AT_START_206
at_fn_group_banner 206 'json.at:219' \
  "1e-9999 underflows to 0 - C" "                    " 18
at_xfail=no
(
  $as_echo "206. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:219: printf %s \"[1e-9999]\" > input"
at_fn_check_prepare_trace "json.at:219"
( $at_check_trace; printf %s "[1e-9999]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:219"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:219: test-json  input"
at_fn_check_prepare_trace "json.at:219"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:219"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:219: cat stdout"
at_fn_check_prepare_trace "json.at:219"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:219"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_206
#AT_START_207
at_fn_group_banner 207 'json.at:219' \
  "1e-9999 underflows to 0 - Python" "               " 18
at_xfail=no
(
  $as_echo "207. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:219" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:219"
   { set +x
$as_echo "$at_srcdir/json.at:219: printf %s \"[1e-9999]\" > input"
at_fn_check_prepare_trace "json.at:219"
( $at_check_trace; printf %s "[1e-9999]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:219"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:219: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:219"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:219"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:219: cat stdout"
at_fn_check_prepare_trace "json.at:219"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:219"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_207
#AT_START_208
at_fn_group_banner 208 'json.at:223' \
  "a number by itself is not valid JSON - C" "       " 18
at_xfail=no
(
  $as_echo "208. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:223: printf %s \"1\" > input"
at_fn_check_prepare_trace "json.at:223"
( $at_check_trace; printf %s "1" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:223"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:223: test-json  input"
at_fn_check_prepare_trace "json.at:223"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:223"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:223: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:223"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error at beginning of input
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:223"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_208
#AT_START_209
at_fn_group_banner 209 'json.at:223' \
  "a number by itself is not valid JSON - Python" "  " 18
at_xfail=no
(
  $as_echo "209. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:223" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:223"
   { set +x
$as_echo "$at_srcdir/json.at:223: printf %s \"1\" > input"
at_fn_check_prepare_trace "json.at:223"
( $at_check_trace; printf %s "1" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:223"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:223: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:223"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:223"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:223: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:223"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: syntax error at beginning of input
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:223"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_209
#AT_START_210
at_fn_group_banner 210 'json.at:225' \
  "leading zeros not allowed - C" "                  " 18
at_xfail=no
(
  $as_echo "210. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:225: printf %s \"[0123]\" > input"
at_fn_check_prepare_trace "json.at:225"
( $at_check_trace; printf %s "[0123]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:225"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:225: test-json  input"
at_fn_check_prepare_trace "json.at:225"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:225"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:225: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:225"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: leading zeros not allowed
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:225"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_210
#AT_START_211
at_fn_group_banner 211 'json.at:225' \
  "leading zeros not allowed - Python" "             " 18
at_xfail=no
(
  $as_echo "211. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:225" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:225"
   { set +x
$as_echo "$at_srcdir/json.at:225: printf %s \"[0123]\" > input"
at_fn_check_prepare_trace "json.at:225"
( $at_check_trace; printf %s "[0123]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:225"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:225: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:225"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:225"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:225: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:225"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: leading zeros not allowed
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:225"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_211
#AT_START_212
at_fn_group_banner 212 'json.at:229' \
  "1e9999 is too big - C" "                          " 18
at_xfail=no
(
  $as_echo "212. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:229: printf %s \"[1e9999]\" > input"
at_fn_check_prepare_trace "json.at:229"
( $at_check_trace; printf %s "[1e9999]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:229"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:229: test-json  input"
at_fn_check_prepare_trace "json.at:229"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:229"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:229: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:229"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: number outside valid range
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:229"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_212
#AT_START_213
at_fn_group_banner 213 'json.at:229' \
  "1e9999 is too big - Python" "                     " 18
at_xfail=no
(
  $as_echo "213. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:229" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:229"
   { set +x
$as_echo "$at_srcdir/json.at:229: printf %s \"[1e9999]\" > input"
at_fn_check_prepare_trace "json.at:229"
( $at_check_trace; printf %s "[1e9999]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:229"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:229: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:229"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:229"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:229: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:229"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: number outside valid range
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:229"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_213
#AT_START_214
at_fn_group_banner 214 'json.at:233' \
  "exponent bigger than INT_MAX - C" "               " 18
at_xfail=no
(
  $as_echo "214. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:233: printf %s \"[1e9999999999999999999]\" > input"
at_fn_check_prepare_trace "json.at:233"
( $at_check_trace; printf %s "[1e9999999999999999999]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:233"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:233: test-json  input"
at_fn_check_prepare_trace "json.at:233"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:233"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:233: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:233"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: exponent outside valid range
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:233"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_214
#AT_START_215
at_fn_group_banner 215 'json.at:233' \
  "exponent bigger than INT_MAX - Python" "          " 18
at_xfail=no
(
  $as_echo "215. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:233" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:233"
   { set +x
$as_echo "$at_srcdir/json.at:233: printf %s \"[1e9999999999999999999]\" > input"
at_fn_check_prepare_trace "json.at:233"
( $at_check_trace; printf %s "[1e9999999999999999999]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:233"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:233: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:233"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:233"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:233: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:233"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: exponent outside valid range
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:233"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_215
#AT_START_216
at_fn_group_banner 216 'json.at:237' \
  "decimal point must be followed by digit - C" "    " 18
at_xfail=no
(
  $as_echo "216. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:237: printf %s \"[1.]\" > input"
at_fn_check_prepare_trace "json.at:237"
( $at_check_trace; printf %s "[1.]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:237"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:237: test-json  input"
at_fn_check_prepare_trace "json.at:237"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:237"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:237: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:237"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: decimal point must be followed by digit
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:237"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_216
#AT_START_217
at_fn_group_banner 217 'json.at:237' \
  "decimal point must be followed by digit - Python" "" 18
at_xfail=no
(
  $as_echo "217. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:237" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:237"
   { set +x
$as_echo "$at_srcdir/json.at:237: printf %s \"[1.]\" > input"
at_fn_check_prepare_trace "json.at:237"
( $at_check_trace; printf %s "[1.]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:237"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:237: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:237"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:237"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:237: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:237"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: decimal point must be followed by digit
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:237"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_217
#AT_START_218
at_fn_group_banner 218 'json.at:241' \
  "exponent must contain at least one digit (1) - C" "" 18
at_xfail=no
(
  $as_echo "218. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:241: printf %s \"[1e]\" > input"
at_fn_check_prepare_trace "json.at:241"
( $at_check_trace; printf %s "[1e]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:241"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:241: test-json  input"
at_fn_check_prepare_trace "json.at:241"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:241"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:241: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:241"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: exponent must contain at least one digit
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:241"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_218
#AT_START_219
at_fn_group_banner 219 'json.at:241' \
  "exponent must contain at least one digit (1) - Python" "" 18
at_xfail=no
(
  $as_echo "219. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:241" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:241"
   { set +x
$as_echo "$at_srcdir/json.at:241: printf %s \"[1e]\" > input"
at_fn_check_prepare_trace "json.at:241"
( $at_check_trace; printf %s "[1e]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:241"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:241: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:241"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:241"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:241: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:241"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: exponent must contain at least one digit
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:241"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_219
#AT_START_220
at_fn_group_banner 220 'json.at:245' \
  "exponent must contain at least one digit (2) - C" "" 18
at_xfail=no
(
  $as_echo "220. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:245: printf %s \"[1e+]\" > input"
at_fn_check_prepare_trace "json.at:245"
( $at_check_trace; printf %s "[1e+]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:245"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:245: test-json  input"
at_fn_check_prepare_trace "json.at:245"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:245"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:245: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:245"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: exponent must contain at least one digit
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:245"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_220
#AT_START_221
at_fn_group_banner 221 'json.at:245' \
  "exponent must contain at least one digit (2) - Python" "" 18
at_xfail=no
(
  $as_echo "221. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:245" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:245"
   { set +x
$as_echo "$at_srcdir/json.at:245: printf %s \"[1e+]\" > input"
at_fn_check_prepare_trace "json.at:245"
( $at_check_trace; printf %s "[1e+]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:245"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:245: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:245"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:245"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:245: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:245"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: exponent must contain at least one digit
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:245"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_221
#AT_START_222
at_fn_group_banner 222 'json.at:249' \
  "exponent must contain at least one digit (3) - C" "" 18
at_xfail=no
(
  $as_echo "222. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:249: printf %s \"[1e-]\" > input"
at_fn_check_prepare_trace "json.at:249"
( $at_check_trace; printf %s "[1e-]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:249"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:249: test-json  input"
at_fn_check_prepare_trace "json.at:249"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:249"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:249: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:249"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: exponent must contain at least one digit
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:249"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_222
#AT_START_223
at_fn_group_banner 223 'json.at:249' \
  "exponent must contain at least one digit (3) - Python" "" 18
at_xfail=no
(
  $as_echo "223. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:249" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:249"
   { set +x
$as_echo "$at_srcdir/json.at:249: printf %s \"[1e-]\" > input"
at_fn_check_prepare_trace "json.at:249"
( $at_check_trace; printf %s "[1e-]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:249"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:249: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:249"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:249"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:249: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:249"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: exponent must contain at least one digit
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:249"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_223
#AT_START_224
at_fn_group_banner 224 'json.at:256' \
  "RFC 4267 object example - C" "                    " 19
at_xfail=no
(
  $as_echo "224. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:256: printf %s \"{
   \\\"Image\\\": {
       \\\"Width\\\":  800,
       \\\"Height\\\": 600,
       \\\"Title\\\":  \\\"View from 15th Floor\\\",
       \\\"Thumbnail\\\": {
           \\\"Url\\\":    \\\"http://www.example.com/image/481989943\\\",
           \\\"Height\\\": 125,
           \\\"Width\\\":  \\\"100\\\"
       },
       \\\"IDs\\\": [116, 943, 234, 38793]
     }
}\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:256"
( $at_check_trace; printf %s "{
   \"Image\": {
       \"Width\":  800,
       \"Height\": 600,
       \"Title\":  \"View from 15th Floor\",
       \"Thumbnail\": {
           \"Url\":    \"http://www.example.com/image/481989943\",
           \"Height\": 125,
           \"Width\":  \"100\"
       },
       \"IDs\": [116, 943, 234, 38793]
     }
}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:256"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:256: test-json  input"
at_fn_check_prepare_trace "json.at:256"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:256"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:256: cat stdout"
at_fn_check_prepare_trace "json.at:256"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"Image\":{\"Height\":600,\"IDs\":[116,943,234,38793],\"Thumbnail\":{\"Height\":125,\"Url\":\"http://www.example.com/image/481989943\",\"Width\":\"100\"},\"Title\":\"View from 15th Floor\",\"Width\":800}}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:256"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_224
#AT_START_225
at_fn_group_banner 225 'json.at:256' \
  "RFC 4267 object example - Python" "               " 19
at_xfail=no
(
  $as_echo "225. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:256" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:256"
   { set +x
$as_echo "$at_srcdir/json.at:256: printf %s \"{
   \\\"Image\\\": {
       \\\"Width\\\":  800,
       \\\"Height\\\": 600,
       \\\"Title\\\":  \\\"View from 15th Floor\\\",
       \\\"Thumbnail\\\": {
           \\\"Url\\\":    \\\"http://www.example.com/image/481989943\\\",
           \\\"Height\\\": 125,
           \\\"Width\\\":  \\\"100\\\"
       },
       \\\"IDs\\\": [116, 943, 234, 38793]
     }
}\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:256"
( $at_check_trace; printf %s "{
   \"Image\": {
       \"Width\":  800,
       \"Height\": 600,
       \"Title\":  \"View from 15th Floor\",
       \"Thumbnail\": {
           \"Url\":    \"http://www.example.com/image/481989943\",
           \"Height\": 125,
           \"Width\":  \"100\"
       },
       \"IDs\": [116, 943, 234, 38793]
     }
}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:256"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:256: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:256"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:256"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:256: cat stdout"
at_fn_check_prepare_trace "json.at:256"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"Image\":{\"Height\":600,\"IDs\":[116,943,234,38793],\"Thumbnail\":{\"Height\":125,\"Url\":\"http://www.example.com/image/481989943\",\"Width\":\"100\"},\"Title\":\"View from 15th Floor\",\"Width\":800}}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:256"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_225
#AT_START_226
at_fn_group_banner 226 'json.at:272' \
  "RFC 4267 array example - C" "                     " 19
at_xfail=no
(
  $as_echo "226. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:272: printf %s \"[
   {
      \\\"precision\\\": \\\"zip\\\",
      \\\"Latitude\\\":  37.7668,
      \\\"Longitude\\\": -122.3959,
      \\\"Address\\\":   \\\"\\\",
      \\\"City\\\":      \\\"SAN FRANCISCO\\\",
      \\\"State\\\":     \\\"CA\\\",
      \\\"Zip\\\":       \\\"94107\\\",
      \\\"Country\\\":   \\\"US\\\"
   },
   {
      \\\"precision\\\": \\\"zip\\\",
      \\\"Latitude\\\":  37.371991,
      \\\"Longitude\\\": -122.026020,
      \\\"Address\\\":   \\\"\\\",
      \\\"City\\\":      \\\"SUNNYVALE\\\",
      \\\"State\\\":     \\\"CA\\\",
      \\\"Zip\\\":       \\\"94085\\\",
      \\\"Country\\\":   \\\"US\\\"
   }
]\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:272"
( $at_check_trace; printf %s "[
   {
      \"precision\": \"zip\",
      \"Latitude\":  37.7668,
      \"Longitude\": -122.3959,
      \"Address\":   \"\",
      \"City\":      \"SAN FRANCISCO\",
      \"State\":     \"CA\",
      \"Zip\":       \"94107\",
      \"Country\":   \"US\"
   },
   {
      \"precision\": \"zip\",
      \"Latitude\":  37.371991,
      \"Longitude\": -122.026020,
      \"Address\":   \"\",
      \"City\":      \"SUNNYVALE\",
      \"State\":     \"CA\",
      \"Zip\":       \"94085\",
      \"Country\":   \"US\"
   }
]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:272"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:272: test-json  input"
at_fn_check_prepare_trace "json.at:272"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:272"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:272: cat stdout"
at_fn_check_prepare_trace "json.at:272"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"Address\":\"\",\"City\":\"SAN FRANCISCO\",\"Country\":\"US\",\"Latitude\":37.7668,\"Longitude\":-122.3959,\"State\":\"CA\",\"Zip\":\"94107\",\"precision\":\"zip\"},{\"Address\":\"\",\"City\":\"SUNNYVALE\",\"Country\":\"US\",\"Latitude\":37.371991,\"Longitude\":-122.02602,\"State\":\"CA\",\"Zip\":\"94085\",\"precision\":\"zip\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:272"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_226
#AT_START_227
at_fn_group_banner 227 'json.at:272' \
  "RFC 4267 array example - Python" "                " 19
at_xfail=no
(
  $as_echo "227. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:272" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:272"
   { set +x
$as_echo "$at_srcdir/json.at:272: printf %s \"[
   {
      \\\"precision\\\": \\\"zip\\\",
      \\\"Latitude\\\":  37.7668,
      \\\"Longitude\\\": -122.3959,
      \\\"Address\\\":   \\\"\\\",
      \\\"City\\\":      \\\"SAN FRANCISCO\\\",
      \\\"State\\\":     \\\"CA\\\",
      \\\"Zip\\\":       \\\"94107\\\",
      \\\"Country\\\":   \\\"US\\\"
   },
   {
      \\\"precision\\\": \\\"zip\\\",
      \\\"Latitude\\\":  37.371991,
      \\\"Longitude\\\": -122.026020,
      \\\"Address\\\":   \\\"\\\",
      \\\"City\\\":      \\\"SUNNYVALE\\\",
      \\\"State\\\":     \\\"CA\\\",
      \\\"Zip\\\":       \\\"94085\\\",
      \\\"Country\\\":   \\\"US\\\"
   }
]\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:272"
( $at_check_trace; printf %s "[
   {
      \"precision\": \"zip\",
      \"Latitude\":  37.7668,
      \"Longitude\": -122.3959,
      \"Address\":   \"\",
      \"City\":      \"SAN FRANCISCO\",
      \"State\":     \"CA\",
      \"Zip\":       \"94107\",
      \"Country\":   \"US\"
   },
   {
      \"precision\": \"zip\",
      \"Latitude\":  37.371991,
      \"Longitude\": -122.026020,
      \"Address\":   \"\",
      \"City\":      \"SUNNYVALE\",
      \"State\":     \"CA\",
      \"Zip\":       \"94085\",
      \"Country\":   \"US\"
   }
]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:272"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:272: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:272"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:272"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:272: cat stdout"
at_fn_check_prepare_trace "json.at:272"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"Address\":\"\",\"City\":\"SAN FRANCISCO\",\"Country\":\"US\",\"Latitude\":37.7668,\"Longitude\":-122.3959,\"State\":\"CA\",\"Zip\":\"94107\",\"precision\":\"zip\"},{\"Address\":\"\",\"City\":\"SUNNYVALE\",\"Country\":\"US\",\"Latitude\":37.371991,\"Longitude\":-122.02602,\"State\":\"CA\",\"Zip\":\"94085\",\"precision\":\"zip\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:272"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_227
#AT_START_228
at_fn_group_banner 228 'json.at:299' \
  "trailing garbage - C" "                           " 20
at_xfail=no
(
  $as_echo "228. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:299: printf %s \"[1]null\" > input"
at_fn_check_prepare_trace "json.at:299"
( $at_check_trace; printf %s "[1]null" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:299"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:299: test-json  input"
at_fn_check_prepare_trace "json.at:299"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:299"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:299: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:299"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: trailing garbage at end of input
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:299"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_228
#AT_START_229
at_fn_group_banner 229 'json.at:299' \
  "trailing garbage - Python" "                      " 20
at_xfail=no
(
  $as_echo "229. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:299" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:299"
   { set +x
$as_echo "$at_srcdir/json.at:299: printf %s \"[1]null\" > input"
at_fn_check_prepare_trace "json.at:299"
( $at_check_trace; printf %s "[1]null" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:299"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:299: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:299"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:299"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:299: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:299"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: trailing garbage at end of input
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:299"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_229
#AT_START_230
at_fn_group_banner 230 'json.at:301' \
  "formfeeds are not valid white space - C" "        " 20
at_xfail=no
(
  $as_echo "230. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:301: printf %s \"[]\" > input"
at_fn_check_prepare_trace "json.at:301"
( $at_check_trace; printf %s "[]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:301"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:301: test-json  input"
at_fn_check_prepare_trace "json.at:301"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:301"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:301: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:301"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid character U+000c
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:301"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_230
#AT_START_231
at_fn_group_banner 231 'json.at:301' \
  "formfeeds are not valid white space - Python" "   " 20
at_xfail=no
(
  $as_echo "231. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:301" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:301"
   { set +x
$as_echo "$at_srcdir/json.at:301: printf %s \"[]\" > input"
at_fn_check_prepare_trace "json.at:301"
( $at_check_trace; printf %s "[]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:301"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:301: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:301"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:301"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:301: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:301"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid character U+000c
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:301"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_231
#AT_START_232
at_fn_group_banner 232 'json.at:303' \
  "';' is not a valid token - C" "                   " 20
at_xfail=no
(
  $as_echo "232. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:303: printf %s \";\" > input"
at_fn_check_prepare_trace "json.at:303"
( $at_check_trace; printf %s ";" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:303"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:303: test-json  input"
at_fn_check_prepare_trace "json.at:303"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:303"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:303: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:303"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid character ';'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:303"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_232
#AT_START_233
at_fn_group_banner 233 'json.at:303' \
  "';' is not a valid token - Python" "              " 20
at_xfail=no
(
  $as_echo "233. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:303" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:303"
   { set +x
$as_echo "$at_srcdir/json.at:303: printf %s \";\" > input"
at_fn_check_prepare_trace "json.at:303"
( $at_check_trace; printf %s ";" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:303"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:303: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:303"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:303"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:303: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:303"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: invalid character ';'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:303"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_233
#AT_START_234
at_fn_group_banner 234 'json.at:305' \
  "arrays nesting too deep - C" "                    " 20
at_xfail=no
(
  $as_echo "234. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:305: printf %s \"[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[                     ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]\" > input"
at_fn_check_prepare_trace "json.at:305"
( $at_check_trace; printf %s "[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[                     ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:305"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:305: test-json  input"
at_fn_check_prepare_trace "json.at:305"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:305"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:305: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:305"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: input exceeds maximum nesting depth 1000
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:305"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_234
#AT_START_235
at_fn_group_banner 235 'json.at:305' \
  "arrays nesting too deep - Python" "               " 20
at_xfail=no
(
  $as_echo "235. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:305" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:305"
   { set +x
$as_echo "$at_srcdir/json.at:305: printf %s \"[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[                     ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]\" > input"
at_fn_check_prepare_trace "json.at:305"
( $at_check_trace; printf %s "[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[                     ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:305"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:305: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:305"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:305"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:305: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:305"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: input exceeds maximum nesting depth 1000
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:305"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_235
#AT_START_236
at_fn_group_banner 236 'json.at:309' \
  "objects nesting too deep - C" "                   " 20
at_xfail=no
(
  $as_echo "236. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:309: printf %s \"{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":                     }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}\" > input"
at_fn_check_prepare_trace "json.at:309"
( $at_check_trace; printf %s "{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":                     }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:309"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:309: test-json  input"
at_fn_check_prepare_trace "json.at:309"
( $at_check_trace; test-json  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:309"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:309: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:309"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: input exceeds maximum nesting depth 1000
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:309"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_236
#AT_START_237
at_fn_group_banner 237 'json.at:309' \
  "objects nesting too deep - Python" "              " 20
at_xfail=no
(
  $as_echo "237. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:309" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:309"
   { set +x
$as_echo "$at_srcdir/json.at:309: printf %s \"{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":{\\\"x\\\":                     }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}\" > input"
at_fn_check_prepare_trace "json.at:309"
( $at_check_trace; printf %s "{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":{\"x\":                     }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:309"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:309: \$PYTHON \$srcdir/test-json.py  input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py  input" "json.at:309"
( $at_check_trace; $PYTHON $srcdir/test-json.py  input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:309"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:309: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:309"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: input exceeds maximum nesting depth 1000
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:309"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_237
#AT_START_238
at_fn_group_banner 238 'json.at:314' \
  "input may not be empty" "                         " 20
at_xfail=no
(
  $as_echo "238. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/json.at:316: test-json /dev/null"
at_fn_check_prepare_trace "json.at:316"
( $at_check_trace; test-json /dev/null
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "error: line 0, column 0, byte 0: empty input stream
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/json.at:316"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_238
#AT_START_239
at_fn_group_banner 239 'json.at:322' \
  "multiple adjacent objects - C" "                  " 21
at_xfail=no
(
  $as_echo "239. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:322: printf %s \"{}{}{}\" > input"
at_fn_check_prepare_trace "json.at:322"
( $at_check_trace; printf %s "{}{}{}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:322"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:322: test-json --multiple input"
at_fn_check_prepare_trace "json.at:322"
( $at_check_trace; test-json --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:322"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:322: cat stdout"
at_fn_check_prepare_trace "json.at:322"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
{}
{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:322"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_239
#AT_START_240
at_fn_group_banner 240 'json.at:322' \
  "multiple adjacent objects - Python" "             " 21
at_xfail=no
(
  $as_echo "240. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:322" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:322"
   { set +x
$as_echo "$at_srcdir/json.at:322: printf %s \"{}{}{}\" > input"
at_fn_check_prepare_trace "json.at:322"
( $at_check_trace; printf %s "{}{}{}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:322"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:322: \$PYTHON \$srcdir/test-json.py --multiple input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py --multiple input" "json.at:322"
( $at_check_trace; $PYTHON $srcdir/test-json.py --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:322"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:322: cat stdout"
at_fn_check_prepare_trace "json.at:322"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
{}
{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:322"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_240
#AT_START_241
at_fn_group_banner 241 'json.at:327' \
  "multiple space-separated objects - C" "           " 21
at_xfail=no
(
  $as_echo "241. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:327: printf %s \"{}  {}  {}\" > input"
at_fn_check_prepare_trace "json.at:327"
( $at_check_trace; printf %s "{}  {}  {}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:327"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:327: test-json --multiple input"
at_fn_check_prepare_trace "json.at:327"
( $at_check_trace; test-json --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:327"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:327: cat stdout"
at_fn_check_prepare_trace "json.at:327"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
{}
{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:327"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_241
#AT_START_242
at_fn_group_banner 242 'json.at:327' \
  "multiple space-separated objects - Python" "      " 21
at_xfail=no
(
  $as_echo "242. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:327" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:327"
   { set +x
$as_echo "$at_srcdir/json.at:327: printf %s \"{}  {}  {}\" > input"
at_fn_check_prepare_trace "json.at:327"
( $at_check_trace; printf %s "{}  {}  {}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:327"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:327: \$PYTHON \$srcdir/test-json.py --multiple input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py --multiple input" "json.at:327"
( $at_check_trace; $PYTHON $srcdir/test-json.py --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:327"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:327: cat stdout"
at_fn_check_prepare_trace "json.at:327"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
{}
{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:327"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_242
#AT_START_243
at_fn_group_banner 243 'json.at:332' \
  "multiple objects on separate lines - C" "         " 21
at_xfail=no
(
  $as_echo "243. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:332: printf %s \"{}
{}
{}\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:332"
( $at_check_trace; printf %s "{}
{}
{}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:332"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:332: test-json --multiple input"
at_fn_check_prepare_trace "json.at:332"
( $at_check_trace; test-json --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:332"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:332: cat stdout"
at_fn_check_prepare_trace "json.at:332"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
{}
{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:332"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_243
#AT_START_244
at_fn_group_banner 244 'json.at:332' \
  "multiple objects on separate lines - Python" "    " 21
at_xfail=no
(
  $as_echo "244. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:332" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:332"
   { set +x
$as_echo "$at_srcdir/json.at:332: printf %s \"{}
{}
{}\" > input"
at_fn_check_prepare_notrace 'an embedded newline' "json.at:332"
( $at_check_trace; printf %s "{}
{}
{}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:332"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:332: \$PYTHON \$srcdir/test-json.py --multiple input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py --multiple input" "json.at:332"
( $at_check_trace; $PYTHON $srcdir/test-json.py --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:332"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:332: cat stdout"
at_fn_check_prepare_trace "json.at:332"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
{}
{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:332"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_244
#AT_START_245
at_fn_group_banner 245 'json.at:339' \
  "multiple objects and arrays - C" "                " 21
at_xfail=no
(
  $as_echo "245. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:339: printf %s \"{}[]{}[]\" > input"
at_fn_check_prepare_trace "json.at:339"
( $at_check_trace; printf %s "{}[]{}[]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:339"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:339: test-json --multiple input"
at_fn_check_prepare_trace "json.at:339"
( $at_check_trace; test-json --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:339"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:339: cat stdout"
at_fn_check_prepare_trace "json.at:339"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
[]
{}
[]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:339"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_245
#AT_START_246
at_fn_group_banner 246 'json.at:339' \
  "multiple objects and arrays - Python" "           " 21
at_xfail=no
(
  $as_echo "246. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:339" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:339"
   { set +x
$as_echo "$at_srcdir/json.at:339: printf %s \"{}[]{}[]\" > input"
at_fn_check_prepare_trace "json.at:339"
( $at_check_trace; printf %s "{}[]{}[]" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:339"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:339: \$PYTHON \$srcdir/test-json.py --multiple input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py --multiple input" "json.at:339"
( $at_check_trace; $PYTHON $srcdir/test-json.py --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/json.at:339"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:339: cat stdout"
at_fn_check_prepare_trace "json.at:339"
( $at_check_trace; cat stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
[]
{}
[]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:339"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_246
#AT_START_247
at_fn_group_banner 247 'json.at:345' \
  "garbage between multiple objects - C" "           " 21
at_xfail=no
(
  $as_echo "247. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:345: printf %s \"{}x{}\" > input"
at_fn_check_prepare_trace "json.at:345"
( $at_check_trace; printf %s "{}x{}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:345"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:345: test-json --multiple input"
at_fn_check_prepare_trace "json.at:345"
( $at_check_trace; test-json --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:345"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:345: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:345"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
error: invalid keyword 'x'
{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:345"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_247
#AT_START_248
at_fn_group_banner 248 'json.at:345' \
  "garbage between multiple objects - Python" "      " 21
at_xfail=no
(
  $as_echo "248. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:345" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:345"
   { set +x
$as_echo "$at_srcdir/json.at:345: printf %s \"{}x{}\" > input"
at_fn_check_prepare_trace "json.at:345"
( $at_check_trace; printf %s "{}x{}" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:345"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:345: \$PYTHON \$srcdir/test-json.py --multiple input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py --multiple input" "json.at:345"
( $at_check_trace; $PYTHON $srcdir/test-json.py --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:345"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:345: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:345"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
error: invalid keyword 'x'
{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:345"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_248
#AT_START_249
at_fn_group_banner 249 'json.at:349' \
  "garbage after multiple objects - C" "             " 21
at_xfail=no
(
  $as_echo "249. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/json.at:349: printf %s \"{}{}x\" > input"
at_fn_check_prepare_trace "json.at:349"
( $at_check_trace; printf %s "{}{}x" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:349"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:349: test-json --multiple input"
at_fn_check_prepare_trace "json.at:349"
( $at_check_trace; test-json --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:349"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:349: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:349"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
{}
error: invalid keyword 'x'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:349"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_249
#AT_START_250
at_fn_group_banner 250 'json.at:349' \
  "garbage after multiple objects - Python" "        " 21
at_xfail=no
(
  $as_echo "250. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "json.at:349" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/json.at:349"
   { set +x
$as_echo "$at_srcdir/json.at:349: printf %s \"{}{}x\" > input"
at_fn_check_prepare_trace "json.at:349"
( $at_check_trace; printf %s "{}{}x" > input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:349"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/json.at:349: \$PYTHON \$srcdir/test-json.py --multiple input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-json.py --multiple input" "json.at:349"
( $at_check_trace; $PYTHON $srcdir/test-json.py --multiple input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 1 $at_status "$at_srcdir/json.at:349"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/json.at:349: sed 's/^error: [^:]*:/error:/' < stdout"
at_fn_check_prepare_trace "json.at:349"
( $at_check_trace; sed 's/^error: [^:]*:/error:/' < stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
{}
error: invalid keyword 'x'
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/json.at:349"
$at_failed && at_fn_log_failure  \
"input"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_250
#AT_START_251
at_fn_group_banner 251 'jsonrpc.at:3' \
  "JSON-RPC request and successful reply" "          " 22
at_xfail=no
(
  $as_echo "251. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:4: test-jsonrpc --detach --pidfile=\$PWD/pid listen punix:socket"
at_fn_check_prepare_dynamic "test-jsonrpc --detach --pidfile=$PWD/pid listen punix:socket" "jsonrpc.at:4"
( $at_check_trace; test-jsonrpc --detach --pidfile=$PWD/pid listen punix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:4"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:5: test -s pid"
at_fn_check_prepare_trace "jsonrpc.at:5"
( $at_check_trace; test -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:6: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc.at:6"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:6"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:7: test-jsonrpc request unix:socket echo '[{\"a\": \"b\", \"x\": null}]'"
at_fn_check_prepare_trace "jsonrpc.at:7"
( $at_check_trace; test-jsonrpc request unix:socket echo '[{"a": "b", "x": null}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "{\"error\":null,\"id\":0,\"result\":[{\"a\":\"b\",\"x\":null}]}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:7"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:11: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc.at:11"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_251
#AT_START_252
at_fn_group_banner 252 'jsonrpc.at:14' \
  "JSON-RPC request and error reply" "               " 22
at_xfail=no
(
  $as_echo "252. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:15: test-jsonrpc --detach --pidfile=\$PWD/pid listen punix:socket"
at_fn_check_prepare_dynamic "test-jsonrpc --detach --pidfile=$PWD/pid listen punix:socket" "jsonrpc.at:15"
( $at_check_trace; test-jsonrpc --detach --pidfile=$PWD/pid listen punix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:15"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:16: test -s pid"
at_fn_check_prepare_trace "jsonrpc.at:16"
( $at_check_trace; test -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:16"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:17: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc.at:17"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:17"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:18: test-jsonrpc request unix:socket bad-request '[]'"
at_fn_check_prepare_trace "jsonrpc.at:18"
( $at_check_trace; test-jsonrpc request unix:socket bad-request '[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "{\"error\":{\"error\":\"unknown method\"},\"id\":0,\"result\":null}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:18"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:22: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc.at:22"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:22"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_252
#AT_START_253
at_fn_group_banner 253 'jsonrpc.at:25' \
  "JSON-RPC notification" "                          " 22
at_xfail=no
(
  $as_echo "253. $at_setup_line: testing $at_desc ..."
  $at_traceon

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:26: test-jsonrpc --detach --pidfile=\$PWD/pid listen punix:socket"
at_fn_check_prepare_dynamic "test-jsonrpc --detach --pidfile=$PWD/pid listen punix:socket" "jsonrpc.at:26"
( $at_check_trace; test-jsonrpc --detach --pidfile=$PWD/pid listen punix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:26"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:27: test -s pid"
at_fn_check_prepare_trace "jsonrpc.at:27"
( $at_check_trace; test -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:27"
$at_failed && at_fn_log_failure
$at_traceon; }

# When a daemon dies it deletes its pidfile, so make a copy.
{ set +x
$as_echo "$at_srcdir/jsonrpc.at:29: cp pid pid2"
at_fn_check_prepare_trace "jsonrpc.at:29"
( $at_check_trace; cp pid pid2
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:29"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:30: kill -0 \`cat pid2\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc.at:30"
( $at_check_trace; kill -0 `cat pid2`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:31: test-jsonrpc notify unix:socket shutdown '[]'"
at_fn_check_prepare_trace "jsonrpc.at:31"
( $at_check_trace; test-jsonrpc notify unix:socket shutdown '[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:31"
if $at_failed; then :
  kill `cat pid2`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:33: pid=\`cat pid2\`
   # First try a quick sleep, so that the test completes very quickly
   # in the normal case.  POSIX doesn't require fractional times to
   # work, so this might not work.
   sleep 0.1; if kill -0 \$pid; then :; else echo success; exit 0; fi
   # Then wait up to 2 seconds.
   sleep 1; if kill -0 \$pid; then :; else echo success; exit 0; fi
   sleep 1; if kill -0 \$pid; then :; else echo success; exit 0; fi
   echo failure; exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc.at:33"
( $at_check_trace; pid=`cat pid2`
   # First try a quick sleep, so that the test completes very quickly
   # in the normal case.  POSIX doesn't require fractional times to
   # work, so this might not work.
   sleep 0.1; if kill -0 $pid; then :; else echo success; exit 0; fi
   # Then wait up to 2 seconds.
   sleep 1; if kill -0 $pid; then :; else echo success; exit 0; fi
   sleep 1; if kill -0 $pid; then :; else echo success; exit 0; fi
   echo failure; exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "success
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:33"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc.at:44: test ! -e pid"
at_fn_check_prepare_trace "jsonrpc.at:44"
( $at_check_trace; test ! -e pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc.at:44"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_253
#AT_START_254
at_fn_group_banner 254 'jsonrpc-py.at:3' \
  "JSON-RPC request and successful reply - Python" " " 23
at_xfail=no
(
  $as_echo "254. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "jsonrpc-py.at:4" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/jsonrpc-py.at:4"
{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:5: \$PYTHON \$srcdir/test-jsonrpc.py --detach --pidfile-name=\$PWD/pid listen punix:socket"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-jsonrpc.py --detach --pidfile-name=$PWD/pid listen punix:socket" "jsonrpc-py.at:5"
( $at_check_trace; $PYTHON $srcdir/test-jsonrpc.py --detach --pidfile-name=$PWD/pid listen punix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:6: test -s pid"
at_fn_check_prepare_trace "jsonrpc-py.at:6"
( $at_check_trace; test -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:6"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:7: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc-py.at:7"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:7"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:8: \$PYTHON \$srcdir/test-jsonrpc.py request unix:socket echo '[{\"a\": \"b\", \"x\": null}]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-jsonrpc.py request unix:socket echo '[{\"a\": \"b\", \"x\": null}]'" "jsonrpc-py.at:8"
( $at_check_trace; $PYTHON $srcdir/test-jsonrpc.py request unix:socket echo '[{"a": "b", "x": null}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "{\"error\":null,\"id\":0,\"result\":[{\"a\":\"b\",\"x\":null}]}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:8"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:12: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc-py.at:12"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:12"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_254
#AT_START_255
at_fn_group_banner 255 'jsonrpc-py.at:15' \
  "JSON-RPC request and error reply - Python" "      " 23
at_xfail=no
(
  $as_echo "255. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "jsonrpc-py.at:16" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/jsonrpc-py.at:16"
{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:17: \$PYTHON \$srcdir/test-jsonrpc.py --detach --pidfile-name=\$PWD/pid listen punix:socket"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-jsonrpc.py --detach --pidfile-name=$PWD/pid listen punix:socket" "jsonrpc-py.at:17"
( $at_check_trace; $PYTHON $srcdir/test-jsonrpc.py --detach --pidfile-name=$PWD/pid listen punix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:17"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:18: test -s pid"
at_fn_check_prepare_trace "jsonrpc-py.at:18"
( $at_check_trace; test -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:19: kill -0 \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc-py.at:19"
( $at_check_trace; kill -0 `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:19"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:20: \$PYTHON \$srcdir/test-jsonrpc.py request unix:socket bad-request '[]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-jsonrpc.py request unix:socket bad-request '[]'" "jsonrpc-py.at:20"
( $at_check_trace; $PYTHON $srcdir/test-jsonrpc.py request unix:socket bad-request '[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "{\"error\":{\"error\":\"unknown method\"},\"id\":0,\"result\":null}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:20"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:24: kill \`cat pid\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc-py.at:24"
( $at_check_trace; kill `cat pid`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_255
#AT_START_256
at_fn_group_banner 256 'jsonrpc-py.at:27' \
  "JSON-RPC notification - Python" "                 " 23
at_xfail=no
(
  $as_echo "256. $at_setup_line: testing $at_desc ..."
  $at_traceon

$as_echo "jsonrpc-py.at:28" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/jsonrpc-py.at:28"
{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:29: \$PYTHON \$srcdir/test-jsonrpc.py --detach --pidfile-name=\$PWD/pid listen punix:socket"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-jsonrpc.py --detach --pidfile-name=$PWD/pid listen punix:socket" "jsonrpc-py.at:29"
( $at_check_trace; $PYTHON $srcdir/test-jsonrpc.py --detach --pidfile-name=$PWD/pid listen punix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:29"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:30: test -s pid"
at_fn_check_prepare_trace "jsonrpc-py.at:30"
( $at_check_trace; test -s pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

# When a daemon dies it deletes its pidfile, so make a copy.
{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:32: cp pid pid2"
at_fn_check_prepare_trace "jsonrpc-py.at:32"
( $at_check_trace; cp pid pid2
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:32"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:33: kill -0 \`cat pid2\`"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc-py.at:33"
( $at_check_trace; kill -0 `cat pid2`
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:33"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:34: \$PYTHON \$srcdir/test-jsonrpc.py notify unix:socket shutdown '[]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-jsonrpc.py notify unix:socket shutdown '[]'" "jsonrpc-py.at:34"
( $at_check_trace; $PYTHON $srcdir/test-jsonrpc.py notify unix:socket shutdown '[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:34"
if $at_failed; then :
  kill `cat pid2`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:36: pid=\`cat pid2\`
   # First try a quick sleep, so that the test completes very quickly
   # in the normal case.  POSIX doesn't require fractional times to
   # work, so this might not work.
   sleep 0.1; if kill -0 \$pid; then :; else echo success; exit 0; fi
   # Then wait up to 2 seconds.
   sleep 1; if kill -0 \$pid; then :; else echo success; exit 0; fi
   sleep 1; if kill -0 \$pid; then :; else echo success; exit 0; fi
   echo failure; exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "jsonrpc-py.at:36"
( $at_check_trace; pid=`cat pid2`
   # First try a quick sleep, so that the test completes very quickly
   # in the normal case.  POSIX doesn't require fractional times to
   # work, so this might not work.
   sleep 0.1; if kill -0 $pid; then :; else echo success; exit 0; fi
   # Then wait up to 2 seconds.
   sleep 1; if kill -0 $pid; then :; else echo success; exit 0; fi
   sleep 1; if kill -0 $pid; then :; else echo success; exit 0; fi
   echo failure; exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "success
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:36"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/jsonrpc-py.at:47: test ! -e pid"
at_fn_check_prepare_trace "jsonrpc-py.at:47"
( $at_check_trace; test ! -e pid
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/jsonrpc-py.at:47"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_256
#AT_START_257
at_fn_group_banner 257 'timeval.at:3' \
  "check that time advances" "                       " 24
at_xfail=no
(
  $as_echo "257. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/timeval.at:5: test-timeval plain"
at_fn_check_prepare_trace "timeval.at:5"
( $at_check_trace; test-timeval plain
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/timeval.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_257
#AT_START_258
at_fn_group_banner 258 'timeval.at:8' \
  "check that time advances after daemonize()" "     " 24
at_xfail=no
(
  $as_echo "258. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/timeval.at:10: test-timeval daemon"
at_fn_check_prepare_trace "timeval.at:10"
( $at_check_trace; test-timeval daemon
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/timeval.at:10"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/timeval.at:11: # First try a quick sleep, so that the test completes very quickly
   # in the normal case.  POSIX doesn't require fractional times to
   # work, so this might not work.
   sleep 0.1; if test -e test-timeval.success; then echo success; exit 0; fi
   # Then wait up to 2 seconds.
   sleep 1; if test -e test-timeval.success; then echo success; exit 0; fi
   sleep 1; if test -e test-timeval.success; then echo success; exit 0; fi
   echo failure; exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "timeval.at:11"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
   # in the normal case.  POSIX doesn't require fractional times to
   # work, so this might not work.
   sleep 0.1; if test -e test-timeval.success; then echo success; exit 0; fi
   # Then wait up to 2 seconds.
   sleep 1; if test -e test-timeval.success; then echo success; exit 0; fi
   sleep 1; if test -e test-timeval.success; then echo success; exit 0; fi
   echo failure; exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "success
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/timeval.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_258
#AT_START_259
at_fn_group_banner 259 'lockfile.at:11' \
  "lock and unlock" "                                " 25
at_xfail=no
(
  $as_echo "259. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:11: test-lockfile lock_and_unlock"
at_fn_check_prepare_trace "lockfile.at:11"
( $at_check_trace; test-lockfile lock_and_unlock
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_and_unlock: success (0 children)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_259
#AT_START_260
at_fn_group_banner 260 'lockfile.at:12' \
  "lock and unlock twice" "                          " 25
at_xfail=no
(
  $as_echo "260. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:12: test-lockfile lock_and_unlock_twice"
at_fn_check_prepare_trace "lockfile.at:12"
( $at_check_trace; test-lockfile lock_and_unlock_twice
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_and_unlock_twice: success (0 children)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:12"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_260
#AT_START_261
at_fn_group_banner 261 'lockfile.at:13' \
  "lock blocks same process" "                       " 25
at_xfail=no
(
  $as_echo "261. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:13: test-lockfile lock_blocks_same_process"
at_fn_check_prepare_trace "lockfile.at:13"
( $at_check_trace; test-lockfile lock_blocks_same_process
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_blocks_same_process: success (0 children)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:13"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_261
#AT_START_262
at_fn_group_banner 262 'lockfile.at:14' \
  "lock blocks same process twice" "                 " 25
at_xfail=no
(
  $as_echo "262. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:14: test-lockfile lock_blocks_same_process_twice"
at_fn_check_prepare_trace "lockfile.at:14"
( $at_check_trace; test-lockfile lock_blocks_same_process_twice
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_blocks_same_process_twice: success (0 children)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:14"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_262
#AT_START_263
at_fn_group_banner 263 'lockfile.at:15' \
  "lock blocks other process" "                      " 25
at_xfail=no
(
  $as_echo "263. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:15: test-lockfile lock_blocks_other_process"
at_fn_check_prepare_trace "lockfile.at:15"
( $at_check_trace; test-lockfile lock_blocks_other_process
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_blocks_other_process: success (1 child)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:15"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_263
#AT_START_264
at_fn_group_banner 264 'lockfile.at:16' \
  "lock twice blocks other process" "                " 25
at_xfail=no
(
  $as_echo "264. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:16: test-lockfile lock_twice_blocks_other_process"
at_fn_check_prepare_trace "lockfile.at:16"
( $at_check_trace; test-lockfile lock_twice_blocks_other_process
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_twice_blocks_other_process: success (1 child)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:16"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_264
#AT_START_265
at_fn_group_banner 265 'lockfile.at:17' \
  "lock and unlock allows other process" "           " 25
at_xfail=no
(
  $as_echo "265. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:17: test-lockfile lock_and_unlock_allows_other_process"
at_fn_check_prepare_trace "lockfile.at:17"
( $at_check_trace; test-lockfile lock_and_unlock_allows_other_process
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_and_unlock_allows_other_process: success (1 child)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:17"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_265
#AT_START_266
at_fn_group_banner 266 'lockfile.at:18' \
  "lock timeout gets the lock" "                     " 25
at_xfail=no
(
  $as_echo "266. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:18: test-lockfile lock_timeout_gets_the_lock"
at_fn_check_prepare_trace "lockfile.at:18"
( $at_check_trace; test-lockfile lock_timeout_gets_the_lock
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_timeout_gets_the_lock: success (1 child)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_266
#AT_START_267
at_fn_group_banner 267 'lockfile.at:19' \
  "lock timeout runs out" "                          " 25
at_xfail=no
(
  $as_echo "267. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:19: test-lockfile lock_timeout_runs_out"
at_fn_check_prepare_trace "lockfile.at:19"
( $at_check_trace; test-lockfile lock_timeout_runs_out
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_timeout_runs_out: success (1 child)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:19"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_267
#AT_START_268
at_fn_group_banner 268 'lockfile.at:20' \
  "lock multiple" "                                  " 25
at_xfail=no
(
  $as_echo "268. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/lockfile.at:20: test-lockfile lock_multiple"
at_fn_check_prepare_trace "lockfile.at:20"
( $at_check_trace; test-lockfile lock_multiple
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "lock_multiple: success (0 children)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/lockfile.at:20"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_268
#AT_START_269
at_fn_group_banner 269 'reconnect.at:26' \
  "nothing happens if not enabled - C" "             " 26
at_xfail=no
(
  $as_echo "269. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
run
timeout
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:26: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:26"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
run
timeout
  no timeout
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:26"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_269
#AT_START_270
at_fn_group_banner 270 'reconnect.at:26' \
  "nothing happens if not enabled - Python" "        " 26
at_xfail=no
(
  $as_echo "270. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:26" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:26"

   cat >input <<'_ATEOF'
run
timeout
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:26: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:26"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
run
timeout
  no timeout
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:26"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_270
#AT_START_271
at_fn_group_banner 271 'reconnect.at:37' \
  "quick connect, idle disconnect - C" "             " 26
at_xfail=no
(
  $as_echo "271. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
enable

# Connection succeeds.
run
connected

# Send inactivity probe.
timeout
run

# Idle timeout kills connection.
timeout
run
disconnected
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:37: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:37"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# Connection succeeds.
run
  should connect
connected
  in ACTIVE for 0 ms (0 ms backoff)
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Send inactivity probe.
timeout
  advance 5000 ms

### t=6000 ###
  in ACTIVE for 5000 ms (0 ms backoff)
  connected (5000 ms), total 5000 ms connected
run
  should send probe
  in IDLE for 0 ms (0 ms backoff)

# Idle timeout kills connection.
timeout
  advance 5000 ms

### t=11000 ###
  in IDLE for 5000 ms (0 ms backoff)
  connected (10000 ms), total 10000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (1000 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 10000 ms connected
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:37"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_271
#AT_START_272
at_fn_group_banner 272 'reconnect.at:37' \
  "quick connect, idle disconnect - Python" "        " 26
at_xfail=no
(
  $as_echo "272. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:37" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:37"

   cat >input <<'_ATEOF'
enable

# Connection succeeds.
run
connected

# Send inactivity probe.
timeout
run

# Idle timeout kills connection.
timeout
run
disconnected
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:37: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:37"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# Connection succeeds.
run
  should connect
connected
  in ACTIVE for 0 ms (0 ms backoff)
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Send inactivity probe.
timeout
  advance 5000 ms

### t=6000 ###
  in ACTIVE for 5000 ms (0 ms backoff)
  connected (5000 ms), total 5000 ms connected
run
  should send probe
  in IDLE for 0 ms (0 ms backoff)

# Idle timeout kills connection.
timeout
  advance 5000 ms

### t=11000 ###
  in IDLE for 5000 ms (0 ms backoff)
  connected (10000 ms), total 10000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (1000 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 10000 ms connected
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:37"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_272
#AT_START_273
at_fn_group_banner 273 'reconnect.at:92' \
  "slow connect, idle disconnect - C" "              " 26
at_xfail=no
(
  $as_echo "273. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
enable

# Start connecting.
run
connecting

# Connect after 500 ms.
advance 500
run
connected

# Send inactivity probe.
timeout
run

# Idle timeout kills connection.
timeout
run
disconnected
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:92: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:92"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# Start connecting.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)

# Connect after 500 ms.
advance 500

### t=1500 ###
  in CONNECT_IN_PROGRESS for 500 ms (0 ms backoff)
run
connected
  in ACTIVE for 0 ms (0 ms backoff)
  created 1000, last received 1000, last connected 1500
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Send inactivity probe.
timeout
  advance 5000 ms

### t=6500 ###
  in ACTIVE for 5000 ms (0 ms backoff)
  connected (5000 ms), total 5000 ms connected
run
  should send probe
  in IDLE for 0 ms (0 ms backoff)

# Idle timeout kills connection.
timeout
  advance 5000 ms

### t=11500 ###
  in IDLE for 5000 ms (0 ms backoff)
  connected (10000 ms), total 10000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (1000 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 10000 ms connected
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:92"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_273
#AT_START_274
at_fn_group_banner 274 'reconnect.at:92' \
  "slow connect, idle disconnect - Python" "         " 26
at_xfail=no
(
  $as_echo "274. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:92" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:92"

   cat >input <<'_ATEOF'
enable

# Start connecting.
run
connecting

# Connect after 500 ms.
advance 500
run
connected

# Send inactivity probe.
timeout
run

# Idle timeout kills connection.
timeout
run
disconnected
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:92: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:92"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# Start connecting.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)

# Connect after 500 ms.
advance 500

### t=1500 ###
  in CONNECT_IN_PROGRESS for 500 ms (0 ms backoff)
run
connected
  in ACTIVE for 0 ms (0 ms backoff)
  created 1000, last received 1000, last connected 1500
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Send inactivity probe.
timeout
  advance 5000 ms

### t=6500 ###
  in ACTIVE for 5000 ms (0 ms backoff)
  connected (5000 ms), total 5000 ms connected
run
  should send probe
  in IDLE for 0 ms (0 ms backoff)

# Idle timeout kills connection.
timeout
  advance 5000 ms

### t=11500 ###
  in IDLE for 5000 ms (0 ms backoff)
  connected (10000 ms), total 10000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (1000 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 10000 ms connected
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:92"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_274
#AT_START_275
at_fn_group_banner 275 'reconnect.at:162' \
  "connect backs off - C" "                          " 26
at_xfail=no
(
  $as_echo "275. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
enable

# First connection attempt fails after 1000 ms.
run
connecting
run
timeout
run
connect-failed

# Back off for 1000 ms.
timeout
run

# Second connection attempt fails after 1000 ms.
connecting
timeout
run
connect-failed

# Back off for 2000 ms.
timeout
run

# Third connection attempt fails after 2000 ms.
connecting
timeout
run
connect-failed

# Back off for 4000 ms.
timeout
run

# Third connection attempt fails after 4000 ms.
connecting
timeout
run
connect-failed

# Back off for 8000 ms.
timeout
run

# Third connection attempt fails after 8000 ms.
connecting
timeout
run
connect-failed

# Back off for 8000 ms.
timeout
run

# Fourth connection attempt fails after 8000 ms.
connecting
timeout
run
connect-failed
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:162: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:162"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connection attempt fails after 1000 ms.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)
run
timeout
  advance 1000 ms

### t=2000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (0 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=3000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connection attempt fails after 1000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=4000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (1000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=6000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connection attempt fails after 2000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (2000 ms backoff)
timeout
  advance 2000 ms

### t=8000 ###
  in CONNECT_IN_PROGRESS for 2000 ms (2000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (4000 ms backoff)
  0 successful connections out of 3 attempts, seqno 0

# Back off for 4000 ms.
timeout
  advance 4000 ms

### t=12000 ###
  in BACKOFF for 4000 ms (4000 ms backoff)
run
  should connect

# Third connection attempt fails after 4000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (4000 ms backoff)
timeout
  advance 4000 ms

### t=16000 ###
  in CONNECT_IN_PROGRESS for 4000 ms (4000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (8000 ms backoff)
  0 successful connections out of 4 attempts, seqno 0

# Back off for 8000 ms.
timeout
  advance 8000 ms

### t=24000 ###
  in BACKOFF for 8000 ms (8000 ms backoff)
run
  should connect

# Third connection attempt fails after 8000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (8000 ms backoff)
timeout
  advance 8000 ms

### t=32000 ###
  in CONNECT_IN_PROGRESS for 8000 ms (8000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (8000 ms backoff)
  0 successful connections out of 5 attempts, seqno 0

# Back off for 8000 ms.
timeout
  advance 8000 ms

### t=40000 ###
  in BACKOFF for 8000 ms (8000 ms backoff)
run
  should connect

# Fourth connection attempt fails after 8000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (8000 ms backoff)
timeout
  advance 8000 ms

### t=48000 ###
  in CONNECT_IN_PROGRESS for 8000 ms (8000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (8000 ms backoff)
  0 successful connections out of 6 attempts, seqno 0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:162"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_275
#AT_START_276
at_fn_group_banner 276 'reconnect.at:162' \
  "connect backs off - Python" "                     " 26
at_xfail=no
(
  $as_echo "276. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:162" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:162"

   cat >input <<'_ATEOF'
enable

# First connection attempt fails after 1000 ms.
run
connecting
run
timeout
run
connect-failed

# Back off for 1000 ms.
timeout
run

# Second connection attempt fails after 1000 ms.
connecting
timeout
run
connect-failed

# Back off for 2000 ms.
timeout
run

# Third connection attempt fails after 2000 ms.
connecting
timeout
run
connect-failed

# Back off for 4000 ms.
timeout
run

# Third connection attempt fails after 4000 ms.
connecting
timeout
run
connect-failed

# Back off for 8000 ms.
timeout
run

# Third connection attempt fails after 8000 ms.
connecting
timeout
run
connect-failed

# Back off for 8000 ms.
timeout
run

# Fourth connection attempt fails after 8000 ms.
connecting
timeout
run
connect-failed
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:162: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:162"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connection attempt fails after 1000 ms.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)
run
timeout
  advance 1000 ms

### t=2000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (0 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=3000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connection attempt fails after 1000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=4000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (1000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=6000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connection attempt fails after 2000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (2000 ms backoff)
timeout
  advance 2000 ms

### t=8000 ###
  in CONNECT_IN_PROGRESS for 2000 ms (2000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (4000 ms backoff)
  0 successful connections out of 3 attempts, seqno 0

# Back off for 4000 ms.
timeout
  advance 4000 ms

### t=12000 ###
  in BACKOFF for 4000 ms (4000 ms backoff)
run
  should connect

# Third connection attempt fails after 4000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (4000 ms backoff)
timeout
  advance 4000 ms

### t=16000 ###
  in CONNECT_IN_PROGRESS for 4000 ms (4000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (8000 ms backoff)
  0 successful connections out of 4 attempts, seqno 0

# Back off for 8000 ms.
timeout
  advance 8000 ms

### t=24000 ###
  in BACKOFF for 8000 ms (8000 ms backoff)
run
  should connect

# Third connection attempt fails after 8000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (8000 ms backoff)
timeout
  advance 8000 ms

### t=32000 ###
  in CONNECT_IN_PROGRESS for 8000 ms (8000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (8000 ms backoff)
  0 successful connections out of 5 attempts, seqno 0

# Back off for 8000 ms.
timeout
  advance 8000 ms

### t=40000 ###
  in BACKOFF for 8000 ms (8000 ms backoff)
run
  should connect

# Fourth connection attempt fails after 8000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (8000 ms backoff)
timeout
  advance 8000 ms

### t=48000 ###
  in CONNECT_IN_PROGRESS for 8000 ms (8000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (8000 ms backoff)
  0 successful connections out of 6 attempts, seqno 0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:162"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_276
#AT_START_277
at_fn_group_banner 277 'reconnect.at:361' \
  "connections with no data preserve backoff - C" "  " 26
at_xfail=no
(
  $as_echo "277. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
enable

# First connect, then idle timeout kills connection.
run
connected
timeout
run
timeout
run
disconnected

# Back off for 1000 ms.
timeout
run

# Second connect, then idle timeout kills connection.
run
connected
timeout
run
timeout
run
disconnected

# Back off for 2000 ms.
timeout
run

# Third connect, then idle timeout kills connection.
run
connected
timeout
run
timeout
run
disconnected

# Back off for 4000 ms.
timeout
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:361: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:361"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connect, then idle timeout kills connection.
run
  should connect
connected
  in ACTIVE for 0 ms (0 ms backoff)
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected
timeout
  advance 5000 ms

### t=6000 ###
  in ACTIVE for 5000 ms (0 ms backoff)
  connected (5000 ms), total 5000 ms connected
run
  should send probe
  in IDLE for 0 ms (0 ms backoff)
timeout
  advance 5000 ms

### t=11000 ###
  in IDLE for 5000 ms (0 ms backoff)
  connected (10000 ms), total 10000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (1000 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 10000 ms connected

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=12000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connect, then idle timeout kills connection.
run
  should connect
connected
  in ACTIVE for 0 ms (1000 ms backoff)
  created 1000, last received 1000, last connected 12000
  2 successful connections out of 2 attempts, seqno 3
  connected (0 ms), total 10000 ms connected
timeout
  advance 5000 ms

### t=17000 ###
  in ACTIVE for 5000 ms (1000 ms backoff)
  connected (5000 ms), total 15000 ms connected
run
  should send probe
  in IDLE for 0 ms (1000 ms backoff)
timeout
  advance 5000 ms

### t=22000 ###
  in IDLE for 5000 ms (1000 ms backoff)
  connected (10000 ms), total 20000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (2000 ms backoff)
  2 successful connections out of 2 attempts, seqno 4
  not connected (0 ms), total 20000 ms connected

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=24000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connect, then idle timeout kills connection.
run
  should connect
connected
  in ACTIVE for 0 ms (2000 ms backoff)
  created 1000, last received 1000, last connected 24000
  3 successful connections out of 3 attempts, seqno 5
  connected (0 ms), total 20000 ms connected
timeout
  advance 5000 ms

### t=29000 ###
  in ACTIVE for 5000 ms (2000 ms backoff)
  connected (5000 ms), total 25000 ms connected
run
  should send probe
  in IDLE for 0 ms (2000 ms backoff)
timeout
  advance 5000 ms

### t=34000 ###
  in IDLE for 5000 ms (2000 ms backoff)
  connected (10000 ms), total 30000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (4000 ms backoff)
  3 successful connections out of 3 attempts, seqno 6
  not connected (0 ms), total 30000 ms connected

# Back off for 4000 ms.
timeout
  advance 4000 ms

### t=38000 ###
  in BACKOFF for 4000 ms (4000 ms backoff)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:361"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_277
#AT_START_278
at_fn_group_banner 278 'reconnect.at:361' \
  "connections with no data preserve backoff - Python" "" 26
at_xfail=no
(
  $as_echo "278. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:361" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:361"

   cat >input <<'_ATEOF'
enable

# First connect, then idle timeout kills connection.
run
connected
timeout
run
timeout
run
disconnected

# Back off for 1000 ms.
timeout
run

# Second connect, then idle timeout kills connection.
run
connected
timeout
run
timeout
run
disconnected

# Back off for 2000 ms.
timeout
run

# Third connect, then idle timeout kills connection.
run
connected
timeout
run
timeout
run
disconnected

# Back off for 4000 ms.
timeout
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:361: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:361"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connect, then idle timeout kills connection.
run
  should connect
connected
  in ACTIVE for 0 ms (0 ms backoff)
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected
timeout
  advance 5000 ms

### t=6000 ###
  in ACTIVE for 5000 ms (0 ms backoff)
  connected (5000 ms), total 5000 ms connected
run
  should send probe
  in IDLE for 0 ms (0 ms backoff)
timeout
  advance 5000 ms

### t=11000 ###
  in IDLE for 5000 ms (0 ms backoff)
  connected (10000 ms), total 10000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (1000 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 10000 ms connected

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=12000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connect, then idle timeout kills connection.
run
  should connect
connected
  in ACTIVE for 0 ms (1000 ms backoff)
  created 1000, last received 1000, last connected 12000
  2 successful connections out of 2 attempts, seqno 3
  connected (0 ms), total 10000 ms connected
timeout
  advance 5000 ms

### t=17000 ###
  in ACTIVE for 5000 ms (1000 ms backoff)
  connected (5000 ms), total 15000 ms connected
run
  should send probe
  in IDLE for 0 ms (1000 ms backoff)
timeout
  advance 5000 ms

### t=22000 ###
  in IDLE for 5000 ms (1000 ms backoff)
  connected (10000 ms), total 20000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (2000 ms backoff)
  2 successful connections out of 2 attempts, seqno 4
  not connected (0 ms), total 20000 ms connected

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=24000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connect, then idle timeout kills connection.
run
  should connect
connected
  in ACTIVE for 0 ms (2000 ms backoff)
  created 1000, last received 1000, last connected 24000
  3 successful connections out of 3 attempts, seqno 5
  connected (0 ms), total 20000 ms connected
timeout
  advance 5000 ms

### t=29000 ###
  in ACTIVE for 5000 ms (2000 ms backoff)
  connected (5000 ms), total 25000 ms connected
run
  should send probe
  in IDLE for 0 ms (2000 ms backoff)
timeout
  advance 5000 ms

### t=34000 ###
  in IDLE for 5000 ms (2000 ms backoff)
  connected (10000 ms), total 30000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (4000 ms backoff)
  3 successful connections out of 3 attempts, seqno 6
  not connected (0 ms), total 30000 ms connected

# Back off for 4000 ms.
timeout
  advance 4000 ms

### t=38000 ###
  in BACKOFF for 4000 ms (4000 ms backoff)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:361"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_278
#AT_START_279
at_fn_group_banner 279 'reconnect.at:521' \
  "brief connection preserves backoff - C" "         " 26
at_xfail=no
(
  $as_echo "279. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
enable

# First connection attempt fails after 1000 ms.
run
connecting
run
timeout
run
connect-failed

# Back off for 1000 ms.
timeout
run

# Second connection attempt fails after 1000 ms.
connecting
timeout
run
connect-failed

# Back off for 2000 ms.
timeout
run

# Third connection attempt succeeds after 500 ms.
connecting
advance 500
run
connected

# Connection drops after another 250 ms.
advance 250
disconnected
run

# Back off for 4000 ms.
timeout
run
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:521: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:521"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connection attempt fails after 1000 ms.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)
run
timeout
  advance 1000 ms

### t=2000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (0 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=3000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connection attempt fails after 1000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=4000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (1000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=6000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connection attempt succeeds after 500 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (2000 ms backoff)
advance 500

### t=6500 ###
  in CONNECT_IN_PROGRESS for 500 ms (2000 ms backoff)
run
connected
  in ACTIVE for 0 ms (2000 ms backoff)
  created 1000, last received 1000, last connected 6500
  1 successful connections out of 3 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Connection drops after another 250 ms.
advance 250

### t=6750 ###
  in ACTIVE for 250 ms (2000 ms backoff)
  connected (250 ms), total 250 ms connected
disconnected
  in BACKOFF for 0 ms (4000 ms backoff)
  1 successful connections out of 3 attempts, seqno 2
  not connected (0 ms), total 250 ms connected
run

# Back off for 4000 ms.
timeout
  advance 4000 ms

### t=10750 ###
  in BACKOFF for 4000 ms (4000 ms backoff)
run
  should connect
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:521"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_279
#AT_START_280
at_fn_group_banner 280 'reconnect.at:521' \
  "brief connection preserves backoff - Python" "    " 26
at_xfail=no
(
  $as_echo "280. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:521" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:521"

   cat >input <<'_ATEOF'
enable

# First connection attempt fails after 1000 ms.
run
connecting
run
timeout
run
connect-failed

# Back off for 1000 ms.
timeout
run

# Second connection attempt fails after 1000 ms.
connecting
timeout
run
connect-failed

# Back off for 2000 ms.
timeout
run

# Third connection attempt succeeds after 500 ms.
connecting
advance 500
run
connected

# Connection drops after another 250 ms.
advance 250
disconnected
run

# Back off for 4000 ms.
timeout
run
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:521: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:521"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connection attempt fails after 1000 ms.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)
run
timeout
  advance 1000 ms

### t=2000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (0 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=3000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connection attempt fails after 1000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=4000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (1000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=6000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connection attempt succeeds after 500 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (2000 ms backoff)
advance 500

### t=6500 ###
  in CONNECT_IN_PROGRESS for 500 ms (2000 ms backoff)
run
connected
  in ACTIVE for 0 ms (2000 ms backoff)
  created 1000, last received 1000, last connected 6500
  1 successful connections out of 3 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Connection drops after another 250 ms.
advance 250

### t=6750 ###
  in ACTIVE for 250 ms (2000 ms backoff)
  connected (250 ms), total 250 ms connected
disconnected
  in BACKOFF for 0 ms (4000 ms backoff)
  1 successful connections out of 3 attempts, seqno 2
  not connected (0 ms), total 250 ms connected
run

# Back off for 4000 ms.
timeout
  advance 4000 ms

### t=10750 ###
  in BACKOFF for 4000 ms (4000 ms backoff)
run
  should connect
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:521"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_280
#AT_START_281
at_fn_group_banner 281 'reconnect.at:650' \
  "brief connection with data preserves backoff - C" "" 26
at_xfail=no
(
  $as_echo "281. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
enable

# First connection attempt fails after 1000 ms.
run
connecting
run
timeout
run
connect-failed

# Back off for 1000 ms.
timeout
run

# Second connection attempt fails after 1000 ms.
connecting
timeout
run
connect-failed

# Back off for 2000 ms.
timeout
run

# Third connection attempt succeeds after 500 ms.
connecting
advance 500
run
connected

# Connection receives 3 chunks of data spaced 250 ms apart.
advance 250
run
received
advance 250
run
received
advance 250
run
received

# Connection drops.
disconnected
run

# Back off for 4000 ms.
timeout
run
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:650: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:650"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connection attempt fails after 1000 ms.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)
run
timeout
  advance 1000 ms

### t=2000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (0 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=3000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connection attempt fails after 1000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=4000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (1000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=6000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connection attempt succeeds after 500 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (2000 ms backoff)
advance 500

### t=6500 ###
  in CONNECT_IN_PROGRESS for 500 ms (2000 ms backoff)
run
connected
  in ACTIVE for 0 ms (2000 ms backoff)
  created 1000, last received 1000, last connected 6500
  1 successful connections out of 3 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Connection receives 3 chunks of data spaced 250 ms apart.
advance 250

### t=6750 ###
  in ACTIVE for 250 ms (2000 ms backoff)
  connected (250 ms), total 250 ms connected
run
received
  created 1000, last received 6750, last connected 6500
advance 250

### t=7000 ###
  in ACTIVE for 500 ms (2000 ms backoff)
  connected (500 ms), total 500 ms connected
run
received
  created 1000, last received 7000, last connected 6500
advance 250

### t=7250 ###
  in ACTIVE for 750 ms (2000 ms backoff)
  connected (750 ms), total 750 ms connected
run
received
  created 1000, last received 7250, last connected 6500

# Connection drops.
disconnected
  in BACKOFF for 0 ms (4000 ms backoff)
  1 successful connections out of 3 attempts, seqno 2
  not connected (0 ms), total 750 ms connected
run

# Back off for 4000 ms.
timeout
  advance 4000 ms

### t=11250 ###
  in BACKOFF for 4000 ms (4000 ms backoff)
run
  should connect
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:650"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_281
#AT_START_282
at_fn_group_banner 282 'reconnect.at:650' \
  "brief connection with data preserves backoff - Python" "" 26
at_xfail=no
(
  $as_echo "282. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:650" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:650"

   cat >input <<'_ATEOF'
enable

# First connection attempt fails after 1000 ms.
run
connecting
run
timeout
run
connect-failed

# Back off for 1000 ms.
timeout
run

# Second connection attempt fails after 1000 ms.
connecting
timeout
run
connect-failed

# Back off for 2000 ms.
timeout
run

# Third connection attempt succeeds after 500 ms.
connecting
advance 500
run
connected

# Connection receives 3 chunks of data spaced 250 ms apart.
advance 250
run
received
advance 250
run
received
advance 250
run
received

# Connection drops.
disconnected
run

# Back off for 4000 ms.
timeout
run
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:650: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:650"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connection attempt fails after 1000 ms.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)
run
timeout
  advance 1000 ms

### t=2000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (0 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=3000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connection attempt fails after 1000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=4000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (1000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=6000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connection attempt succeeds after 500 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (2000 ms backoff)
advance 500

### t=6500 ###
  in CONNECT_IN_PROGRESS for 500 ms (2000 ms backoff)
run
connected
  in ACTIVE for 0 ms (2000 ms backoff)
  created 1000, last received 1000, last connected 6500
  1 successful connections out of 3 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Connection receives 3 chunks of data spaced 250 ms apart.
advance 250

### t=6750 ###
  in ACTIVE for 250 ms (2000 ms backoff)
  connected (250 ms), total 250 ms connected
run
received
  created 1000, last received 6750, last connected 6500
advance 250

### t=7000 ###
  in ACTIVE for 500 ms (2000 ms backoff)
  connected (500 ms), total 500 ms connected
run
received
  created 1000, last received 7000, last connected 6500
advance 250

### t=7250 ###
  in ACTIVE for 750 ms (2000 ms backoff)
  connected (750 ms), total 750 ms connected
run
received
  created 1000, last received 7250, last connected 6500

# Connection drops.
disconnected
  in BACKOFF for 0 ms (4000 ms backoff)
  1 successful connections out of 3 attempts, seqno 2
  not connected (0 ms), total 750 ms connected
run

# Back off for 4000 ms.
timeout
  advance 4000 ms

### t=11250 ###
  in BACKOFF for 4000 ms (4000 ms backoff)
run
  should connect
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:650"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_282
#AT_START_283
at_fn_group_banner 283 'reconnect.at:811' \
  "long connection resets backoff - C" "             " 26
at_xfail=no
(
  $as_echo "283. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
enable

# First connection attempt fails after 1000 ms.
run
connecting
run
timeout
run
connect-failed

# Back off for 1000 ms.
timeout
run

# Second connection attempt fails after 1000 ms.
connecting
timeout
run
connect-failed

# Back off for 2000 ms.
timeout
run

# Third connection attempt succeeds after 500 ms.
connecting
advance 500
run
connected

# Connection receives 3 chunks of data spaced 2000 ms apart.
advance 2000
run
received
advance 2000
run
received
advance 2000
run
received

# Connection drops.
disconnected
run

# Back off for 1000 ms.
timeout
run
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:811: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:811"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connection attempt fails after 1000 ms.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)
run
timeout
  advance 1000 ms

### t=2000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (0 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=3000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connection attempt fails after 1000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=4000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (1000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=6000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connection attempt succeeds after 500 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (2000 ms backoff)
advance 500

### t=6500 ###
  in CONNECT_IN_PROGRESS for 500 ms (2000 ms backoff)
run
connected
  in ACTIVE for 0 ms (2000 ms backoff)
  created 1000, last received 1000, last connected 6500
  1 successful connections out of 3 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Connection receives 3 chunks of data spaced 2000 ms apart.
advance 2000

### t=8500 ###
  in ACTIVE for 2000 ms (2000 ms backoff)
  connected (2000 ms), total 2000 ms connected
run
received
  created 1000, last received 8500, last connected 6500
advance 2000

### t=10500 ###
  in ACTIVE for 4000 ms (2000 ms backoff)
  connected (4000 ms), total 4000 ms connected
run
received
  created 1000, last received 10500, last connected 6500
advance 2000

### t=12500 ###
  in ACTIVE for 6000 ms (2000 ms backoff)
  connected (6000 ms), total 6000 ms connected
run
received
  created 1000, last received 12500, last connected 6500

# Connection drops.
disconnected
  in BACKOFF for 0 ms (1000 ms backoff)
  1 successful connections out of 3 attempts, seqno 2
  not connected (0 ms), total 6000 ms connected
run

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=13500 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:811"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_283
#AT_START_284
at_fn_group_banner 284 'reconnect.at:811' \
  "long connection resets backoff - Python" "        " 26
at_xfail=no
(
  $as_echo "284. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:811" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:811"

   cat >input <<'_ATEOF'
enable

# First connection attempt fails after 1000 ms.
run
connecting
run
timeout
run
connect-failed

# Back off for 1000 ms.
timeout
run

# Second connection attempt fails after 1000 ms.
connecting
timeout
run
connect-failed

# Back off for 2000 ms.
timeout
run

# Third connection attempt succeeds after 500 ms.
connecting
advance 500
run
connected

# Connection receives 3 chunks of data spaced 2000 ms apart.
advance 2000
run
received
advance 2000
run
received
advance 2000
run
received

# Connection drops.
disconnected
run

# Back off for 1000 ms.
timeout
run
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:811: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:811"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# First connection attempt fails after 1000 ms.
run
  should connect
connecting
  in CONNECT_IN_PROGRESS for 0 ms (0 ms backoff)
run
timeout
  advance 1000 ms

### t=2000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (0 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=3000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect

# Second connection attempt fails after 1000 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=4000 ###
  in CONNECT_IN_PROGRESS for 1000 ms (1000 ms backoff)
run
  should disconnect
connect-failed
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
timeout
  advance 2000 ms

### t=6000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
run
  should connect

# Third connection attempt succeeds after 500 ms.
connecting
  in CONNECT_IN_PROGRESS for 0 ms (2000 ms backoff)
advance 500

### t=6500 ###
  in CONNECT_IN_PROGRESS for 500 ms (2000 ms backoff)
run
connected
  in ACTIVE for 0 ms (2000 ms backoff)
  created 1000, last received 1000, last connected 6500
  1 successful connections out of 3 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Connection receives 3 chunks of data spaced 2000 ms apart.
advance 2000

### t=8500 ###
  in ACTIVE for 2000 ms (2000 ms backoff)
  connected (2000 ms), total 2000 ms connected
run
received
  created 1000, last received 8500, last connected 6500
advance 2000

### t=10500 ###
  in ACTIVE for 4000 ms (2000 ms backoff)
  connected (4000 ms), total 4000 ms connected
run
received
  created 1000, last received 10500, last connected 6500
advance 2000

### t=12500 ###
  in ACTIVE for 6000 ms (2000 ms backoff)
  connected (6000 ms), total 6000 ms connected
run
received
  created 1000, last received 12500, last connected 6500

# Connection drops.
disconnected
  in BACKOFF for 0 ms (1000 ms backoff)
  1 successful connections out of 3 attempts, seqno 2
  not connected (0 ms), total 6000 ms connected
run

# Back off for 1000 ms.
timeout
  advance 1000 ms

### t=13500 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:811"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_284
#AT_START_285
at_fn_group_banner 285 'reconnect.at:972' \
  "connection attempt fails quickly - C" "           " 26
at_xfail=no
(
  $as_echo "285. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
enable

# Connection fails quickly.
run
connect-failed ECONNREFUSED

# Back off for 1000 ms.
run
timeout

# Connection fails quickly again.
run
connect-failed ECONNREFUSED

# Back off for 2000 ms.
run
timeout
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:972: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:972"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# Connection fails quickly.
run
  should connect
connect-failed ECONNREFUSED
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
run
timeout
  advance 1000 ms

### t=2000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)

# Connection fails quickly again.
run
  should connect
connect-failed ECONNREFUSED
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
run
timeout
  advance 2000 ms

### t=4000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:972"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_285
#AT_START_286
at_fn_group_banner 286 'reconnect.at:972' \
  "connection attempt fails quickly - Python" "      " 26
at_xfail=no
(
  $as_echo "286. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:972" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:972"

   cat >input <<'_ATEOF'
enable

# Connection fails quickly.
run
connect-failed ECONNREFUSED

# Back off for 1000 ms.
run
timeout

# Connection fails quickly again.
run
connect-failed ECONNREFUSED

# Back off for 2000 ms.
run
timeout
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:972: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:972"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
enable
  in BACKOFF for 0 ms (0 ms backoff)

# Connection fails quickly.
run
  should connect
connect-failed ECONNREFUSED
  in BACKOFF for 0 ms (1000 ms backoff)
  0 successful connections out of 1 attempts, seqno 0

# Back off for 1000 ms.
run
timeout
  advance 1000 ms

### t=2000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)

# Connection fails quickly again.
run
  should connect
connect-failed ECONNREFUSED
  in BACKOFF for 0 ms (2000 ms backoff)
  0 successful connections out of 2 attempts, seqno 0

# Back off for 2000 ms.
run
timeout
  advance 2000 ms

### t=4000 ###
  in BACKOFF for 2000 ms (2000 ms backoff)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:972"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_286
#AT_START_287
at_fn_group_banner 287 'reconnect.at:1027' \
  "max-tries of 1 honored - C" "                     " 26
at_xfail=no
(
  $as_echo "287. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
set-max-tries 1
enable

# Connection succeeds.
run
connected

# Send inactivity probe.
timeout
run

# Idle timeout kills connection.
timeout
run
disconnected
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:1027: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:1027"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
set-max-tries 1
  1 tries left
enable
  in BACKOFF for 0 ms (0 ms backoff)
  0 tries left

# Connection succeeds.
run
  should connect
connected
  in ACTIVE for 0 ms (0 ms backoff)
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Send inactivity probe.
timeout
  advance 5000 ms

### t=6000 ###
  in ACTIVE for 5000 ms (0 ms backoff)
  connected (5000 ms), total 5000 ms connected
run
  should send probe
  in IDLE for 0 ms (0 ms backoff)

# Idle timeout kills connection.
timeout
  advance 5000 ms

### t=11000 ###
  in IDLE for 5000 ms (0 ms backoff)
  connected (10000 ms), total 10000 ms connected
run
  should disconnect
disconnected
  in VOID for 0 ms (1000 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 10000 ms connected
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:1027"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_287
#AT_START_288
at_fn_group_banner 288 'reconnect.at:1027' \
  "max-tries of 1 honored - Python" "                " 26
at_xfail=no
(
  $as_echo "288. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:1027" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:1027"

   cat >input <<'_ATEOF'
set-max-tries 1
enable

# Connection succeeds.
run
connected

# Send inactivity probe.
timeout
run

# Idle timeout kills connection.
timeout
run
disconnected
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:1027: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:1027"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
set-max-tries 1
  1 tries left
enable
  in BACKOFF for 0 ms (0 ms backoff)
  0 tries left

# Connection succeeds.
run
  should connect
connected
  in ACTIVE for 0 ms (0 ms backoff)
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected

# Send inactivity probe.
timeout
  advance 5000 ms

### t=6000 ###
  in ACTIVE for 5000 ms (0 ms backoff)
  connected (5000 ms), total 5000 ms connected
run
  should send probe
  in IDLE for 0 ms (0 ms backoff)

# Idle timeout kills connection.
timeout
  advance 5000 ms

### t=11000 ###
  in IDLE for 5000 ms (0 ms backoff)
  connected (10000 ms), total 10000 ms connected
run
  should disconnect
disconnected
  in VOID for 0 ms (1000 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 10000 ms connected
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:1027"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_288
#AT_START_289
at_fn_group_banner 289 'reconnect.at:1086' \
  "max-tries of 0 honored - C" "                     " 26
at_xfail=no
(
  $as_echo "289. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
set-max-tries 0
enable
run
timeout
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:1086: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:1086"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
set-max-tries 0
  0 tries left
enable
run
timeout
  no timeout
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:1086"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_289
#AT_START_290
at_fn_group_banner 290 'reconnect.at:1086' \
  "max-tries of 0 honored - Python" "                " 26
at_xfail=no
(
  $as_echo "290. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:1086" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:1086"

   cat >input <<'_ATEOF'
set-max-tries 0
enable
run
timeout
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:1086: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:1086"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
set-max-tries 0
  0 tries left
enable
run
timeout
  no timeout
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:1086"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_290
#AT_START_291
at_fn_group_banner 291 'reconnect.at:1102' \
  "passive mode - C" "                               " 26
at_xfail=no
(
  $as_echo "291. $at_setup_line: testing $at_desc ..."
  $at_traceon



   cat >input <<'_ATEOF'
passive
enable

# Start listening.
timeout
run
listening

# Listening never times out.
timeout
run

# Listening failed (accept() returned funny error?).  Back off and try again.
listen-error 0
timeout
run
listening

# Connection accepted.
connected
received
advance 1000
received

# Connection times out.
timeout
run
timeout
run
disconnected

# Start listening again.
timeout
run
listening
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:1102: test-reconnect < input"
at_fn_check_prepare_trace "reconnect.at:1102"
( $at_check_trace; test-reconnect < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
passive
enable
  in BACKOFF for 0 ms (0 ms backoff)

# Start listening.
timeout
  advance 0 ms
run
  should connect
listening
  in LISTENING for 0 ms (0 ms backoff)

# Listening never times out.
timeout
  no timeout
run

# Listening failed (accept() returned funny error?).  Back off and try again.
listen-error 0
  in BACKOFF for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=2000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect
listening
  in LISTENING for 0 ms (1000 ms backoff)

# Connection accepted.
connected
  in ACTIVE for 0 ms (1000 ms backoff)
  created 1000, last received 1000, last connected 2000
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected
received
  created 1000, last received 2000, last connected 2000
advance 1000

### t=3000 ###
  in ACTIVE for 1000 ms (1000 ms backoff)
  connected (1000 ms), total 1000 ms connected
received
  created 1000, last received 3000, last connected 2000

# Connection times out.
timeout
  advance 5000 ms

### t=8000 ###
  in ACTIVE for 6000 ms (1000 ms backoff)
  connected (6000 ms), total 6000 ms connected
run
  should send probe
  in IDLE for 0 ms (1000 ms backoff)
timeout
  advance 5000 ms

### t=13000 ###
  in IDLE for 5000 ms (1000 ms backoff)
  connected (11000 ms), total 11000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (0 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 11000 ms connected

# Start listening again.
timeout
  advance 0 ms
run
  should connect
listening
  in LISTENING for 0 ms (0 ms backoff)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:1102"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_291
#AT_START_292
at_fn_group_banner 292 'reconnect.at:1102' \
  "passive mode - Python" "                          " 26
at_xfail=no
(
  $as_echo "292. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "reconnect.at:1102" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/reconnect.at:1102"

   cat >input <<'_ATEOF'
passive
enable

# Start listening.
timeout
run
listening

# Listening never times out.
timeout
run

# Listening failed (accept() returned funny error?).  Back off and try again.
listen-error 0
timeout
run
listening

# Connection accepted.
connected
received
advance 1000
received

# Connection times out.
timeout
run
timeout
run
disconnected

# Start listening again.
timeout
run
listening
_ATEOF

   { set +x
$as_echo "$at_srcdir/reconnect.at:1102: \$PYTHON \$srcdir/test-reconnect.py < input"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-reconnect.py < input" "reconnect.at:1102"
( $at_check_trace; $PYTHON $srcdir/test-reconnect.py < input
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "### t=1000 ###
passive
enable
  in BACKOFF for 0 ms (0 ms backoff)

# Start listening.
timeout
  advance 0 ms
run
  should connect
listening
  in LISTENING for 0 ms (0 ms backoff)

# Listening never times out.
timeout
  no timeout
run

# Listening failed (accept() returned funny error?).  Back off and try again.
listen-error 0
  in BACKOFF for 0 ms (1000 ms backoff)
timeout
  advance 1000 ms

### t=2000 ###
  in BACKOFF for 1000 ms (1000 ms backoff)
run
  should connect
listening
  in LISTENING for 0 ms (1000 ms backoff)

# Connection accepted.
connected
  in ACTIVE for 0 ms (1000 ms backoff)
  created 1000, last received 1000, last connected 2000
  1 successful connections out of 1 attempts, seqno 1
  connected (0 ms), total 0 ms connected
received
  created 1000, last received 2000, last connected 2000
advance 1000

### t=3000 ###
  in ACTIVE for 1000 ms (1000 ms backoff)
  connected (1000 ms), total 1000 ms connected
received
  created 1000, last received 3000, last connected 2000

# Connection times out.
timeout
  advance 5000 ms

### t=8000 ###
  in ACTIVE for 6000 ms (1000 ms backoff)
  connected (6000 ms), total 6000 ms connected
run
  should send probe
  in IDLE for 0 ms (1000 ms backoff)
timeout
  advance 5000 ms

### t=13000 ###
  in IDLE for 5000 ms (1000 ms backoff)
  connected (11000 ms), total 11000 ms connected
run
  should disconnect
disconnected
  in BACKOFF for 0 ms (0 ms backoff)
  1 successful connections out of 1 attempts, seqno 2
  not connected (0 ms), total 11000 ms connected

# Start listening again.
timeout
  advance 0 ms
run
  should connect
listening
  in LISTENING for 0 ms (0 ms backoff)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/reconnect.at:1102"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_292
#AT_START_293
at_fn_group_banner 293 'ofproto.at:20' \
  "ofproto - echo request" "                         " 27
at_xfail=no
(
  $as_echo "293. $at_setup_line: testing $at_desc ..."
  $at_traceon

OVS_RUNDIR=$PWD; export OVS_RUNDIR
   OVS_LOGDIR=$PWD; export OVS_LOGDIR
   trap 'kill `cat ovs-openflowd.pid`' 0

   { set +x
$as_echo "$at_srcdir/ofproto.at:21: ovs-openflowd --detach --pidfile --enable-dummy --log-file dummy@br0 none --datapath-id=fedcba9876543210 "
at_fn_check_prepare_trace "ofproto.at:21"
( $at_check_trace; ovs-openflowd --detach --pidfile --enable-dummy --log-file dummy@br0 none --datapath-id=fedcba9876543210
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:21"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ofproto.at:22: ovs-ofctl -vANY:ANY:WARN probe br0"
at_fn_check_prepare_trace "ofproto.at:22"
( $at_check_trace; ovs-ofctl -vANY:ANY:WARN probe br0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:22"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:23: ovs-appctl -t ovs-openflowd exit"
at_fn_check_prepare_trace "ofproto.at:23"
( $at_check_trace; ovs-appctl -t ovs-openflowd exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:23"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

   trap '' 0
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_293
#AT_START_294
at_fn_group_banner 294 'ofproto.at:26' \
  "ofproto - feature request, config request" "      " 27
at_xfail=no
(
  $as_echo "294. $at_setup_line: testing $at_desc ..."
  $at_traceon

OVS_RUNDIR=$PWD; export OVS_RUNDIR
   OVS_LOGDIR=$PWD; export OVS_LOGDIR
   trap 'kill `cat ovs-openflowd.pid`' 0

   { set +x
$as_echo "$at_srcdir/ofproto.at:27: ovs-openflowd --detach --pidfile --enable-dummy --log-file dummy@br0 none --datapath-id=fedcba9876543210 "
at_fn_check_prepare_trace "ofproto.at:27"
( $at_check_trace; ovs-openflowd --detach --pidfile --enable-dummy --log-file dummy@br0 none --datapath-id=fedcba9876543210
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:27"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ofproto.at:28: ovs-ofctl -vANY:ANY:WARN show br0"
at_fn_check_prepare_trace "ofproto.at:28"
( $at_check_trace; ovs-ofctl -vANY:ANY:WARN show br0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:28"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:29: sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout"
at_fn_check_prepare_trace "ofproto.at:29"
( $at_check_trace; sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "OFPT_FEATURES_REPLY: ver:0x1, dpid:fedcba9876543210
n_tables:2, n_buffers:256
features: capabilities:0x87, actions:0xfff
 LOCAL(br0): addr:aa:55:aa:55:00:00, config: 0x1, state:0x1
OFPT_GET_CONFIG_REPLY: miss_send_len=0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:29"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:36: ovs-appctl -t ovs-openflowd exit"
at_fn_check_prepare_trace "ofproto.at:36"
( $at_check_trace; ovs-appctl -t ovs-openflowd exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:36"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

   trap '' 0
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_294
#AT_START_295
at_fn_group_banner 295 'ofproto.at:39' \
  "ofproto - mod-port" "                             " 27
at_xfail=no
(
  $as_echo "295. $at_setup_line: testing $at_desc ..."
  $at_traceon

OVS_RUNDIR=$PWD; export OVS_RUNDIR
   OVS_LOGDIR=$PWD; export OVS_LOGDIR
   trap 'kill `cat ovs-openflowd.pid`' 0

   { set +x
$as_echo "$at_srcdir/ofproto.at:40: ovs-openflowd --detach --pidfile --enable-dummy --log-file dummy@br0 none --datapath-id=fedcba9876543210 "
at_fn_check_prepare_trace "ofproto.at:40"
( $at_check_trace; ovs-openflowd --detach --pidfile --enable-dummy --log-file dummy@br0 none --datapath-id=fedcba9876543210
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:40"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }


for command_config_state in \
    'up 0 0' \
    'noflood 0x10 0' \
    'down 0x11 0x1' \
    'flood 0x1 0x1'
do
    set $command_config_state
    command=$1 config=$2 state=$3
    { set +x
$as_echo "$at_srcdir/ofproto.at:49: ovs-ofctl -vANY:ANY:WARN mod-port br0 br0 \$command"
at_fn_check_prepare_dynamic "ovs-ofctl -vANY:ANY:WARN mod-port br0 br0 $command" "ofproto.at:49"
( $at_check_trace; ovs-ofctl -vANY:ANY:WARN mod-port br0 br0 $command
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:49"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

    { set +x
$as_echo "$at_srcdir/ofproto.at:50: ovs-ofctl -vANY:ANY:WARN show br0"
at_fn_check_prepare_trace "ofproto.at:50"
( $at_check_trace; ovs-ofctl -vANY:ANY:WARN show br0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:50"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

    { set +x
$as_echo "$at_srcdir/ofproto.at:51: sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout"
at_fn_check_prepare_trace "ofproto.at:51"
( $at_check_trace; sed 's/ (xid=0x[0-9a-fA-F]*)//' stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "OFPT_FEATURES_REPLY: ver:0x1, dpid:fedcba9876543210
n_tables:2, n_buffers:256
features: capabilities:0x87, actions:0xfff
 LOCAL(br0): addr:aa:55:aa:55:00:00, config: $config, state:$state
OFPT_GET_CONFIG_REPLY: miss_send_len=0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:51"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

done
{ set +x
$as_echo "$at_srcdir/ofproto.at:59: ovs-appctl -t ovs-openflowd exit"
at_fn_check_prepare_trace "ofproto.at:59"
( $at_check_trace; ovs-appctl -t ovs-openflowd exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:59"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

   trap '' 0
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_295
#AT_START_296
at_fn_group_banner 296 'ofproto.at:62' \
  "ofproto - basic flow_mod commands" "              " 27
at_xfail=no
(
  $as_echo "296. $at_setup_line: testing $at_desc ..."
  $at_traceon

OVS_RUNDIR=$PWD; export OVS_RUNDIR
   OVS_LOGDIR=$PWD; export OVS_LOGDIR
   trap 'kill `cat ovs-openflowd.pid`' 0

   { set +x
$as_echo "$at_srcdir/ofproto.at:63: ovs-openflowd --detach --pidfile --enable-dummy --log-file dummy@br0 none --datapath-id=fedcba9876543210 "
at_fn_check_prepare_trace "ofproto.at:63"
( $at_check_trace; ovs-openflowd --detach --pidfile --enable-dummy --log-file dummy@br0 none --datapath-id=fedcba9876543210
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:63"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ofproto.at:64: ovs-ofctl dump-flows br0 | sed 's/ (xid=0x[0-9a-fA-F]*)//'"
at_fn_check_prepare_notrace 'a shell pipeline' "ofproto.at:64"
( $at_check_trace; ovs-ofctl dump-flows br0 | sed 's/ (xid=0x[0-9a-fA-F]*)//'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "NXST_FLOW reply:
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:64"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:66: ovs-ofctl add-flow br0 in_port=1,actions=0"
at_fn_check_prepare_trace "ofproto.at:66"
( $at_check_trace; ovs-ofctl add-flow br0 in_port=1,actions=0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:66"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:67: ovs-ofctl add-flow br0 in_port=0,actions=1"
at_fn_check_prepare_trace "ofproto.at:67"
( $at_check_trace; ovs-ofctl add-flow br0 in_port=0,actions=1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:67"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:68: ovs-ofctl dump-flows br0 | sed 's/ (xid=0x[0-9a-fA-F]*)//' | sed 's/\\bduration=[0-9.]*s/duration=?s/'"
at_fn_check_prepare_notrace 'a shell pipeline' "ofproto.at:68"
( $at_check_trace; ovs-ofctl dump-flows br0 | sed 's/ (xid=0x[0-9a-fA-F]*)//' | sed 's/\bduration=[0-9.]*s/duration=?s/'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "NXST_FLOW reply:
 cookie=0x0, duration=?s, table_id=0, n_packets=0, n_bytes=0, in_port=1 actions=output:0
 cookie=0x0, duration=?s, table_id=0, n_packets=0, n_bytes=0, in_port=65534 actions=output:1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:68"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:73: ovs-ofctl del-flows br0"
at_fn_check_prepare_trace "ofproto.at:73"
( $at_check_trace; ovs-ofctl del-flows br0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:73"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:74: ovs-ofctl dump-flows br0 | sed 's/ (xid=0x[0-9a-fA-F]*)//'"
at_fn_check_prepare_notrace 'a shell pipeline' "ofproto.at:74"
( $at_check_trace; ovs-ofctl dump-flows br0 | sed 's/ (xid=0x[0-9a-fA-F]*)//'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "NXST_FLOW reply:
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:74"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ofproto.at:76: ovs-appctl -t ovs-openflowd exit"
at_fn_check_prepare_trace "ofproto.at:76"
( $at_check_trace; ovs-appctl -t ovs-openflowd exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ofproto.at:76"
$at_failed && at_fn_log_failure  \
"ovs-openflowd.log"
$at_traceon; }

   trap '' 0
  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_296
#AT_START_297
at_fn_group_banner 297 'ovsdb-log.at:3' \
  "create empty, reread" "                           " 28
at_xfail=no
(
  $as_echo "297. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:6: test-ovsdb log-io file create"
at_fn_check_prepare_trace "ovsdb-log.at:6"
( $at_check_trace; test-ovsdb log-io file create
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:6"
$at_failed && at_fn_log_failure  \
"log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:10: test-ovsdb log-io file read-only read"
at_fn_check_prepare_trace "ovsdb-log.at:10"
( $at_check_trace; test-ovsdb log-io file read-only read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:10"
$at_failed && at_fn_log_failure  \
"log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:15: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:15"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:15"
$at_failed && at_fn_log_failure  \
"log"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_297
#AT_START_298
at_fn_group_banner 298 'ovsdb-log.at:18' \
  "write one, reread" "                              " 28
at_xfail=no
(
  $as_echo "298. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:21: test-ovsdb log-io file create 'write:[0]'"
at_fn_check_prepare_trace "ovsdb-log.at:21"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:21"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:26: test-ovsdb log-io file read-only read read"
at_fn_check_prepare_trace "ovsdb-log.at:26"
( $at_check_trace; test-ovsdb log-io file read-only read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:26"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:32: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:32"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:32"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_298
#AT_START_299
at_fn_group_banner 299 'ovsdb-log.at:35' \
  "check that create fails if file exists" "         " 28
at_xfail=no
(
  $as_echo "299. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:38: test-ovsdb log-io file create 'write:[1]'"
at_fn_check_prepare_trace "ovsdb-log.at:38"
( $at_check_trace; test-ovsdb log-io file create 'write:[1]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[1] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:38"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:43: test-ovsdb log-io file read-only read"
at_fn_check_prepare_trace "ovsdb-log.at:43"
( $at_check_trace; test-ovsdb log-io file read-only read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [1]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:43"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:48: test-ovsdb -vlockfile:console:emer log-io file create read"
at_fn_check_prepare_trace "ovsdb-log.at:48"
( $at_check_trace; test-ovsdb -vlockfile:console:emer log-io file create read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "test-ovsdb: I/O error: create: file failed (File exists)
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-log.at:48"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:52: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:52"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:52"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_299
#AT_START_300
at_fn_group_banner 300 'ovsdb-log.at:55' \
  "write one, reread" "                              " 28
at_xfail=no
(
  $as_echo "300. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:58: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'"
at_fn_check_prepare_trace "ovsdb-log.at:58"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
file: write:[1] successful
file: write:[2] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:58"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:65: test-ovsdb log-io file read-only read read read read"
at_fn_check_prepare_trace "ovsdb-log.at:65"
( $at_check_trace; test-ovsdb log-io file read-only read read read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [2]
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:65"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:73: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:73"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:73"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_300
#AT_START_301
at_fn_group_banner 301 'ovsdb-log.at:76' \
  "write one, reread, append" "                      " 28
at_xfail=no
(
  $as_echo "301. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:79: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'"
at_fn_check_prepare_trace "ovsdb-log.at:79"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
file: write:[1] successful
file: write:[2] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:79"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:86: test-ovsdb log-io file read/write read read read 'write:[\"append\"]'"
at_fn_check_prepare_trace "ovsdb-log.at:86"
( $at_check_trace; test-ovsdb log-io file read/write read read read 'write:["append"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [2]
file: write:[\"append\"] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:86"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:94: test-ovsdb log-io file read-only read read read read read"
at_fn_check_prepare_trace "ovsdb-log.at:94"
( $at_check_trace; test-ovsdb log-io file read-only read read read read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [2]
file: read: [\"append\"]
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:94"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:103: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:103"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:103"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_301
#AT_START_302
at_fn_group_banner 302 'ovsdb-log.at:106' \
  "write, reread one, overwrite" "                   " 28
at_xfail=no
(
  $as_echo "302. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:109: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'"
at_fn_check_prepare_trace "ovsdb-log.at:109"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
file: write:[1] successful
file: write:[2] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:109"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:116: test-ovsdb log-io file read/write read 'write:[\"more data\"]'"
at_fn_check_prepare_trace "ovsdb-log.at:116"
( $at_check_trace; test-ovsdb log-io file read/write read 'write:["more data"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: write:[\"more data\"] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:116"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:122: test-ovsdb log-io file read-only read read read"
at_fn_check_prepare_trace "ovsdb-log.at:122"
( $at_check_trace; test-ovsdb log-io file read-only read read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [\"more data\"]
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:122"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:129: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:129"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:129"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_302
#AT_START_303
at_fn_group_banner 303 'ovsdb-log.at:132' \
  "write, add corrupted data, read" "                " 28
at_xfail=no
(
  $as_echo "303. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:135: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'"
at_fn_check_prepare_trace "ovsdb-log.at:135"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
file: write:[1] successful
file: write:[2] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:135"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:142: echo 'xxx' >> file"
at_fn_check_prepare_trace "ovsdb-log.at:142"
( $at_check_trace; echo 'xxx' >> file
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:142"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:143: test-ovsdb log-io file read-only read read read read"
at_fn_check_prepare_trace "ovsdb-log.at:143"
( $at_check_trace; test-ovsdb log-io file read-only read read read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [2]
file: read failed: syntax error: file: parse error at offset 174 in header line \"xxx\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:143"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:151: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:151"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:151"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_303
#AT_START_304
at_fn_group_banner 304 'ovsdb-log.at:154' \
  "write, add corrupted data, read, overwrite" "     " 28
at_xfail=no
(
  $as_echo "304. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:157: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'"
at_fn_check_prepare_trace "ovsdb-log.at:157"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
file: write:[1] successful
file: write:[2] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:157"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:164: echo 'xxx' >> file"
at_fn_check_prepare_trace "ovsdb-log.at:164"
( $at_check_trace; echo 'xxx' >> file
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:164"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:165: test-ovsdb log-io file read/write read read read read 'write:[3]'"
at_fn_check_prepare_trace "ovsdb-log.at:165"
( $at_check_trace; test-ovsdb log-io file read/write read read read read 'write:[3]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [2]
file: read failed: syntax error: file: parse error at offset 174 in header line \"xxx\"
file: write:[3] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:165"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:174: test-ovsdb log-io file read-only read read read read read"
at_fn_check_prepare_trace "ovsdb-log.at:174"
( $at_check_trace; test-ovsdb log-io file read-only read read read read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [2]
file: read: [3]
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:174"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:183: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:183"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:183"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_304
#AT_START_305
at_fn_group_banner 305 'ovsdb-log.at:186' \
  "write, corrupt some data, read, overwrite" "      " 28
at_xfail=no
(
  $as_echo "305. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:189: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'"
at_fn_check_prepare_trace "ovsdb-log.at:189"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
file: write:[1] successful
file: write:[2] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:189"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:196: sed 's/\\[2]/[3]/' < file > file.tmp"
at_fn_check_prepare_trace "ovsdb-log.at:196"
( $at_check_trace; sed 's/\[2]/[3]/' < file > file.tmp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:196"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:197: mv file.tmp file"
at_fn_check_prepare_trace "ovsdb-log.at:197"
( $at_check_trace; mv file.tmp file
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:197"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:198: grep -c '\\[3]' file"
at_fn_check_prepare_trace "ovsdb-log.at:198"
( $at_check_trace; grep -c '\[3]' file
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:198"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:200: test-ovsdb log-io file read/write read read read 'write:[\"longer data\"]'"
at_fn_check_prepare_trace "ovsdb-log.at:200"
( $at_check_trace; test-ovsdb log-io file read/write read read read 'write:["longer data"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read failed: syntax error: file: 4 bytes starting at offset 170 have SHA-1 hash 5c031e5c0d3a9338cc127ebe40bb2748b6a67e78 but should have hash 98f55556e7ffd432381b56a19bd485b3e6446442
file: write:[\"longer data\"] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:200"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:208: test-ovsdb log-io file read-only read read read read"
at_fn_check_prepare_trace "ovsdb-log.at:208"
( $at_check_trace; test-ovsdb log-io file read-only read read read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [\"longer data\"]
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:208"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:216: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:216"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:216"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_305
#AT_START_306
at_fn_group_banner 306 'ovsdb-log.at:219' \
  "write, truncate file, read, overwrite" "          " 28
at_xfail=no
(
  $as_echo "306. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:222: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'"
at_fn_check_prepare_trace "ovsdb-log.at:222"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
file: write:[1] successful
file: write:[2] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:222"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:229: sed 's/\\[2]/2/' < file > file.tmp"
at_fn_check_prepare_trace "ovsdb-log.at:229"
( $at_check_trace; sed 's/\[2]/2/' < file > file.tmp
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:229"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:230: mv file.tmp file"
at_fn_check_prepare_trace "ovsdb-log.at:230"
( $at_check_trace; mv file.tmp file
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:230"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:231: grep -c '^2\$' file"
at_fn_check_prepare_dynamic "grep -c '^2$' file" "ovsdb-log.at:231"
( $at_check_trace; grep -c '^2$' file
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:231"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:233: test-ovsdb log-io file read/write read read read 'write:[\"longer data\"]'"
at_fn_check_prepare_trace "ovsdb-log.at:233"
( $at_check_trace; test-ovsdb log-io file read/write read read read 'write:["longer data"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read failed: I/O error: file: error reading 4 bytes starting at offset 170 (unexpected end of file)
file: write:[\"longer data\"] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:233"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:241: test-ovsdb log-io file read-only read read read read"
at_fn_check_prepare_trace "ovsdb-log.at:241"
( $at_check_trace; test-ovsdb log-io file read-only read read read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [\"longer data\"]
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:241"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:249: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:249"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:249"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_306
#AT_START_307
at_fn_group_banner 307 'ovsdb-log.at:252' \
  "write bad JSON, read, overwrite" "                " 28
at_xfail=no
(
  $as_echo "307. $at_setup_line: testing $at_desc ..."
  $at_traceon



{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:255: test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'"
at_fn_check_prepare_trace "ovsdb-log.at:255"
( $at_check_trace; test-ovsdb log-io file create 'write:[0]' 'write:[1]' 'write:[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: write:[0] successful
file: write:[1] successful
file: write:[2] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:255"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:262: printf '%s\\n%s\\n' 'OVSDB JSON 5 d910b02871075d3156ec8675dfc95b7d5d640aa6' 'null' >> file"
at_fn_check_prepare_trace "ovsdb-log.at:262"
( $at_check_trace; printf '%s\n%s\n' 'OVSDB JSON 5 d910b02871075d3156ec8675dfc95b7d5d640aa6' 'null' >> file
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:262"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:263: test-ovsdb log-io file read/write read read read read 'write:[\"replacement data\"]'"
at_fn_check_prepare_trace "ovsdb-log.at:263"
( $at_check_trace; test-ovsdb log-io file read/write read read read read 'write:["replacement data"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [2]
file: read failed: syntax error: file: 5 bytes starting at offset 228 are not valid JSON (line 1, column 0, byte 5: syntax error at beginning of input)
file: write:[\"replacement data\"] successful
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:263"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:272: test-ovsdb log-io file read-only read read read read read"
at_fn_check_prepare_trace "ovsdb-log.at:272"
( $at_check_trace; test-ovsdb log-io file read-only read read read read read
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "file: open successful
file: read: [0]
file: read: [1]
file: read: [2]
file: read: [\"replacement data\"]
file: read: end of log
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:272"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-log.at:281: test -f .file.~lock~"
at_fn_check_prepare_trace "ovsdb-log.at:281"
( $at_check_trace; test -f .file.~lock~
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-log.at:281"
$at_failed && at_fn_log_failure  \
"file"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_307
#AT_START_308
at_fn_group_banner 308 'ovsdb-types.at:3' \
  "integer - C" "                                    " 29
at_xfail=no
(
  $as_echo "308. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:3: test-ovsdb parse-atomic-type '[\"integer\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:3"
( $at_check_trace; test-ovsdb parse-atomic-type '["integer"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"integer\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_308
#AT_START_309
at_fn_group_banner 309 'ovsdb-types.at:3' \
  "integer - Python" "                               " 29
at_xfail=no
(
  $as_echo "309. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:3" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:3"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:3: \$PYTHON \$srcdir/test-ovsdb.py parse-atomic-type '[\"integer\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atomic-type '[\"integer\"]' " "ovsdb-types.at:3"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["integer"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"integer\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_309
#AT_START_310
at_fn_group_banner 310 'ovsdb-types.at:5' \
  "real - C" "                                       " 29
at_xfail=no
(
  $as_echo "310. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:5: test-ovsdb parse-atomic-type '[\"real\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:5"
( $at_check_trace; test-ovsdb parse-atomic-type '["real"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"real\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_310
#AT_START_311
at_fn_group_banner 311 'ovsdb-types.at:5' \
  "real - Python" "                                  " 29
at_xfail=no
(
  $as_echo "311. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:5" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:5"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:5: \$PYTHON \$srcdir/test-ovsdb.py parse-atomic-type '[\"real\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atomic-type '[\"real\"]' " "ovsdb-types.at:5"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["real"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"real\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_311
#AT_START_312
at_fn_group_banner 312 'ovsdb-types.at:7' \
  "boolean - C" "                                    " 29
at_xfail=no
(
  $as_echo "312. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:7: test-ovsdb parse-atomic-type '[\"boolean\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:7"
( $at_check_trace; test-ovsdb parse-atomic-type '["boolean"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"boolean\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:7"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_312
#AT_START_313
at_fn_group_banner 313 'ovsdb-types.at:7' \
  "boolean - Python" "                               " 29
at_xfail=no
(
  $as_echo "313. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:7" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:7"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:7: \$PYTHON \$srcdir/test-ovsdb.py parse-atomic-type '[\"boolean\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atomic-type '[\"boolean\"]' " "ovsdb-types.at:7"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["boolean"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"boolean\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:7"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_313
#AT_START_314
at_fn_group_banner 314 'ovsdb-types.at:9' \
  "string - C" "                                     " 29
at_xfail=no
(
  $as_echo "314. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:9: test-ovsdb parse-atomic-type '[\"string\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:9"
( $at_check_trace; test-ovsdb parse-atomic-type '["string"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"string\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:9"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_314
#AT_START_315
at_fn_group_banner 315 'ovsdb-types.at:9' \
  "string - Python" "                                " 29
at_xfail=no
(
  $as_echo "315. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:9" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:9"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:9: \$PYTHON \$srcdir/test-ovsdb.py parse-atomic-type '[\"string\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atomic-type '[\"string\"]' " "ovsdb-types.at:9"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["string"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"string\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:9"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_315
#AT_START_316
at_fn_group_banner 316 'ovsdb-types.at:11' \
  "uuid - C" "                                       " 29
at_xfail=no
(
  $as_echo "316. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:11: test-ovsdb parse-atomic-type '[\"uuid\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:11"
( $at_check_trace; test-ovsdb parse-atomic-type '["uuid"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"uuid\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_316
#AT_START_317
at_fn_group_banner 317 'ovsdb-types.at:11' \
  "uuid - Python" "                                  " 29
at_xfail=no
(
  $as_echo "317. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:11" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:11"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:11: \$PYTHON \$srcdir/test-ovsdb.py parse-atomic-type '[\"uuid\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atomic-type '[\"uuid\"]' " "ovsdb-types.at:11"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["uuid"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"uuid\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_317
#AT_START_318
at_fn_group_banner 318 'ovsdb-types.at:13' \
  "void is not a valid atomic-type - C" "            " 29
at_xfail=no
(
  $as_echo "318. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:13: test-ovsdb parse-atomic-type '[\"void\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:13"
( $at_check_trace; test-ovsdb parse-atomic-type '["void"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:13"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:13: if grep -F -e \"\\\"void\\\" is not an atomic-type\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:13"
( $at_check_trace; if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:13"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_318
#AT_START_319
at_fn_group_banner 319 'ovsdb-types.at:13' \
  "void is not a valid atomic-type - Python" "       " 29
at_xfail=no
(
  $as_echo "319. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:13" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:13"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:13: \$PYTHON \$srcdir/test-ovsdb.py parse-atomic-type '[\"void\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atomic-type '[\"void\"]' " "ovsdb-types.at:13"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atomic-type '["void"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:13"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:13: if grep -F -e \"\\\"void\\\" is not an atomic-type\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:13"
( $at_check_trace; if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:13"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_319
#AT_START_320
at_fn_group_banner 320 'ovsdb-types.at:18' \
  "integer enum - C" "                               " 30
at_xfail=no
(
  $as_echo "320. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:18: test-ovsdb parse-base-type '{\"type\": \"integer\", \"enum\": [\"set\", [-1, 4, 5]]}' "
at_fn_check_prepare_trace "ovsdb-types.at:18"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "integer", "enum": ["set", [-1, 4, 5]]}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":[\"set\",[-1,4,5]],\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_320
#AT_START_321
at_fn_group_banner 321 'ovsdb-types.at:18' \
  "integer enum - Python" "                          " 30
at_xfail=no
(
  $as_echo "321. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:18" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:18"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:18: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"enum\": [\"set\", [-1, 4, 5]]}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"enum\": [\"set\", [-1, 4, 5]]}' " "ovsdb-types.at:18"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "enum": ["set", [-1, 4, 5]]}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":[\"set\",[-1,4,5]],\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_321
#AT_START_322
at_fn_group_banner 322 'ovsdb-types.at:21' \
  "integer >= 5 - C" "                               " 30
at_xfail=no
(
  $as_echo "322. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:21: test-ovsdb parse-base-type '{\"type\": \"integer\", \"minInteger\": 5}' "
at_fn_check_prepare_trace "ovsdb-types.at:21"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "integer", "minInteger": 5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"minInteger\":5,\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_322
#AT_START_323
at_fn_group_banner 323 'ovsdb-types.at:21' \
  "integer >= 5 - Python" "                          " 30
at_xfail=no
(
  $as_echo "323. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:21" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:21"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:21: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"minInteger\": 5}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"minInteger\": 5}' " "ovsdb-types.at:21"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "minInteger": 5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"minInteger\":5,\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_323
#AT_START_324
at_fn_group_banner 324 'ovsdb-types.at:24' \
  "integer <= 7 - C" "                               " 30
at_xfail=no
(
  $as_echo "324. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:24: test-ovsdb parse-base-type '{\"type\": \"integer\", \"maxInteger\": 7}' "
at_fn_check_prepare_trace "ovsdb-types.at:24"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "integer", "maxInteger": 7}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxInteger\":7,\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_324
#AT_START_325
at_fn_group_banner 325 'ovsdb-types.at:24' \
  "integer <= 7 - Python" "                          " 30
at_xfail=no
(
  $as_echo "325. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:24" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:24"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:24: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"maxInteger\": 7}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"maxInteger\": 7}' " "ovsdb-types.at:24"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "maxInteger": 7}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxInteger\":7,\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_325
#AT_START_326
at_fn_group_banner 326 'ovsdb-types.at:27' \
  "integer between -5 and 10 - C" "                  " 30
at_xfail=no
(
  $as_echo "326. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:27: test-ovsdb parse-base-type '{\"type\": \"integer\", \"minInteger\": -5, \"maxInteger\": 10}'"
at_fn_check_prepare_trace "ovsdb-types.at:27"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "integer", "minInteger": -5, "maxInteger": 10}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxInteger\":10,\"minInteger\":-5,\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:27"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_326
#AT_START_327
at_fn_group_banner 327 'ovsdb-types.at:27' \
  "integer between -5 and 10 - Python" "             " 30
at_xfail=no
(
  $as_echo "327. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:27" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:27"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:27: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"minInteger\": -5, \"maxInteger\": 10}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"minInteger\": -5, \"maxInteger\": 10}'" "ovsdb-types.at:27"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "minInteger": -5, "maxInteger": 10}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxInteger\":10,\"minInteger\":-5,\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:27"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_327
#AT_START_328
at_fn_group_banner 328 'ovsdb-types.at:30' \
  "integer max may not be less than min - C" "       " 30
at_xfail=no
(
  $as_echo "328. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:30: test-ovsdb parse-base-type '{\"type\": \"integer\", \"minInteger\": 5, \"maxInteger\": 3}'"
at_fn_check_prepare_trace "ovsdb-types.at:30"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "integer", "minInteger": 5, "maxInteger": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:30: if grep -F -e \"minInteger exceeds maxInteger\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:30"
( $at_check_trace; if grep -F -e "minInteger exceeds maxInteger" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_328
#AT_START_329
at_fn_group_banner 329 'ovsdb-types.at:30' \
  "integer max may not be less than min - Python" "  " 30
at_xfail=no
(
  $as_echo "329. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:30" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:30"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:30: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"minInteger\": 5, \"maxInteger\": 3}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"integer\", \"minInteger\": 5, \"maxInteger\": 3}'" "ovsdb-types.at:30"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "integer", "minInteger": 5, "maxInteger": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:30: if grep -F -e \"minInteger exceeds maxInteger\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:30"
( $at_check_trace; if grep -F -e "minInteger exceeds maxInteger" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_329
#AT_START_330
at_fn_group_banner 330 'ovsdb-types.at:34' \
  "real enum - C" "                                  " 30
at_xfail=no
(
  $as_echo "330. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:34: test-ovsdb parse-base-type '{\"type\": \"real\", \"enum\": [\"set\", [1.5, 0, 2.75]]}' "
at_fn_check_prepare_trace "ovsdb-types.at:34"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "real", "enum": ["set", [1.5, 0, 2.75]]}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":[\"set\",[0,1.5,2.75]],\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:34"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_330
#AT_START_331
at_fn_group_banner 331 'ovsdb-types.at:34' \
  "real enum - Python" "                             " 30
at_xfail=no
(
  $as_echo "331. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:34" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:34"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:34: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"enum\": [\"set\", [1.5, 0, 2.75]]}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"enum\": [\"set\", [1.5, 0, 2.75]]}' " "ovsdb-types.at:34"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "enum": ["set", [1.5, 0, 2.75]]}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":[\"set\",[0,1.5,2.75]],\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:34"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_331
#AT_START_332
at_fn_group_banner 332 'ovsdb-types.at:37' \
  "real >= -1.5 - C" "                               " 30
at_xfail=no
(
  $as_echo "332. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:37: test-ovsdb parse-base-type '{\"type\": \"real\", \"minReal\": -1.5}'"
at_fn_check_prepare_trace "ovsdb-types.at:37"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "real", "minReal": -1.5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"minReal\":-1.5,\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:37"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_332
#AT_START_333
at_fn_group_banner 333 'ovsdb-types.at:37' \
  "real >= -1.5 - Python" "                          " 30
at_xfail=no
(
  $as_echo "333. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:37" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:37"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:37: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"minReal\": -1.5}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"minReal\": -1.5}'" "ovsdb-types.at:37"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "minReal": -1.5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"minReal\":-1.5,\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:37"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_333
#AT_START_334
at_fn_group_banner 334 'ovsdb-types.at:40' \
  "real <= 1e5 - C" "                                " 30
at_xfail=no
(
  $as_echo "334. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:40: test-ovsdb parse-base-type '{\"type\": \"real\", \"maxReal\": 1e5}'"
at_fn_check_prepare_trace "ovsdb-types.at:40"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "real", "maxReal": 1e5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxReal\":100000,\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:40"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_334
#AT_START_335
at_fn_group_banner 335 'ovsdb-types.at:40' \
  "real <= 1e5 - Python" "                           " 30
at_xfail=no
(
  $as_echo "335. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:40" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:40"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:40: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"maxReal\": 1e5}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"maxReal\": 1e5}'" "ovsdb-types.at:40"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "maxReal": 1e5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxReal\":100000,\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:40"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_335
#AT_START_336
at_fn_group_banner 336 'ovsdb-types.at:43' \
  "real between -2.5 and 3.75 - C" "                 " 30
at_xfail=no
(
  $as_echo "336. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:43: test-ovsdb parse-base-type '{\"type\": \"real\", \"minReal\": -2.5, \"maxReal\": 3.75}'"
at_fn_check_prepare_trace "ovsdb-types.at:43"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "real", "minReal": -2.5, "maxReal": 3.75}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxReal\":3.75,\"minReal\":-2.5,\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:43"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_336
#AT_START_337
at_fn_group_banner 337 'ovsdb-types.at:43' \
  "real between -2.5 and 3.75 - Python" "            " 30
at_xfail=no
(
  $as_echo "337. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:43" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:43"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:43: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"minReal\": -2.5, \"maxReal\": 3.75}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"minReal\": -2.5, \"maxReal\": 3.75}'" "ovsdb-types.at:43"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "minReal": -2.5, "maxReal": 3.75}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxReal\":3.75,\"minReal\":-2.5,\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:43"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_337
#AT_START_338
at_fn_group_banner 338 'ovsdb-types.at:46' \
  "real max may not be less than min - C" "          " 30
at_xfail=no
(
  $as_echo "338. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:46: test-ovsdb parse-base-type '{\"type\": \"real\", \"minReal\": 555, \"maxReal\": 444}'"
at_fn_check_prepare_trace "ovsdb-types.at:46"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "real", "minReal": 555, "maxReal": 444}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:46"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:46: if grep -F -e \"minReal exceeds maxReal\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:46"
( $at_check_trace; if grep -F -e "minReal exceeds maxReal" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:46"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_338
#AT_START_339
at_fn_group_banner 339 'ovsdb-types.at:46' \
  "real max may not be less than min - Python" "     " 30
at_xfail=no
(
  $as_echo "339. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:46" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:46"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:46: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"minReal\": 555, \"maxReal\": 444}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"real\", \"minReal\": 555, \"maxReal\": 444}'" "ovsdb-types.at:46"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "real", "minReal": 555, "maxReal": 444}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:46"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:46: if grep -F -e \"minReal exceeds maxReal\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:46"
( $at_check_trace; if grep -F -e "minReal exceeds maxReal" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:46"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_339
#AT_START_340
at_fn_group_banner 340 'ovsdb-types.at:50' \
  "boolean - C" "                                    " 30
at_xfail=no
(
  $as_echo "340. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:50: test-ovsdb parse-base-type '[{\"type\": \"boolean\"}]' "
at_fn_check_prepare_trace "ovsdb-types.at:50"
( $at_check_trace; test-ovsdb parse-base-type '[{"type": "boolean"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"boolean\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:50"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_340
#AT_START_341
at_fn_group_banner 341 'ovsdb-types.at:50' \
  "boolean - Python" "                               " 30
at_xfail=no
(
  $as_echo "341. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:50" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:50"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:50: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '[{\"type\": \"boolean\"}]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '[{\"type\": \"boolean\"}]' " "ovsdb-types.at:50"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '[{"type": "boolean"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"boolean\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:50"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_341
#AT_START_342
at_fn_group_banner 342 'ovsdb-types.at:52' \
  "boolean enum - C" "                               " 30
at_xfail=no
(
  $as_echo "342. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:52: test-ovsdb parse-base-type '{\"type\": \"boolean\", \"enum\": true}' "
at_fn_check_prepare_trace "ovsdb-types.at:52"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "boolean", "enum": true}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":true,\"type\":\"boolean\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:52"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_342
#AT_START_343
at_fn_group_banner 343 'ovsdb-types.at:52' \
  "boolean enum - Python" "                          " 30
at_xfail=no
(
  $as_echo "343. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:52" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:52"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:52: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"boolean\", \"enum\": true}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"boolean\", \"enum\": true}' " "ovsdb-types.at:52"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "boolean", "enum": true}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":true,\"type\":\"boolean\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:52"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_343
#AT_START_344
at_fn_group_banner 344 'ovsdb-types.at:56' \
  "string enum - C" "                                " 30
at_xfail=no
(
  $as_echo "344. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:56: test-ovsdb parse-base-type '{\"type\": \"string\", \"enum\": [\"set\", [\"def\", \"abc\"]]}'"
at_fn_check_prepare_trace "ovsdb-types.at:56"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "string", "enum": ["set", ["def", "abc"]]}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":[\"set\",[\"abc\",\"def\"]],\"type\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:56"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_344
#AT_START_345
at_fn_group_banner 345 'ovsdb-types.at:56' \
  "string enum - Python" "                           " 30
at_xfail=no
(
  $as_echo "345. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:56" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:56"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:56: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"enum\": [\"set\", [\"def\", \"abc\"]]}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"enum\": [\"set\", [\"def\", \"abc\"]]}'" "ovsdb-types.at:56"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "enum": ["set", ["def", "abc"]]}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":[\"set\",[\"abc\",\"def\"]],\"type\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:56"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_345
#AT_START_346
at_fn_group_banner 346 'ovsdb-types.at:59' \
  "string minLength - C" "                           " 30
at_xfail=no
(
  $as_echo "346. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:59: test-ovsdb parse-base-type '{\"type\": \"string\", \"minLength\": 1}'"
at_fn_check_prepare_trace "ovsdb-types.at:59"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "string", "minLength": 1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"minLength\":1,\"type\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:59"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_346
#AT_START_347
at_fn_group_banner 347 'ovsdb-types.at:59' \
  "string minLength - Python" "                      " 30
at_xfail=no
(
  $as_echo "347. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:59" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:59"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:59: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"minLength\": 1}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"minLength\": 1}'" "ovsdb-types.at:59"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "minLength": 1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"minLength\":1,\"type\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:59"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_347
#AT_START_348
at_fn_group_banner 348 'ovsdb-types.at:62' \
  "string maxLength - C" "                           " 30
at_xfail=no
(
  $as_echo "348. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:62: test-ovsdb parse-base-type '{\"type\": \"string\", \"maxLength\": 5}'"
at_fn_check_prepare_trace "ovsdb-types.at:62"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "string", "maxLength": 5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxLength\":5,\"type\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:62"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_348
#AT_START_349
at_fn_group_banner 349 'ovsdb-types.at:62' \
  "string maxLength - Python" "                      " 30
at_xfail=no
(
  $as_echo "349. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:62" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:62"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:62: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"maxLength\": 5}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"maxLength\": 5}'" "ovsdb-types.at:62"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "maxLength": 5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxLength\":5,\"type\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:62"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_349
#AT_START_350
at_fn_group_banner 350 'ovsdb-types.at:65' \
  "string minLength and maxLength - C" "             " 30
at_xfail=no
(
  $as_echo "350. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:65: test-ovsdb parse-base-type '{\"type\": \"string\", \"minLength\": 1, \"maxLength\": 5}'"
at_fn_check_prepare_trace "ovsdb-types.at:65"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "string", "minLength": 1, "maxLength": 5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxLength\":5,\"minLength\":1,\"type\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:65"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_350
#AT_START_351
at_fn_group_banner 351 'ovsdb-types.at:65' \
  "string minLength and maxLength - Python" "        " 30
at_xfail=no
(
  $as_echo "351. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:65" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:65"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:65: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"minLength\": 1, \"maxLength\": 5}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"minLength\": 1, \"maxLength\": 5}'" "ovsdb-types.at:65"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "minLength": 1, "maxLength": 5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"maxLength\":5,\"minLength\":1,\"type\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:65"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_351
#AT_START_352
at_fn_group_banner 352 'ovsdb-types.at:68' \
  "maxLength must not be less than minLength - C" "  " 30
at_xfail=no
(
  $as_echo "352. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:68: test-ovsdb parse-base-type '{\"type\": \"string\", \"minLength\": 5, \"maxLength\": 3}'"
at_fn_check_prepare_trace "ovsdb-types.at:68"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "string", "minLength": 5, "maxLength": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:68"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:68: if grep -F -e \"minLength exceeds maxLength\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:68"
( $at_check_trace; if grep -F -e "minLength exceeds maxLength" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:68"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_352
#AT_START_353
at_fn_group_banner 353 'ovsdb-types.at:68' \
  "maxLength must not be less than minLength - Python" "" 30
at_xfail=no
(
  $as_echo "353. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:68" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:68"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:68: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"minLength\": 5, \"maxLength\": 3}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"minLength\": 5, \"maxLength\": 3}'" "ovsdb-types.at:68"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "minLength": 5, "maxLength": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:68"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:68: if grep -F -e \"minLength exceeds maxLength\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:68"
( $at_check_trace; if grep -F -e "minLength exceeds maxLength" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:68"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_353
#AT_START_354
at_fn_group_banner 354 'ovsdb-types.at:71' \
  "maxLength must not be negative - C" "             " 30
at_xfail=no
(
  $as_echo "354. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:71: test-ovsdb parse-base-type '{\"type\": \"string\", \"maxLength\": -1}'"
at_fn_check_prepare_trace "ovsdb-types.at:71"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "string", "maxLength": -1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:71"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:71: if grep -F -e \"maxLength out of valid range 0 to 4294967295\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:71"
( $at_check_trace; if grep -F -e "maxLength out of valid range 0 to 4294967295" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:71"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_354
#AT_START_355
at_fn_group_banner 355 'ovsdb-types.at:71' \
  "maxLength must not be negative - Python" "        " 30
at_xfail=no
(
  $as_echo "355. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:71" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:71"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:71: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"maxLength\": -1}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"string\", \"maxLength\": -1}'" "ovsdb-types.at:71"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "string", "maxLength": -1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:71"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:71: if grep -F -e \"maxLength out of valid range 0 to 4294967295\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:71"
( $at_check_trace; if grep -F -e "maxLength out of valid range 0 to 4294967295" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:71"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_355
#AT_START_356
at_fn_group_banner 356 'ovsdb-types.at:75' \
  "uuid enum - C" "                                  " 30
at_xfail=no
(
  $as_echo "356. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:75: test-ovsdb parse-base-type '{\"type\": \"uuid\", \"enum\": [\"uuid\", \"36bf19c0-ad9d-4232-bb85-b3d73dfe2123\"]}' "
at_fn_check_prepare_trace "ovsdb-types.at:75"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "uuid", "enum": ["uuid", "36bf19c0-ad9d-4232-bb85-b3d73dfe2123"]}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":[\"uuid\",\"36bf19c0-ad9d-4232-bb85-b3d73dfe2123\"],\"type\":\"uuid\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:75"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_356
#AT_START_357
at_fn_group_banner 357 'ovsdb-types.at:75' \
  "uuid enum - Python" "                             " 30
at_xfail=no
(
  $as_echo "357. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:75" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:75"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:75: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"uuid\", \"enum\": [\"uuid\", \"36bf19c0-ad9d-4232-bb85-b3d73dfe2123\"]}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"uuid\", \"enum\": [\"uuid\", \"36bf19c0-ad9d-4232-bb85-b3d73dfe2123\"]}' " "ovsdb-types.at:75"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "uuid", "enum": ["uuid", "36bf19c0-ad9d-4232-bb85-b3d73dfe2123"]}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"enum\":[\"uuid\",\"36bf19c0-ad9d-4232-bb85-b3d73dfe2123\"],\"type\":\"uuid\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:75"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_357
#AT_START_358
at_fn_group_banner 358 'ovsdb-types.at:78' \
  "uuid refTable - C" "                              " 30
at_xfail=no
(
  $as_echo "358. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:78: test-ovsdb parse-base-type '{\"type\": \"uuid\", \"refTable\": \"myTable\"}' "
at_fn_check_prepare_trace "ovsdb-types.at:78"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "uuid", "refTable": "myTable"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"refTable\":\"myTable\",\"type\":\"uuid\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:78"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_358
#AT_START_359
at_fn_group_banner 359 'ovsdb-types.at:78' \
  "uuid refTable - Python" "                         " 30
at_xfail=no
(
  $as_echo "359. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:78" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:78"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:78: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"uuid\", \"refTable\": \"myTable\"}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"uuid\", \"refTable\": \"myTable\"}' " "ovsdb-types.at:78"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "uuid", "refTable": "myTable"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"refTable\":\"myTable\",\"type\":\"uuid\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:78"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_359
#AT_START_360
at_fn_group_banner 360 'ovsdb-types.at:81' \
  "uuid refTable must be valid id - C" "             " 30
at_xfail=no
(
  $as_echo "360. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:81: test-ovsdb parse-base-type '{\"type\": \"uuid\", \"refTable\": \"a-b-c\"}' "
at_fn_check_prepare_trace "ovsdb-types.at:81"
( $at_check_trace; test-ovsdb parse-base-type '{"type": "uuid", "refTable": "a-b-c"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:81"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:81: if grep -F -e \"Type mismatch for member 'refTable'\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:81"
( $at_check_trace; if grep -F -e "Type mismatch for member 'refTable'" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:81"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_360
#AT_START_361
at_fn_group_banner 361 'ovsdb-types.at:81' \
  "uuid refTable must be valid id - Python" "        " 30
at_xfail=no
(
  $as_echo "361. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:81" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:81"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:81: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{\"type\": \"uuid\", \"refTable\": \"a-b-c\"}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{\"type\": \"uuid\", \"refTable\": \"a-b-c\"}' " "ovsdb-types.at:81"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{"type": "uuid", "refTable": "a-b-c"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:81"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:81: if grep -F -e \"Type mismatch for member 'refTable'\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:81"
( $at_check_trace; if grep -F -e "Type mismatch for member 'refTable'" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:81"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_361
#AT_START_362
at_fn_group_banner 362 'ovsdb-types.at:85' \
  "void is not a valid base-type - C" "              " 30
at_xfail=no
(
  $as_echo "362. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:85: test-ovsdb parse-base-type '[\"void\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:85"
( $at_check_trace; test-ovsdb parse-base-type '["void"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:85"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:85: if grep -F -e \"\\\"void\\\" is not an atomic-type\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:85"
( $at_check_trace; if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:85"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_362
#AT_START_363
at_fn_group_banner 363 'ovsdb-types.at:85' \
  "void is not a valid base-type - Python" "         " 30
at_xfail=no
(
  $as_echo "363. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:85" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:85"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:85: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '[\"void\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '[\"void\"]' " "ovsdb-types.at:85"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '["void"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:85"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:85: if grep -F -e \"\\\"void\\\" is not an atomic-type\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:85"
( $at_check_trace; if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:85"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_363
#AT_START_364
at_fn_group_banner 364 'ovsdb-types.at:87' \
  "\"type\" member must be present - C" "              " 30
at_xfail=no
(
  $as_echo "364. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:87: test-ovsdb parse-base-type '{}'"
at_fn_check_prepare_trace "ovsdb-types.at:87"
( $at_check_trace; test-ovsdb parse-base-type '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:87"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:87: if grep -F -e \"Parsing ovsdb type failed: Required 'type' member is missing.\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:87"
( $at_check_trace; if grep -F -e "Parsing ovsdb type failed: Required 'type' member is missing." stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:87"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_364
#AT_START_365
at_fn_group_banner 365 'ovsdb-types.at:87' \
  "\"type\" member must be present - Python" "         " 30
at_xfail=no
(
  $as_echo "365. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:87" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:87"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:87: \$PYTHON \$srcdir/test-ovsdb.py parse-base-type '{}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-base-type '{}'" "ovsdb-types.at:87"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-base-type '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:87"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:87: if grep -F -e \"Parsing ovsdb type failed: Required 'type' member is missing.\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:87"
( $at_check_trace; if grep -F -e "Parsing ovsdb type failed: Required 'type' member is missing." stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:87"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_365
#AT_START_366
at_fn_group_banner 366 'ovsdb-types.at:92' \
  "simple integer - C" "                             " 31
at_xfail=no
(
  $as_echo "366. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:92: test-ovsdb parse-type '[\"integer\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:92"
( $at_check_trace; test-ovsdb parse-type '["integer"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"integer\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:92"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_366
#AT_START_367
at_fn_group_banner 367 'ovsdb-types.at:92' \
  "simple integer - Python" "                        " 31
at_xfail=no
(
  $as_echo "367. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:92" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:92"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:92: \$PYTHON \$srcdir/test-ovsdb.py parse-type '[\"integer\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '[\"integer\"]' " "ovsdb-types.at:92"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '["integer"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"integer\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:92"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_367
#AT_START_368
at_fn_group_banner 368 'ovsdb-types.at:94' \
  "simple real - C" "                                " 31
at_xfail=no
(
  $as_echo "368. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:94: test-ovsdb parse-type '[\"real\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:94"
( $at_check_trace; test-ovsdb parse-type '["real"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"real\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:94"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_368
#AT_START_369
at_fn_group_banner 369 'ovsdb-types.at:94' \
  "simple real - Python" "                           " 31
at_xfail=no
(
  $as_echo "369. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:94" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:94"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:94: \$PYTHON \$srcdir/test-ovsdb.py parse-type '[\"real\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '[\"real\"]' " "ovsdb-types.at:94"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '["real"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"real\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:94"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_369
#AT_START_370
at_fn_group_banner 370 'ovsdb-types.at:96' \
  "simple boolean - C" "                             " 31
at_xfail=no
(
  $as_echo "370. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:96: test-ovsdb parse-type '[\"boolean\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:96"
( $at_check_trace; test-ovsdb parse-type '["boolean"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"boolean\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:96"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_370
#AT_START_371
at_fn_group_banner 371 'ovsdb-types.at:96' \
  "simple boolean - Python" "                        " 31
at_xfail=no
(
  $as_echo "371. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:96" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:96"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:96: \$PYTHON \$srcdir/test-ovsdb.py parse-type '[\"boolean\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '[\"boolean\"]' " "ovsdb-types.at:96"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '["boolean"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"boolean\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:96"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_371
#AT_START_372
at_fn_group_banner 372 'ovsdb-types.at:98' \
  "simple string - C" "                              " 31
at_xfail=no
(
  $as_echo "372. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:98: test-ovsdb parse-type '[\"string\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:98"
( $at_check_trace; test-ovsdb parse-type '["string"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"string\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:98"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_372
#AT_START_373
at_fn_group_banner 373 'ovsdb-types.at:98' \
  "simple string - Python" "                         " 31
at_xfail=no
(
  $as_echo "373. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:98" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:98"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:98: \$PYTHON \$srcdir/test-ovsdb.py parse-type '[\"string\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '[\"string\"]' " "ovsdb-types.at:98"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '["string"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"string\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:98"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_373
#AT_START_374
at_fn_group_banner 374 'ovsdb-types.at:100' \
  "simple uuid - C" "                                " 31
at_xfail=no
(
  $as_echo "374. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:100: test-ovsdb parse-type '[\"uuid\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:100"
( $at_check_trace; test-ovsdb parse-type '["uuid"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"uuid\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:100"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_374
#AT_START_375
at_fn_group_banner 375 'ovsdb-types.at:100' \
  "simple uuid - Python" "                           " 31
at_xfail=no
(
  $as_echo "375. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:100" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:100"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:100: \$PYTHON \$srcdir/test-ovsdb.py parse-type '[\"uuid\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '[\"uuid\"]' " "ovsdb-types.at:100"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '["uuid"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"uuid\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:100"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_375
#AT_START_376
at_fn_group_banner 376 'ovsdb-types.at:102' \
  "integer in object - C" "                          " 31
at_xfail=no
(
  $as_echo "376. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:102: test-ovsdb parse-type '{\"key\": \"integer\"}' "
at_fn_check_prepare_trace "ovsdb-types.at:102"
( $at_check_trace; test-ovsdb parse-type '{"key": "integer"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"integer\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:102"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_376
#AT_START_377
at_fn_group_banner 377 'ovsdb-types.at:102' \
  "integer in object - Python" "                     " 31
at_xfail=no
(
  $as_echo "377. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:102" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:102"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:102: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"integer\"}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"integer\"}' " "ovsdb-types.at:102"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "integer"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"integer\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:102"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_377
#AT_START_378
at_fn_group_banner 378 'ovsdb-types.at:104' \
  "real in object with explicit min and max - C" "   " 31
at_xfail=no
(
  $as_echo "378. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:104: test-ovsdb parse-type '{\"key\": \"real\", \"min\": 1, \"max\": 1}' "
at_fn_check_prepare_trace "ovsdb-types.at:104"
( $at_check_trace; test-ovsdb parse-type '{"key": "real", "min": 1, "max": 1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"real\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:104"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_378
#AT_START_379
at_fn_group_banner 379 'ovsdb-types.at:104' \
  "real in object with explicit min and max - Python" "" 31
at_xfail=no
(
  $as_echo "379. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:104" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:104"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:104: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": 1, \"max\": 1}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": 1, \"max\": 1}' " "ovsdb-types.at:104"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": 1, "max": 1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"real\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:104"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_379
#AT_START_380
at_fn_group_banner 380 'ovsdb-types.at:107' \
  "key type is required - C" "                       " 31
at_xfail=no
(
  $as_echo "380. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:107: test-ovsdb parse-type '{}' "
at_fn_check_prepare_trace "ovsdb-types.at:107"
( $at_check_trace; test-ovsdb parse-type '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:107"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:107: if grep -F -e \"Required 'key' member is missing.\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:107"
( $at_check_trace; if grep -F -e "Required 'key' member is missing." stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:107"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_380
#AT_START_381
at_fn_group_banner 381 'ovsdb-types.at:107' \
  "key type is required - Python" "                  " 31
at_xfail=no
(
  $as_echo "381. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:107" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:107"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:107: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{}' " "ovsdb-types.at:107"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:107"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:107: if grep -F -e \"Required 'key' member is missing.\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:107"
( $at_check_trace; if grep -F -e "Required 'key' member is missing." stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:107"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_381
#AT_START_382
at_fn_group_banner 382 'ovsdb-types.at:109' \
  "void is not a valid type - C" "                   " 31
at_xfail=no
(
  $as_echo "382. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:109: test-ovsdb parse-type '[\"void\"]' "
at_fn_check_prepare_trace "ovsdb-types.at:109"
( $at_check_trace; test-ovsdb parse-type '["void"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:109"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:109: if grep -F -e \"\\\"void\\\" is not an atomic-type\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:109"
( $at_check_trace; if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:109"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_382
#AT_START_383
at_fn_group_banner 383 'ovsdb-types.at:109' \
  "void is not a valid type - Python" "              " 31
at_xfail=no
(
  $as_echo "383. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:109" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:109"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:109: \$PYTHON \$srcdir/test-ovsdb.py parse-type '[\"void\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '[\"void\"]' " "ovsdb-types.at:109"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '["void"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:109"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:109: if grep -F -e \"\\\"void\\\" is not an atomic-type\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:109"
( $at_check_trace; if grep -F -e "\"void\" is not an atomic-type" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:109"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_383
#AT_START_384
at_fn_group_banner 384 'ovsdb-types.at:114' \
  "optional boolean - C" "                           " 32
at_xfail=no
(
  $as_echo "384. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:114: test-ovsdb parse-type '{\"key\": \"boolean\", \"min\": 0}' "
at_fn_check_prepare_trace "ovsdb-types.at:114"
( $at_check_trace; test-ovsdb parse-type '{"key": "boolean", "min": 0}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"boolean\",\"min\":0}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:114"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_384
#AT_START_385
at_fn_group_banner 385 'ovsdb-types.at:114' \
  "optional boolean - Python" "                      " 32
at_xfail=no
(
  $as_echo "385. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:114" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:114"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:114: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"boolean\", \"min\": 0}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"boolean\", \"min\": 0}' " "ovsdb-types.at:114"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "boolean", "min": 0}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"boolean\",\"min\":0}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:114"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_385
#AT_START_386
at_fn_group_banner 386 'ovsdb-types.at:118' \
  "set of 1 to 3 uuids - C" "                        " 32
at_xfail=no
(
  $as_echo "386. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:118: test-ovsdb parse-type '{\"key\": \"uuid\", \"min\": 1, \"max\": 3}' "
at_fn_check_prepare_trace "ovsdb-types.at:118"
( $at_check_trace; test-ovsdb parse-type '{"key": "uuid", "min": 1, "max": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"uuid\",\"max\":3}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:118"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_386
#AT_START_387
at_fn_group_banner 387 'ovsdb-types.at:118' \
  "set of 1 to 3 uuids - Python" "                   " 32
at_xfail=no
(
  $as_echo "387. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:118" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:118"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:118: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"uuid\", \"min\": 1, \"max\": 3}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"uuid\", \"min\": 1, \"max\": 3}' " "ovsdb-types.at:118"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "uuid", "min": 1, "max": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"uuid\",\"max\":3}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:118"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_387
#AT_START_388
at_fn_group_banner 388 'ovsdb-types.at:121' \
  "set of 0 to 3 strings - C" "                      " 32
at_xfail=no
(
  $as_echo "388. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:121: test-ovsdb parse-type '{\"key\": \"string\", \"min\": 0, \"max\": 3}' "
at_fn_check_prepare_trace "ovsdb-types.at:121"
( $at_check_trace; test-ovsdb parse-type '{"key": "string", "min": 0, "max": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"string\",\"max\":3,\"min\":0}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:121"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_388
#AT_START_389
at_fn_group_banner 389 'ovsdb-types.at:121' \
  "set of 0 to 3 strings - Python" "                 " 32
at_xfail=no
(
  $as_echo "389. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:121" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:121"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:121: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"string\", \"min\": 0, \"max\": 3}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"string\", \"min\": 0, \"max\": 3}' " "ovsdb-types.at:121"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "string", "min": 0, "max": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"string\",\"max\":3,\"min\":0}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:121"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_389
#AT_START_390
at_fn_group_banner 390 'ovsdb-types.at:124' \
  "set of 0 or more integers - C" "                  " 32
at_xfail=no
(
  $as_echo "390. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:124: test-ovsdb parse-type '{\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}'"
at_fn_check_prepare_trace "ovsdb-types.at:124"
( $at_check_trace; test-ovsdb parse-type '{"key": "integer", "min": 0, "max": "unlimited"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"integer\",\"max\":\"unlimited\",\"min\":0}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:124"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_390
#AT_START_391
at_fn_group_banner 391 'ovsdb-types.at:124' \
  "set of 0 or more integers - Python" "             " 32
at_xfail=no
(
  $as_echo "391. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:124" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:124"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:124: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}'" "ovsdb-types.at:124"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "integer", "min": 0, "max": "unlimited"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"integer\",\"max\":\"unlimited\",\"min\":0}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:124"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_391
#AT_START_392
at_fn_group_banner 392 'ovsdb-types.at:127' \
  "set of 1 or more reals - C" "                     " 32
at_xfail=no
(
  $as_echo "392. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:127: test-ovsdb parse-type '{\"key\": \"real\", \"min\": 1, \"max\": \"unlimited\"}'"
at_fn_check_prepare_trace "ovsdb-types.at:127"
( $at_check_trace; test-ovsdb parse-type '{"key": "real", "min": 1, "max": "unlimited"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"real\",\"max\":\"unlimited\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:127"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_392
#AT_START_393
at_fn_group_banner 393 'ovsdb-types.at:127' \
  "set of 1 or more reals - Python" "                " 32
at_xfail=no
(
  $as_echo "393. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:127" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:127"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:127: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": 1, \"max\": \"unlimited\"}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": 1, \"max\": \"unlimited\"}'" "ovsdb-types.at:127"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": 1, "max": "unlimited"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"real\",\"max\":\"unlimited\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:127"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_393
#AT_START_394
at_fn_group_banner 394 'ovsdb-types.at:131' \
  "set max cannot be less than min - C" "            " 32
at_xfail=no
(
  $as_echo "394. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:131: test-ovsdb parse-type '{\"key\": \"real\", \"min\": 5, \"max\": 3}' "
at_fn_check_prepare_trace "ovsdb-types.at:131"
( $at_check_trace; test-ovsdb parse-type '{"key": "real", "min": 5, "max": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:131"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:131: if grep -F -e \"ovsdb type fails constraint checks\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:131"
( $at_check_trace; if grep -F -e "ovsdb type fails constraint checks" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:131"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_394
#AT_START_395
at_fn_group_banner 395 'ovsdb-types.at:131' \
  "set max cannot be less than min - Python" "       " 32
at_xfail=no
(
  $as_echo "395. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:131" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:131"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:131: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": 5, \"max\": 3}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": 5, \"max\": 3}' " "ovsdb-types.at:131"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": 5, "max": 3}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:131"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:131: if grep -F -e \"ovsdb type fails constraint checks\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:131"
( $at_check_trace; if grep -F -e "ovsdb type fails constraint checks" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:131"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_395
#AT_START_396
at_fn_group_banner 396 'ovsdb-types.at:134' \
  "set max cannot be negative - C" "                 " 32
at_xfail=no
(
  $as_echo "396. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:134: test-ovsdb parse-type '{\"key\": \"real\", \"max\": -1}' "
at_fn_check_prepare_trace "ovsdb-types.at:134"
( $at_check_trace; test-ovsdb parse-type '{"key": "real", "max": -1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:134"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:134: if grep -F -e \"bad min or max value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:134"
( $at_check_trace; if grep -F -e "bad min or max value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:134"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_396
#AT_START_397
at_fn_group_banner 397 'ovsdb-types.at:134' \
  "set max cannot be negative - Python" "            " 32
at_xfail=no
(
  $as_echo "397. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:134" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:134"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:134: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"max\": -1}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"max\": -1}' " "ovsdb-types.at:134"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "max": -1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:134"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:134: if grep -F -e \"bad min or max value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:134"
( $at_check_trace; if grep -F -e "bad min or max value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:134"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_397
#AT_START_398
at_fn_group_banner 398 'ovsdb-types.at:137' \
  "set min cannot be negative - C" "                 " 32
at_xfail=no
(
  $as_echo "398. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:137: test-ovsdb parse-type '{\"key\": \"real\", \"min\": -1}' "
at_fn_check_prepare_trace "ovsdb-types.at:137"
( $at_check_trace; test-ovsdb parse-type '{"key": "real", "min": -1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:137"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:137: if grep -F -e \"bad min or max value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:137"
( $at_check_trace; if grep -F -e "bad min or max value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:137"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_398
#AT_START_399
at_fn_group_banner 399 'ovsdb-types.at:137' \
  "set min cannot be negative - Python" "            " 32
at_xfail=no
(
  $as_echo "399. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:137" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:137"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:137: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": -1}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": -1}' " "ovsdb-types.at:137"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": -1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:137"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:137: if grep -F -e \"bad min or max value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:137"
( $at_check_trace; if grep -F -e "bad min or max value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:137"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_399
#AT_START_400
at_fn_group_banner 400 'ovsdb-types.at:140' \
  "set min cannot be greater than one - C" "         " 32
at_xfail=no
(
  $as_echo "400. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:140: test-ovsdb parse-type '{\"key\": \"real\", \"min\": 10, \"max\": \"unlimited\"}'"
at_fn_check_prepare_trace "ovsdb-types.at:140"
( $at_check_trace; test-ovsdb parse-type '{"key": "real", "min": 10, "max": "unlimited"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:140"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:140: if grep -F -e \"ovsdb type fails constraint checks\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:140"
( $at_check_trace; if grep -F -e "ovsdb type fails constraint checks" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:140"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_400
#AT_START_401
at_fn_group_banner 401 'ovsdb-types.at:140' \
  "set min cannot be greater than one - Python" "    " 32
at_xfail=no
(
  $as_echo "401. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:140" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:140"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:140: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": 10, \"max\": \"unlimited\"}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"min\": 10, \"max\": \"unlimited\"}'" "ovsdb-types.at:140"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "min": 10, "max": "unlimited"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:140"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:140: if grep -F -e \"ovsdb type fails constraint checks\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:140"
( $at_check_trace; if grep -F -e "ovsdb type fails constraint checks" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:140"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_401
#AT_START_402
at_fn_group_banner 402 'ovsdb-types.at:146' \
  "map of 1 integer to boolean - C" "                " 33
at_xfail=no
(
  $as_echo "402. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:146: test-ovsdb parse-type '{\"key\": \"integer\", \"value\": \"boolean\"}' "
at_fn_check_prepare_trace "ovsdb-types.at:146"
( $at_check_trace; test-ovsdb parse-type '{"key": "integer", "value": "boolean"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"integer\",\"value\":\"boolean\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:146"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_402
#AT_START_403
at_fn_group_banner 403 'ovsdb-types.at:146' \
  "map of 1 integer to boolean - Python" "           " 33
at_xfail=no
(
  $as_echo "403. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:146" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:146"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:146: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"integer\", \"value\": \"boolean\"}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"integer\", \"value\": \"boolean\"}' " "ovsdb-types.at:146"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "integer", "value": "boolean"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"integer\",\"value\":\"boolean\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:146"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_403
#AT_START_404
at_fn_group_banner 404 'ovsdb-types.at:149' \
  "map of 1 boolean to integer, explicit min and max - C" "" 33
at_xfail=no
(
  $as_echo "404. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:149: test-ovsdb parse-type '{\"key\": \"boolean\", \"value\": \"integer\", \"min\": 1, \"max\": 1}' "
at_fn_check_prepare_trace "ovsdb-types.at:149"
( $at_check_trace; test-ovsdb parse-type '{"key": "boolean", "value": "integer", "min": 1, "max": 1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"boolean\",\"value\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_404
#AT_START_405
at_fn_group_banner 405 'ovsdb-types.at:149' \
  "map of 1 boolean to integer, explicit min and max - Python" "" 33
at_xfail=no
(
  $as_echo "405. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:149" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:149"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:149: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"boolean\", \"value\": \"integer\", \"min\": 1, \"max\": 1}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"boolean\", \"value\": \"integer\", \"min\": 1, \"max\": 1}' " "ovsdb-types.at:149"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "boolean", "value": "integer", "min": 1, "max": 1}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"boolean\",\"value\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_405
#AT_START_406
at_fn_group_banner 406 'ovsdb-types.at:152' \
  "map of 1 to 5 uuid to real - C" "                 " 33
at_xfail=no
(
  $as_echo "406. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:152: test-ovsdb parse-type '{\"key\": \"uuid\", \"value\": \"real\", \"min\": 1, \"max\": 5}' "
at_fn_check_prepare_trace "ovsdb-types.at:152"
( $at_check_trace; test-ovsdb parse-type '{"key": "uuid", "value": "real", "min": 1, "max": 5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"uuid\",\"max\":5,\"value\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:152"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_406
#AT_START_407
at_fn_group_banner 407 'ovsdb-types.at:152' \
  "map of 1 to 5 uuid to real - Python" "            " 33
at_xfail=no
(
  $as_echo "407. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:152" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:152"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:152: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"uuid\", \"value\": \"real\", \"min\": 1, \"max\": 5}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"uuid\", \"value\": \"real\", \"min\": 1, \"max\": 5}' " "ovsdb-types.at:152"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "uuid", "value": "real", "min": 1, "max": 5}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"uuid\",\"max\":5,\"value\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:152"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_407
#AT_START_408
at_fn_group_banner 408 'ovsdb-types.at:155' \
  "map of 0 to 10 string to uuid - C" "              " 33
at_xfail=no
(
  $as_echo "408. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:155: test-ovsdb parse-type '{\"key\": \"string\", \"value\": \"uuid\", \"min\": 0, \"max\": 10}' "
at_fn_check_prepare_trace "ovsdb-types.at:155"
( $at_check_trace; test-ovsdb parse-type '{"key": "string", "value": "uuid", "min": 0, "max": 10}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"string\",\"max\":10,\"min\":0,\"value\":\"uuid\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:155"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_408
#AT_START_409
at_fn_group_banner 409 'ovsdb-types.at:155' \
  "map of 0 to 10 string to uuid - Python" "         " 33
at_xfail=no
(
  $as_echo "409. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:155" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:155"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:155: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"string\", \"value\": \"uuid\", \"min\": 0, \"max\": 10}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"string\", \"value\": \"uuid\", \"min\": 0, \"max\": 10}' " "ovsdb-types.at:155"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "string", "value": "uuid", "min": 0, "max": 10}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"string\",\"max\":10,\"min\":0,\"value\":\"uuid\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:155"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_409
#AT_START_410
at_fn_group_banner 410 'ovsdb-types.at:158' \
  "map of 1 to 20 real to string - C" "              " 33
at_xfail=no
(
  $as_echo "410. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:158: test-ovsdb parse-type '{\"key\": \"real\", \"value\": \"string\", \"min\": 1, \"max\": 20}' "
at_fn_check_prepare_trace "ovsdb-types.at:158"
( $at_check_trace; test-ovsdb parse-type '{"key": "real", "value": "string", "min": 1, "max": 20}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"real\",\"max\":20,\"value\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:158"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_410
#AT_START_411
at_fn_group_banner 411 'ovsdb-types.at:158' \
  "map of 1 to 20 real to string - Python" "         " 33
at_xfail=no
(
  $as_echo "411. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:158" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:158"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:158: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"value\": \"string\", \"min\": 1, \"max\": 20}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"real\", \"value\": \"string\", \"min\": 1, \"max\": 20}' " "ovsdb-types.at:158"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "real", "value": "string", "min": 1, "max": 20}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"real\",\"max\":20,\"value\":\"string\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:158"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_411
#AT_START_412
at_fn_group_banner 412 'ovsdb-types.at:161' \
  "map of 0 or more string to real - C" "            " 33
at_xfail=no
(
  $as_echo "412. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:161: test-ovsdb parse-type '{\"key\": \"string\", \"value\": \"real\", \"min\": 0, \"max\": \"unlimited\"}' "
at_fn_check_prepare_trace "ovsdb-types.at:161"
( $at_check_trace; test-ovsdb parse-type '{"key": "string", "value": "real", "min": 0, "max": "unlimited"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:161"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_412
#AT_START_413
at_fn_group_banner 413 'ovsdb-types.at:161' \
  "map of 0 or more string to real - Python" "       " 33
at_xfail=no
(
  $as_echo "413. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:161" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:161"


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:161: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"key\": \"string\", \"value\": \"real\", \"min\": 0, \"max\": \"unlimited\"}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"key\": \"string\", \"value\": \"real\", \"min\": 0, \"max\": \"unlimited\"}' " "ovsdb-types.at:161"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"key": "string", "value": "real", "min": 0, "max": "unlimited"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:161"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_413
#AT_START_414
at_fn_group_banner 414 'ovsdb-types.at:165' \
  "map key type is required - C" "                   " 33
at_xfail=no
(
  $as_echo "414. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:165: test-ovsdb parse-type '{\"value\": \"integer\"}' "
at_fn_check_prepare_trace "ovsdb-types.at:165"
( $at_check_trace; test-ovsdb parse-type '{"value": "integer"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:165"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:165: if grep -F -e \"Required 'key' member is missing.\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:165"
( $at_check_trace; if grep -F -e "Required 'key' member is missing." stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:165"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_414
#AT_START_415
at_fn_group_banner 415 'ovsdb-types.at:165' \
  "map key type is required - Python" "              " 33
at_xfail=no
(
  $as_echo "415. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-types.at:165" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-types.at:165"

   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:165: \$PYTHON \$srcdir/test-ovsdb.py parse-type '{\"value\": \"integer\"}' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-type '{\"value\": \"integer\"}' " "ovsdb-types.at:165"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-type '{"value": "integer"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-types.at:165"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-types.at:165: if grep -F -e \"Required 'key' member is missing.\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-types.at:165"
( $at_check_trace; if grep -F -e "Required 'key' member is missing." stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-types.at:165"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_415
#AT_START_416
at_fn_group_banner 416 'ovsdb-data.at:3' \
  "default atoms - C" "                              " 34
at_xfail=no
(
  $as_echo "416. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:3: test-ovsdb default-atoms"
at_fn_check_prepare_trace "ovsdb-data.at:3"
( $at_check_trace; test-ovsdb default-atoms
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "integer: OK
real: OK
boolean: OK
string: OK
uuid: OK
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_416
#AT_START_417
at_fn_group_banner 417 'ovsdb-data.at:3' \
  "default atoms - Python" "                         " 34
at_xfail=no
(
  $as_echo "417. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:3" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:3"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:3: \$PYTHON \$srcdir/test-ovsdb.py default-atoms"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py default-atoms" "ovsdb-data.at:3"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py default-atoms
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "integer: OK
real: OK
boolean: OK
string: OK
uuid: OK
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_417
#AT_START_418
at_fn_group_banner 418 'ovsdb-data.at:11' \
  "default data - C" "                               " 34
at_xfail=no
(
  $as_echo "418. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:11: test-ovsdb default-data"
at_fn_check_prepare_trace "ovsdb-data.at:11"
( $at_check_trace; test-ovsdb default-data
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "key integer, value void, n_min 0: OK
key integer, value integer, n_min 0: OK
key integer, value real, n_min 0: OK
key integer, value boolean, n_min 0: OK
key integer, value string, n_min 0: OK
key integer, value uuid, n_min 0: OK
key real, value void, n_min 0: OK
key real, value integer, n_min 0: OK
key real, value real, n_min 0: OK
key real, value boolean, n_min 0: OK
key real, value string, n_min 0: OK
key real, value uuid, n_min 0: OK
key boolean, value void, n_min 0: OK
key boolean, value integer, n_min 0: OK
key boolean, value real, n_min 0: OK
key boolean, value boolean, n_min 0: OK
key boolean, value string, n_min 0: OK
key boolean, value uuid, n_min 0: OK
key string, value void, n_min 0: OK
key string, value integer, n_min 0: OK
key string, value real, n_min 0: OK
key string, value boolean, n_min 0: OK
key string, value string, n_min 0: OK
key string, value uuid, n_min 0: OK
key uuid, value void, n_min 0: OK
key uuid, value integer, n_min 0: OK
key uuid, value real, n_min 0: OK
key uuid, value boolean, n_min 0: OK
key uuid, value string, n_min 0: OK
key uuid, value uuid, n_min 0: OK
key integer, value void, n_min 1: OK
key integer, value integer, n_min 1: OK
key integer, value real, n_min 1: OK
key integer, value boolean, n_min 1: OK
key integer, value string, n_min 1: OK
key integer, value uuid, n_min 1: OK
key real, value void, n_min 1: OK
key real, value integer, n_min 1: OK
key real, value real, n_min 1: OK
key real, value boolean, n_min 1: OK
key real, value string, n_min 1: OK
key real, value uuid, n_min 1: OK
key boolean, value void, n_min 1: OK
key boolean, value integer, n_min 1: OK
key boolean, value real, n_min 1: OK
key boolean, value boolean, n_min 1: OK
key boolean, value string, n_min 1: OK
key boolean, value uuid, n_min 1: OK
key string, value void, n_min 1: OK
key string, value integer, n_min 1: OK
key string, value real, n_min 1: OK
key string, value boolean, n_min 1: OK
key string, value string, n_min 1: OK
key string, value uuid, n_min 1: OK
key uuid, value void, n_min 1: OK
key uuid, value integer, n_min 1: OK
key uuid, value real, n_min 1: OK
key uuid, value boolean, n_min 1: OK
key uuid, value string, n_min 1: OK
key uuid, value uuid, n_min 1: OK
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_418
#AT_START_419
at_fn_group_banner 419 'ovsdb-data.at:11' \
  "default data - Python" "                          " 34
at_xfail=no
(
  $as_echo "419. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:11" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:11"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:11: \$PYTHON \$srcdir/test-ovsdb.py default-data"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py default-data" "ovsdb-data.at:11"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py default-data
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "key integer, value void, n_min 0: OK
key integer, value integer, n_min 0: OK
key integer, value real, n_min 0: OK
key integer, value boolean, n_min 0: OK
key integer, value string, n_min 0: OK
key integer, value uuid, n_min 0: OK
key real, value void, n_min 0: OK
key real, value integer, n_min 0: OK
key real, value real, n_min 0: OK
key real, value boolean, n_min 0: OK
key real, value string, n_min 0: OK
key real, value uuid, n_min 0: OK
key boolean, value void, n_min 0: OK
key boolean, value integer, n_min 0: OK
key boolean, value real, n_min 0: OK
key boolean, value boolean, n_min 0: OK
key boolean, value string, n_min 0: OK
key boolean, value uuid, n_min 0: OK
key string, value void, n_min 0: OK
key string, value integer, n_min 0: OK
key string, value real, n_min 0: OK
key string, value boolean, n_min 0: OK
key string, value string, n_min 0: OK
key string, value uuid, n_min 0: OK
key uuid, value void, n_min 0: OK
key uuid, value integer, n_min 0: OK
key uuid, value real, n_min 0: OK
key uuid, value boolean, n_min 0: OK
key uuid, value string, n_min 0: OK
key uuid, value uuid, n_min 0: OK
key integer, value void, n_min 1: OK
key integer, value integer, n_min 1: OK
key integer, value real, n_min 1: OK
key integer, value boolean, n_min 1: OK
key integer, value string, n_min 1: OK
key integer, value uuid, n_min 1: OK
key real, value void, n_min 1: OK
key real, value integer, n_min 1: OK
key real, value real, n_min 1: OK
key real, value boolean, n_min 1: OK
key real, value string, n_min 1: OK
key real, value uuid, n_min 1: OK
key boolean, value void, n_min 1: OK
key boolean, value integer, n_min 1: OK
key boolean, value real, n_min 1: OK
key boolean, value boolean, n_min 1: OK
key boolean, value string, n_min 1: OK
key boolean, value uuid, n_min 1: OK
key string, value void, n_min 1: OK
key string, value integer, n_min 1: OK
key string, value real, n_min 1: OK
key string, value boolean, n_min 1: OK
key string, value string, n_min 1: OK
key string, value uuid, n_min 1: OK
key uuid, value void, n_min 1: OK
key uuid, value integer, n_min 1: OK
key uuid, value real, n_min 1: OK
key uuid, value boolean, n_min 1: OK
key uuid, value string, n_min 1: OK
key uuid, value uuid, n_min 1: OK
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_419
#AT_START_420
at_fn_group_banner 420 'ovsdb-data.at:76' \
  "integer atom from JSON - C" "                     " 35
at_xfail=no
(
  $as_echo "420. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:76: test-ovsdb parse-atoms '[\"integer\"]' \\
    '[0]' \\
    '[-1]' \\
    '[1e3]' \\
    '[9223372036854775807]' \\
    '[-9223372036854775808]' "
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:76"
( $at_check_trace; test-ovsdb parse-atoms '["integer"]' \
    '[0]' \
    '[-1]' \
    '[1e3]' \
    '[9223372036854775807]' \
    '[-9223372036854775808]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
-1
1000
9223372036854775807
-9223372036854775808
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:76"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_420
#AT_START_421
at_fn_group_banner 421 'ovsdb-data.at:76' \
  "integer atom from JSON - Python" "                " 35
at_xfail=no
(
  $as_echo "421. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:76" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:76"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:76: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"integer\"]' \\
    '[0]' \\
    '[-1]' \\
    '[1e3]' \\
    '[9223372036854775807]' \\
    '[-9223372036854775808]' "
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:76"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["integer"]' \
    '[0]' \
    '[-1]' \
    '[1e3]' \
    '[9223372036854775807]' \
    '[-9223372036854775808]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
-1
1000
9223372036854775807
-9223372036854775808
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:76"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_421
#AT_START_422
at_fn_group_banner 422 'ovsdb-data.at:89' \
  "integer atom from string" "                       " 35
at_xfail=no
(
  $as_echo "422. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:89: test-ovsdb parse-atom-strings -- '[\"integer\"]' \\
    '0' \\
    '-1' \\
    '+1000' \\
    '9223372036854775807' \\
    '-9223372036854775808' "
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:89"
( $at_check_trace; test-ovsdb parse-atom-strings -- '["integer"]' \
    '0' \
    '-1' \
    '+1000' \
    '9223372036854775807' \
    '-9223372036854775808'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
-1
1000
9223372036854775807
-9223372036854775808
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:89"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_422
#AT_START_423
at_fn_group_banner 423 'ovsdb-data.at:102' \
  "real atom from JSON - C" "                        " 35
at_xfail=no
(
  $as_echo "423. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:102: test-ovsdb parse-atoms '[\"real\"]' \\
    '[0]' \\
    '[0.0]' \\
    '[-0.0]' \\
    '[-1.25]' \\
    '[1e3]' \\
    '[1e37]' \\
    '[0.00390625]' "
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:102"
( $at_check_trace; test-ovsdb parse-atoms '["real"]' \
    '[0]' \
    '[0.0]' \
    '[-0.0]' \
    '[-1.25]' \
    '[1e3]' \
    '[1e37]' \
    '[0.00390625]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
0
0
-1.25
1000
1e+37
0.00390625
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:102"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_423
#AT_START_424
at_fn_group_banner 424 'ovsdb-data.at:102' \
  "real atom from JSON - Python" "                   " 35
at_xfail=no
(
  $as_echo "424. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:102" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:102"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:102: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"real\"]' \\
    '[0]' \\
    '[0.0]' \\
    '[-0.0]' \\
    '[-1.25]' \\
    '[1e3]' \\
    '[1e37]' \\
    '[0.00390625]' "
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:102"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["real"]' \
    '[0]' \
    '[0.0]' \
    '[-0.0]' \
    '[-1.25]' \
    '[1e3]' \
    '[1e37]' \
    '[0.00390625]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
0
0
-1.25
1000
1e+37
0.00390625
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:102"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_424
#AT_START_425
at_fn_group_banner 425 'ovsdb-data.at:119' \
  "real atom from string" "                          " 35
at_xfail=no
(
  $as_echo "425. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:119: test-ovsdb parse-atom-strings -- '[\"real\"]' \\
    '0' \\
    '0.0' \\
    '-0.0' \\
    '-1.25' \\
    '1e3' \\
    '1e37' \\
    '0.00390625' "
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:119"
( $at_check_trace; test-ovsdb parse-atom-strings -- '["real"]' \
    '0' \
    '0.0' \
    '-0.0' \
    '-1.25' \
    '1e3' \
    '1e37' \
    '0.00390625'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
0
0
-1.25
1000
1e+37
0.00390625
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:119"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_425
#AT_START_426
at_fn_group_banner 426 'ovsdb-data.at:136' \
  "boolean atom from JSON - C" "                     " 35
at_xfail=no
(
  $as_echo "426. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:136: test-ovsdb parse-atoms '[\"boolean\"]' '[true]' '[false]' "
at_fn_check_prepare_trace "ovsdb-data.at:136"
( $at_check_trace; test-ovsdb parse-atoms '["boolean"]' '[true]' '[false]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:136"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_426
#AT_START_427
at_fn_group_banner 427 'ovsdb-data.at:136' \
  "boolean atom from JSON - Python" "                " 35
at_xfail=no
(
  $as_echo "427. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:136" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:136"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:136: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"boolean\"]' '[true]' '[false]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atoms '[\"boolean\"]' '[true]' '[false]' " "ovsdb-data.at:136"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["boolean"]' '[true]' '[false]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:136"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_427
#AT_START_428
at_fn_group_banner 428 'ovsdb-data.at:141' \
  "boolean atom from string" "                       " 35
at_xfail=no
(
  $as_echo "428. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:141: test-ovsdb parse-atom-strings '[\"boolean\"]' 'true' 'false' "
at_fn_check_prepare_trace "ovsdb-data.at:141"
( $at_check_trace; test-ovsdb parse-atom-strings '["boolean"]' 'true' 'false'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:141"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_428
#AT_START_429
at_fn_group_banner 429 'ovsdb-data.at:146' \
  "string atom from JSON - C" "                      " 35
at_xfail=no
(
  $as_echo "429. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:146: test-ovsdb parse-atoms '[\"string\"]' '[\"\"]' '[\"true\"]' '[\"\\\"\\\\\\/\\b\\f\\n\\r\\t\"]'"
at_fn_check_prepare_trace "ovsdb-data.at:146"
( $at_check_trace; test-ovsdb parse-atoms '["string"]' '[""]' '["true"]' '["\"\\\/\b\f\n\r\t"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"\"
\"true\"
\"\\\"\\\\/\\b\\f\\n\\r\\t\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:146"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_429
#AT_START_430
at_fn_group_banner 430 'ovsdb-data.at:146' \
  "string atom from JSON - Python" "                 " 35
at_xfail=no
(
  $as_echo "430. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:146" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:146"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:146: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"string\"]' '[\"\"]' '[\"true\"]' '[\"\\\"\\\\\\/\\b\\f\\n\\r\\t\"]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atoms '[\"string\"]' '[\"\"]' '[\"true\"]' '[\"\\\"\\\\\\/\\b\\f\\n\\r\\t\"]'" "ovsdb-data.at:146"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["string"]' '[""]' '["true"]' '["\"\\\/\b\f\n\r\t"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"\"
\"true\"
\"\\\"\\\\/\\b\\f\\n\\r\\t\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:146"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_430
#AT_START_431
at_fn_group_banner 431 'ovsdb-data.at:152' \
  "string atom from string" "                        " 35
at_xfail=no
(
  $as_echo "431. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:152: test-ovsdb parse-atom-strings '[\"string\"]' \\
    'unquoted' \\
    '\"quoted-string\"' \\
    '\"needs quotes\"' \\
    '\"\"' \\
    '\"true\"' \\
    '\"\\\"\\\\\\/\\b\\f\\n\\r\\t\"'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:152"
( $at_check_trace; test-ovsdb parse-atom-strings '["string"]' \
    'unquoted' \
    '"quoted-string"' \
    '"needs quotes"' \
    '""' \
    '"true"' \
    '"\"\\\/\b\f\n\r\t"'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "unquoted
quoted-string
\"needs quotes\"
\"\"
\"true\"
\"\\\"\\\\/\\b\\f\\n\\r\\t\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:152"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_431
#AT_START_432
at_fn_group_banner 432 'ovsdb-data.at:167' \
  "uuid atom from JSON - C" "                        " 35
at_xfail=no
(
  $as_echo "432. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:167: test-ovsdb parse-atoms '[\"uuid\"]' '[\"uuid\", \"550e8400-e29b-41d4-a716-446655440000\"]'"
at_fn_check_prepare_trace "ovsdb-data.at:167"
( $at_check_trace; test-ovsdb parse-atoms '["uuid"]' '["uuid", "550e8400-e29b-41d4-a716-446655440000"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"uuid\",\"550e8400-e29b-41d4-a716-446655440000\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:167"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_432
#AT_START_433
at_fn_group_banner 433 'ovsdb-data.at:167' \
  "uuid atom from JSON - Python" "                   " 35
at_xfail=no
(
  $as_echo "433. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:167" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:167"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:167: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"uuid\"]' '[\"uuid\", \"550e8400-e29b-41d4-a716-446655440000\"]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atoms '[\"uuid\"]' '[\"uuid\", \"550e8400-e29b-41d4-a716-446655440000\"]'" "ovsdb-data.at:167"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["uuid"]' '["uuid", "550e8400-e29b-41d4-a716-446655440000"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"uuid\",\"550e8400-e29b-41d4-a716-446655440000\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:167"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_433
#AT_START_434
at_fn_group_banner 434 'ovsdb-data.at:171' \
  "uuid atom from string" "                          " 35
at_xfail=no
(
  $as_echo "434. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:171: test-ovsdb parse-atom-strings '[\"uuid\"]' '550e8400-e29b-41d4-a716-446655440000'"
at_fn_check_prepare_trace "ovsdb-data.at:171"
( $at_check_trace; test-ovsdb parse-atom-strings '["uuid"]' '550e8400-e29b-41d4-a716-446655440000'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "550e8400-e29b-41d4-a716-446655440000
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:171"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_434
#AT_START_435
at_fn_group_banner 435 'ovsdb-data.at:175' \
  "integer atom sorting - C" "                       " 35
at_xfail=no
(
  $as_echo "435. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:175: test-ovsdb sort-atoms '[\"integer\"]' '[55,0,-1,2,1]'"
at_fn_check_prepare_trace "ovsdb-data.at:175"
( $at_check_trace; test-ovsdb sort-atoms '["integer"]' '[55,0,-1,2,1]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[-1,0,1,2,55]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:175"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_435
#AT_START_436
at_fn_group_banner 436 'ovsdb-data.at:175' \
  "integer atom sorting - Python" "                  " 35
at_xfail=no
(
  $as_echo "436. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:175" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:175"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:175: \$PYTHON \$srcdir/test-ovsdb.py sort-atoms '[\"integer\"]' '[55,0,-1,2,1]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py sort-atoms '[\"integer\"]' '[55,0,-1,2,1]'" "ovsdb-data.at:175"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py sort-atoms '["integer"]' '[55,0,-1,2,1]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[-1,0,1,2,55]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:175"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_436
#AT_START_437
at_fn_group_banner 437 'ovsdb-data.at:179' \
  "real atom sorting - C" "                          " 35
at_xfail=no
(
  $as_echo "437. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:179: test-ovsdb sort-atoms '[\"real\"]' '[1.25,1.23,0.0,-0.0,-1e99]'"
at_fn_check_prepare_trace "ovsdb-data.at:179"
( $at_check_trace; test-ovsdb sort-atoms '["real"]' '[1.25,1.23,0.0,-0.0,-1e99]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[-1e+99,0,0,1.23,1.25]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:179"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_437
#AT_START_438
at_fn_group_banner 438 'ovsdb-data.at:179' \
  "real atom sorting - Python" "                     " 35
at_xfail=no
(
  $as_echo "438. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:179" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:179"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:179: \$PYTHON \$srcdir/test-ovsdb.py sort-atoms '[\"real\"]' '[1.25,1.23,0.0,-0.0,-1e99]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py sort-atoms '[\"real\"]' '[1.25,1.23,0.0,-0.0,-1e99]'" "ovsdb-data.at:179"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py sort-atoms '["real"]' '[1.25,1.23,0.0,-0.0,-1e99]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[-1e+99,0,0,1.23,1.25]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:179"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_438
#AT_START_439
at_fn_group_banner 439 'ovsdb-data.at:183' \
  "boolean atom sorting - C" "                       " 35
at_xfail=no
(
  $as_echo "439. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:183: test-ovsdb sort-atoms '[\"boolean\"]' '[true,false,true,false,false]'"
at_fn_check_prepare_trace "ovsdb-data.at:183"
( $at_check_trace; test-ovsdb sort-atoms '["boolean"]' '[true,false,true,false,false]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[false,false,false,true,true]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:183"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_439
#AT_START_440
at_fn_group_banner 440 'ovsdb-data.at:183' \
  "boolean atom sorting - Python" "                  " 35
at_xfail=no
(
  $as_echo "440. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:183" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:183"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:183: \$PYTHON \$srcdir/test-ovsdb.py sort-atoms '[\"boolean\"]' '[true,false,true,false,false]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py sort-atoms '[\"boolean\"]' '[true,false,true,false,false]'" "ovsdb-data.at:183"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py sort-atoms '["boolean"]' '[true,false,true,false,false]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[false,false,false,true,true]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:183"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_440
#AT_START_441
at_fn_group_banner 441 'ovsdb-data.at:187' \
  "string atom sorting - C" "                        " 35
at_xfail=no
(
  $as_echo "441. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:187: test-ovsdb sort-atoms '[\"string\"]' '[\"abd\",\"abc\",\"\\b\",\"xxx\"]'"
at_fn_check_prepare_trace "ovsdb-data.at:187"
( $at_check_trace; test-ovsdb sort-atoms '["string"]' '["abd","abc","\b","xxx"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"\\b\",\"abc\",\"abd\",\"xxx\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_441
#AT_START_442
at_fn_group_banner 442 'ovsdb-data.at:187' \
  "string atom sorting - Python" "                   " 35
at_xfail=no
(
  $as_echo "442. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:187" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:187"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:187: \$PYTHON \$srcdir/test-ovsdb.py sort-atoms '[\"string\"]' '[\"abd\",\"abc\",\"\\b\",\"xxx\"]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py sort-atoms '[\"string\"]' '[\"abd\",\"abc\",\"\\b\",\"xxx\"]'" "ovsdb-data.at:187"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py sort-atoms '["string"]' '["abd","abc","\b","xxx"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"\\b\",\"abc\",\"abd\",\"xxx\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_442
#AT_START_443
at_fn_group_banner 443 'ovsdb-data.at:191' \
  "uuid atom sorting - C" "                          " 35
at_xfail=no
(
  $as_echo "443. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:191: test-ovsdb sort-atoms '[\"uuid\"]' '[
    [\"uuid\", \"00000000-0000-0000-0000-000000000001\"],
    [\"uuid\", \"00000000-1000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-1000-0000-000000000000\"],
    [\"uuid\", \"00010000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000000100\"],
    [\"uuid\", \"00000000-0000-0000-0000-000100000000\"],
    [\"uuid\", \"00000000-0000-0010-0000-000000000000\"],
    [\"uuid\", \"00000100-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0001-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000001000000\"],
    [\"uuid\", \"01000000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000001000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000010000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-010000000000\"],
    [\"uuid\", \"00000000-0000-0100-0000-000000000000\"],
    [\"uuid\", \"10000000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000000010\"],
    [\"uuid\", \"00000000-0100-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0100-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0001-000000000000\"],
    [\"uuid\", \"00000010-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0010-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000010000\"],
    [\"uuid\", \"00000000-0000-0000-1000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-100000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-001000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000100000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0010-0000-0000-000000000000\"],
    [\"uuid\", \"00100000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0001-0000-0000-000000000000\"],
    [\"uuid\", \"00000001-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00001000-0000-0000-0000-000000000000\"]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:191"
( $at_check_trace; test-ovsdb sort-atoms '["uuid"]' '[
    ["uuid", "00000000-0000-0000-0000-000000000001"],
    ["uuid", "00000000-1000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-1000-0000-000000000000"],
    ["uuid", "00010000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000000100"],
    ["uuid", "00000000-0000-0000-0000-000100000000"],
    ["uuid", "00000000-0000-0010-0000-000000000000"],
    ["uuid", "00000100-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0001-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000001000000"],
    ["uuid", "01000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000001000"],
    ["uuid", "00000000-0000-0000-0000-000010000000"],
    ["uuid", "00000000-0000-0000-0000-010000000000"],
    ["uuid", "00000000-0000-0100-0000-000000000000"],
    ["uuid", "10000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000000010"],
    ["uuid", "00000000-0100-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0100-000000000000"],
    ["uuid", "00000000-0000-0000-0001-000000000000"],
    ["uuid", "00000010-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0010-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000010000"],
    ["uuid", "00000000-0000-0000-1000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-100000000000"],
    ["uuid", "00000000-0000-0000-0000-001000000000"],
    ["uuid", "00000000-0000-0000-0000-000000100000"],
    ["uuid", "00000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0010-0000-0000-000000000000"],
    ["uuid", "00100000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0001-0000-0000-000000000000"],
    ["uuid", "00000001-0000-0000-0000-000000000000"],
    ["uuid", "00001000-0000-0000-0000-000000000000"]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],[\"uuid\",\"00000000-0000-0000-0000-000000000001\"],[\"uuid\",\"00000000-0000-0000-0000-000000000010\"],[\"uuid\",\"00000000-0000-0000-0000-000000000100\"],[\"uuid\",\"00000000-0000-0000-0000-000000001000\"],[\"uuid\",\"00000000-0000-0000-0000-000000010000\"],[\"uuid\",\"00000000-0000-0000-0000-000000100000\"],[\"uuid\",\"00000000-0000-0000-0000-000001000000\"],[\"uuid\",\"00000000-0000-0000-0000-000010000000\"],[\"uuid\",\"00000000-0000-0000-0000-000100000000\"],[\"uuid\",\"00000000-0000-0000-0000-001000000000\"],[\"uuid\",\"00000000-0000-0000-0000-010000000000\"],[\"uuid\",\"00000000-0000-0000-0000-100000000000\"],[\"uuid\",\"00000000-0000-0000-0001-000000000000\"],[\"uuid\",\"00000000-0000-0000-0010-000000000000\"],[\"uuid\",\"00000000-0000-0000-0100-000000000000\"],[\"uuid\",\"00000000-0000-0000-1000-000000000000\"],[\"uuid\",\"00000000-0000-0001-0000-000000000000\"],[\"uuid\",\"00000000-0000-0010-0000-000000000000\"],[\"uuid\",\"00000000-0000-0100-0000-000000000000\"],[\"uuid\",\"00000000-0000-1000-0000-000000000000\"],[\"uuid\",\"00000000-0001-0000-0000-000000000000\"],[\"uuid\",\"00000000-0010-0000-0000-000000000000\"],[\"uuid\",\"00000000-0100-0000-0000-000000000000\"],[\"uuid\",\"00000000-1000-0000-0000-000000000000\"],[\"uuid\",\"00000001-0000-0000-0000-000000000000\"],[\"uuid\",\"00000010-0000-0000-0000-000000000000\"],[\"uuid\",\"00000100-0000-0000-0000-000000000000\"],[\"uuid\",\"00001000-0000-0000-0000-000000000000\"],[\"uuid\",\"00010000-0000-0000-0000-000000000000\"],[\"uuid\",\"00100000-0000-0000-0000-000000000000\"],[\"uuid\",\"01000000-0000-0000-0000-000000000000\"],[\"uuid\",\"10000000-0000-0000-0000-000000000000\"]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:191"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_443
#AT_START_444
at_fn_group_banner 444 'ovsdb-data.at:191' \
  "uuid atom sorting - Python" "                     " 35
at_xfail=no
(
  $as_echo "444. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:191" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:191"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:191: \$PYTHON \$srcdir/test-ovsdb.py sort-atoms '[\"uuid\"]' '[
    [\"uuid\", \"00000000-0000-0000-0000-000000000001\"],
    [\"uuid\", \"00000000-1000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-1000-0000-000000000000\"],
    [\"uuid\", \"00010000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000000100\"],
    [\"uuid\", \"00000000-0000-0000-0000-000100000000\"],
    [\"uuid\", \"00000000-0000-0010-0000-000000000000\"],
    [\"uuid\", \"00000100-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0001-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000001000000\"],
    [\"uuid\", \"01000000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000001000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000010000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-010000000000\"],
    [\"uuid\", \"00000000-0000-0100-0000-000000000000\"],
    [\"uuid\", \"10000000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000000010\"],
    [\"uuid\", \"00000000-0100-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0100-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0001-000000000000\"],
    [\"uuid\", \"00000010-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0010-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000010000\"],
    [\"uuid\", \"00000000-0000-0000-1000-000000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-100000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-001000000000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000100000\"],
    [\"uuid\", \"00000000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0010-0000-0000-000000000000\"],
    [\"uuid\", \"00100000-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00000000-0001-0000-0000-000000000000\"],
    [\"uuid\", \"00000001-0000-0000-0000-000000000000\"],
    [\"uuid\", \"00001000-0000-0000-0000-000000000000\"]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:191"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py sort-atoms '["uuid"]' '[
    ["uuid", "00000000-0000-0000-0000-000000000001"],
    ["uuid", "00000000-1000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-1000-0000-000000000000"],
    ["uuid", "00010000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000000100"],
    ["uuid", "00000000-0000-0000-0000-000100000000"],
    ["uuid", "00000000-0000-0010-0000-000000000000"],
    ["uuid", "00000100-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0001-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000001000000"],
    ["uuid", "01000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000001000"],
    ["uuid", "00000000-0000-0000-0000-000010000000"],
    ["uuid", "00000000-0000-0000-0000-010000000000"],
    ["uuid", "00000000-0000-0100-0000-000000000000"],
    ["uuid", "10000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000000010"],
    ["uuid", "00000000-0100-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0100-000000000000"],
    ["uuid", "00000000-0000-0000-0001-000000000000"],
    ["uuid", "00000010-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0000-0000-0010-000000000000"],
    ["uuid", "00000000-0000-0000-0000-000000010000"],
    ["uuid", "00000000-0000-0000-1000-000000000000"],
    ["uuid", "00000000-0000-0000-0000-100000000000"],
    ["uuid", "00000000-0000-0000-0000-001000000000"],
    ["uuid", "00000000-0000-0000-0000-000000100000"],
    ["uuid", "00000000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0010-0000-0000-000000000000"],
    ["uuid", "00100000-0000-0000-0000-000000000000"],
    ["uuid", "00000000-0001-0000-0000-000000000000"],
    ["uuid", "00000001-0000-0000-0000-000000000000"],
    ["uuid", "00001000-0000-0000-0000-000000000000"]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],[\"uuid\",\"00000000-0000-0000-0000-000000000001\"],[\"uuid\",\"00000000-0000-0000-0000-000000000010\"],[\"uuid\",\"00000000-0000-0000-0000-000000000100\"],[\"uuid\",\"00000000-0000-0000-0000-000000001000\"],[\"uuid\",\"00000000-0000-0000-0000-000000010000\"],[\"uuid\",\"00000000-0000-0000-0000-000000100000\"],[\"uuid\",\"00000000-0000-0000-0000-000001000000\"],[\"uuid\",\"00000000-0000-0000-0000-000010000000\"],[\"uuid\",\"00000000-0000-0000-0000-000100000000\"],[\"uuid\",\"00000000-0000-0000-0000-001000000000\"],[\"uuid\",\"00000000-0000-0000-0000-010000000000\"],[\"uuid\",\"00000000-0000-0000-0000-100000000000\"],[\"uuid\",\"00000000-0000-0000-0001-000000000000\"],[\"uuid\",\"00000000-0000-0000-0010-000000000000\"],[\"uuid\",\"00000000-0000-0000-0100-000000000000\"],[\"uuid\",\"00000000-0000-0000-1000-000000000000\"],[\"uuid\",\"00000000-0000-0001-0000-000000000000\"],[\"uuid\",\"00000000-0000-0010-0000-000000000000\"],[\"uuid\",\"00000000-0000-0100-0000-000000000000\"],[\"uuid\",\"00000000-0000-1000-0000-000000000000\"],[\"uuid\",\"00000000-0001-0000-0000-000000000000\"],[\"uuid\",\"00000000-0010-0000-0000-000000000000\"],[\"uuid\",\"00000000-0100-0000-0000-000000000000\"],[\"uuid\",\"00000000-1000-0000-0000-000000000000\"],[\"uuid\",\"00000001-0000-0000-0000-000000000000\"],[\"uuid\",\"00000010-0000-0000-0000-000000000000\"],[\"uuid\",\"00000100-0000-0000-0000-000000000000\"],[\"uuid\",\"00001000-0000-0000-0000-000000000000\"],[\"uuid\",\"00010000-0000-0000-0000-000000000000\"],[\"uuid\",\"00100000-0000-0000-0000-000000000000\"],[\"uuid\",\"01000000-0000-0000-0000-000000000000\"],[\"uuid\",\"10000000-0000-0000-0000-000000000000\"]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:191"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_444
#AT_START_445
at_fn_group_banner 445 'ovsdb-data.at:228' \
  "real not acceptable integer JSON atom - C" "      " 35
at_xfail=no
(
  $as_echo "445. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:228: test-ovsdb parse-atoms '[\"integer\"]' '[0.5]' "
at_fn_check_prepare_trace "ovsdb-data.at:228"
( $at_check_trace; test-ovsdb parse-atoms '["integer"]' '[0.5]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "syntax \"0.5\": syntax error: expected integer
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:228"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_445
#AT_START_446
at_fn_group_banner 446 'ovsdb-data.at:228' \
  "real not acceptable integer JSON atom - Python" " " 35
at_xfail=no
(
  $as_echo "446. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:228" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:228"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:228: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"integer\"]' '[0.5]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atoms '[\"integer\"]' '[0.5]' " "ovsdb-data.at:228"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["integer"]' '[0.5]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "syntax \"0.5\": syntax error: expected integer
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:228"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_446
#AT_START_447
at_fn_group_banner 447 'ovsdb-data.at:234' \
  "no invalid UTF-8 sequences in strings - C" "      " 35
at_xfail=no
(
  $as_echo "447. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:234: test-ovsdb parse-atoms '[\"string\"]' \\
     '[\"\"]' \\
     '[\"\"]' \\
"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:234"
( $at_check_trace; test-ovsdb parse-atoms '["string"]' \
     '[""]' \
     '[""]' \

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: \"\" is not a valid UTF-8 string: invalid UTF-8 sequence 0xc0
constraint violation: \"\" is not a valid UTF-8 string: invalid UTF-8 sequence 0xed 0xa0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:234"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_447
#AT_START_448
at_fn_group_banner 448 'ovsdb-data.at:234' \
  "no invalid UTF-8 sequences in strings - Python" " " 35
at_xfail=yes
(
  $as_echo "448. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:234" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:234"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:234: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"string\"]' \\
     '[\"\"]' \\
     '[\"\"]' \\
"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:234"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["string"]' \
     '[""]' \
     '[""]' \

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: \"\" is not a valid UTF-8 string: invalid UTF-8 sequence 0xc0
constraint violation: \"\" is not a valid UTF-8 string: invalid UTF-8 sequence 0xed 0xa0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:234"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_448
#AT_START_449
at_fn_group_banner 449 'ovsdb-data.at:243' \
  "real not acceptable integer string atom" "        " 35
at_xfail=no
(
  $as_echo "449. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:243: test-ovsdb parse-atom-strings '[\"integer\"]' '0.5' "
at_fn_check_prepare_trace "ovsdb-data.at:243"
( $at_check_trace; test-ovsdb parse-atom-strings '["integer"]' '0.5'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:243"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:243: if grep -F -e \"\\\"0.5\\\" is not a valid integer\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:243"
( $at_check_trace; if grep -F -e "\"0.5\" is not a valid integer" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:243"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_449
#AT_START_450
at_fn_group_banner 450 'ovsdb-data.at:247' \
  "string \"true\" not acceptable boolean JSON atom - C" "" 35
at_xfail=no
(
  $as_echo "450. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:247: test-ovsdb parse-atoms '[\"boolean\"]' '[\"true\"]' "
at_fn_check_prepare_trace "ovsdb-data.at:247"
( $at_check_trace; test-ovsdb parse-atoms '["boolean"]' '["true"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "syntax \"\"true\"\": syntax error: expected boolean
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:247"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_450
#AT_START_451
at_fn_group_banner 451 'ovsdb-data.at:247' \
  "string \"true\" not acceptable boolean JSON atom - Python" "" 35
at_xfail=no
(
  $as_echo "451. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:247" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:247"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:247: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"boolean\"]' '[\"true\"]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atoms '[\"boolean\"]' '[\"true\"]' " "ovsdb-data.at:247"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["boolean"]' '["true"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "syntax \"\"true\"\": syntax error: expected boolean
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:247"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_451
#AT_START_452
at_fn_group_banner 452 'ovsdb-data.at:251' \
  "string \"true\" not acceptable boolean string atom" "" 35
at_xfail=no
(
  $as_echo "452. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:251: test-ovsdb parse-atom-strings '[\"boolean\"]' '\"true\"' "
at_fn_check_prepare_trace "ovsdb-data.at:251"
( $at_check_trace; test-ovsdb parse-atom-strings '["boolean"]' '"true"'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:251"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:251: if grep -F -e \"\\\"\\\"true\\\"\\\" is not a valid boolean (use \\\"true\\\" or \\\"false\\\")\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:251"
( $at_check_trace; if grep -F -e "\"\"true\"\" is not a valid boolean (use \"true\" or \"false\")" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:251"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_452
#AT_START_453
at_fn_group_banner 453 'ovsdb-data.at:255' \
  "integer not acceptable string JSON atom - C" "    " 35
at_xfail=no
(
  $as_echo "453. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:255: test-ovsdb parse-atoms '[\"string\"]' '[1]'"
at_fn_check_prepare_trace "ovsdb-data.at:255"
( $at_check_trace; test-ovsdb parse-atoms '["string"]' '[1]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "syntax \"1\": syntax error: expected string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:255"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_453
#AT_START_454
at_fn_group_banner 454 'ovsdb-data.at:255' \
  "integer not acceptable string JSON atom - Python" "" 35
at_xfail=no
(
  $as_echo "454. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:255" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:255"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:255: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"string\"]' '[1]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atoms '[\"string\"]' '[1]'" "ovsdb-data.at:255"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["string"]' '[1]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "syntax \"1\": syntax error: expected string
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:255"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_454
#AT_START_455
at_fn_group_banner 455 'ovsdb-data.at:259' \
  "uuid atom must be expressed as JSON array - C" "  " 35
at_xfail=no
(
  $as_echo "455. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:259: test-ovsdb parse-atoms '[\"uuid\"]' '[\"550e8400-e29b-41d4-a716-446655440000\"]'"
at_fn_check_prepare_trace "ovsdb-data.at:259"
( $at_check_trace; test-ovsdb parse-atoms '["uuid"]' '["550e8400-e29b-41d4-a716-446655440000"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "syntax \"\"550e8400-e29b-41d4-a716-446655440000\"\": syntax error: expected [\"uuid\", <string>]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:259"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_455
#AT_START_456
at_fn_group_banner 456 'ovsdb-data.at:259' \
  "uuid atom must be expressed as JSON array - Python" "" 35
at_xfail=no
(
  $as_echo "456. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:259" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:259"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:259: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[\"uuid\"]' '[\"550e8400-e29b-41d4-a716-446655440000\"]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-atoms '[\"uuid\"]' '[\"550e8400-e29b-41d4-a716-446655440000\"]'" "ovsdb-data.at:259"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '["uuid"]' '["550e8400-e29b-41d4-a716-446655440000"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "syntax \"\"550e8400-e29b-41d4-a716-446655440000\"\": syntax error: expected [\"uuid\", <string>]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:259"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_456
#AT_START_457
at_fn_group_banner 457 'ovsdb-data.at:263' \
  "empty string atom must be quoted" "               " 35
at_xfail=no
(
  $as_echo "457. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:263: test-ovsdb parse-atom-strings '[\"string\"]' ''"
at_fn_check_prepare_trace "ovsdb-data.at:263"
( $at_check_trace; test-ovsdb parse-atom-strings '["string"]' ''
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:263"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:263: if grep -F -e \"An empty string is not valid as input; use \\\"\\\" to represent the empty string\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:263"
( $at_check_trace; if grep -F -e "An empty string is not valid as input; use \"\" to represent the empty string" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:263"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_457
#AT_START_458
at_fn_group_banner 458 'ovsdb-data.at:267' \
  "quotes must be balanced" "                        " 35
at_xfail=no
(
  $as_echo "458. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:267: test-ovsdb parse-atom-strings '[\"string\"]' '\"asdf'"
at_fn_check_prepare_trace "ovsdb-data.at:267"
( $at_check_trace; test-ovsdb parse-atom-strings '["string"]' '"asdf'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:267"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:267: if grep -F -e \"\\\"asdf: missing quote at end of quoted string\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:267"
( $at_check_trace; if grep -F -e "\"asdf: missing quote at end of quoted string" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:267"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_458
#AT_START_459
at_fn_group_banner 459 'ovsdb-data.at:271' \
  "uuids must be valid" "                            " 35
at_xfail=no
(
  $as_echo "459. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:271: test-ovsdb parse-atom-strings '[\"uuid\"]' '1234-5678'"
at_fn_check_prepare_trace "ovsdb-data.at:271"
( $at_check_trace; test-ovsdb parse-atom-strings '["uuid"]' '1234-5678'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:271"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:271: if grep -F -e \"\\\"1234-5678\\\" is not a valid UUID\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:271"
( $at_check_trace; if grep -F -e "\"1234-5678\" is not a valid UUID" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:271"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_459
#AT_START_460
at_fn_group_banner 460 'ovsdb-data.at:277' \
  "integer atom enum - C" "                          " 36
at_xfail=no
(
  $as_echo "460. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:277: test-ovsdb parse-atoms '[{\"type\": \"integer\", \"enum\": [\"set\", [1, 6, 8, 10]]}]' \\
    '[0]' \\
    '[1]' \\
    '[2]' \\
    '[3]' \\
    '[6]' \\
    '[7]' \\
    '[8]' \\
    '[9]' \\
    '[10]' \\
    '[11]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:277"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "integer", "enum": ["set", [1, 6, 8, 10]]}]' \
    '[0]' \
    '[1]' \
    '[2]' \
    '[3]' \
    '[6]' \
    '[7]' \
    '[8]' \
    '[9]' \
    '[10]' \
    '[11]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is not one of the allowed values ([1, 6, 8, 10])
1
constraint violation: 2 is not one of the allowed values ([1, 6, 8, 10])
constraint violation: 3 is not one of the allowed values ([1, 6, 8, 10])
6
constraint violation: 7 is not one of the allowed values ([1, 6, 8, 10])
8
constraint violation: 9 is not one of the allowed values ([1, 6, 8, 10])
10
constraint violation: 11 is not one of the allowed values ([1, 6, 8, 10])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:277"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_460
#AT_START_461
at_fn_group_banner 461 'ovsdb-data.at:277' \
  "integer atom enum - Python" "                     " 36
at_xfail=no
(
  $as_echo "461. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:277" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:277"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:277: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"integer\", \"enum\": [\"set\", [1, 6, 8, 10]]}]' \\
    '[0]' \\
    '[1]' \\
    '[2]' \\
    '[3]' \\
    '[6]' \\
    '[7]' \\
    '[8]' \\
    '[9]' \\
    '[10]' \\
    '[11]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:277"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "integer", "enum": ["set", [1, 6, 8, 10]]}]' \
    '[0]' \
    '[1]' \
    '[2]' \
    '[3]' \
    '[6]' \
    '[7]' \
    '[8]' \
    '[9]' \
    '[10]' \
    '[11]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is not one of the allowed values ([1, 6, 8, 10])
1
constraint violation: 2 is not one of the allowed values ([1, 6, 8, 10])
constraint violation: 3 is not one of the allowed values ([1, 6, 8, 10])
6
constraint violation: 7 is not one of the allowed values ([1, 6, 8, 10])
8
constraint violation: 9 is not one of the allowed values ([1, 6, 8, 10])
10
constraint violation: 11 is not one of the allowed values ([1, 6, 8, 10])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:277"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_461
#AT_START_462
at_fn_group_banner 462 'ovsdb-data.at:300' \
  "real atom enum - C" "                             " 36
at_xfail=no
(
  $as_echo "462. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:300: test-ovsdb parse-atoms '[{\"type\": \"real\", \"enum\": [\"set\", [-1.5, 1.5]]}]' \\
    '[-2]' \\
    '[-1]' \\
    '[-1.5]' \\
    '[0]' \\
    '[1]' \\
    '[1.5]' \\
    '[2]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:300"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "real", "enum": ["set", [-1.5, 1.5]]}]' \
    '[-2]' \
    '[-1]' \
    '[-1.5]' \
    '[0]' \
    '[1]' \
    '[1.5]' \
    '[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: -2 is not one of the allowed values ([-1.5, 1.5])
constraint violation: -1 is not one of the allowed values ([-1.5, 1.5])
-1.5
constraint violation: 0 is not one of the allowed values ([-1.5, 1.5])
constraint violation: 1 is not one of the allowed values ([-1.5, 1.5])
1.5
constraint violation: 2 is not one of the allowed values ([-1.5, 1.5])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:300"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_462
#AT_START_463
at_fn_group_banner 463 'ovsdb-data.at:300' \
  "real atom enum - Python" "                        " 36
at_xfail=no
(
  $as_echo "463. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:300" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:300"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:300: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"real\", \"enum\": [\"set\", [-1.5, 1.5]]}]' \\
    '[-2]' \\
    '[-1]' \\
    '[-1.5]' \\
    '[0]' \\
    '[1]' \\
    '[1.5]' \\
    '[2]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:300"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "real", "enum": ["set", [-1.5, 1.5]]}]' \
    '[-2]' \
    '[-1]' \
    '[-1.5]' \
    '[0]' \
    '[1]' \
    '[1.5]' \
    '[2]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: -2 is not one of the allowed values ([-1.5, 1.5])
constraint violation: -1 is not one of the allowed values ([-1.5, 1.5])
-1.5
constraint violation: 0 is not one of the allowed values ([-1.5, 1.5])
constraint violation: 1 is not one of the allowed values ([-1.5, 1.5])
1.5
constraint violation: 2 is not one of the allowed values ([-1.5, 1.5])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:300"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_463
#AT_START_464
at_fn_group_banner 464 'ovsdb-data.at:317' \
  "boolean atom enum - C" "                          " 36
at_xfail=no
(
  $as_echo "464. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:317: test-ovsdb parse-atoms '[{\"type\": \"boolean\", \"enum\": false}]' \\
    '[false]' \\
    '[true]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:317"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "boolean", "enum": false}]' \
    '[false]' \
    '[true]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "false
constraint violation: true is not one of the allowed values ([false])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:317"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_464
#AT_START_465
at_fn_group_banner 465 'ovsdb-data.at:317' \
  "boolean atom enum - Python" "                     " 36
at_xfail=no
(
  $as_echo "465. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:317" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:317"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:317: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"boolean\", \"enum\": false}]' \\
    '[false]' \\
    '[true]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:317"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "boolean", "enum": false}]' \
    '[false]' \
    '[true]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "false
constraint violation: true is not one of the allowed values ([false])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:317"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_465
#AT_START_466
at_fn_group_banner 466 'ovsdb-data.at:324' \
  "string atom enum - C" "                           " 36
at_xfail=no
(
  $as_echo "466. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:324: test-ovsdb parse-atoms '[{\"type\": \"string\", \"enum\": [\"set\", [\"abc\", \"def\"]]}]' \\
    '[\"\"]' \\
    '[\"ab\"]' \\
    '[\"abc\"]' \\
    '[\"def\"]' \\
    '[\"defg\"]' \\
    '[\"DEF\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:324"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "string", "enum": ["set", ["abc", "def"]]}]' \
    '[""]' \
    '["ab"]' \
    '["abc"]' \
    '["def"]' \
    '["defg"]' \
    '["DEF"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: \"\" is not one of the allowed values ([abc, def])
constraint violation: ab is not one of the allowed values ([abc, def])
\"abc\"
\"def\"
constraint violation: defg is not one of the allowed values ([abc, def])
constraint violation: DEF is not one of the allowed values ([abc, def])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:324"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_466
#AT_START_467
at_fn_group_banner 467 'ovsdb-data.at:324' \
  "string atom enum - Python" "                      " 36
at_xfail=no
(
  $as_echo "467. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:324" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:324"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:324: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"string\", \"enum\": [\"set\", [\"abc\", \"def\"]]}]' \\
    '[\"\"]' \\
    '[\"ab\"]' \\
    '[\"abc\"]' \\
    '[\"def\"]' \\
    '[\"defg\"]' \\
    '[\"DEF\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:324"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "string", "enum": ["set", ["abc", "def"]]}]' \
    '[""]' \
    '["ab"]' \
    '["abc"]' \
    '["def"]' \
    '["defg"]' \
    '["DEF"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: \"\" is not one of the allowed values ([abc, def])
constraint violation: ab is not one of the allowed values ([abc, def])
\"abc\"
\"def\"
constraint violation: defg is not one of the allowed values ([abc, def])
constraint violation: DEF is not one of the allowed values ([abc, def])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:324"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_467
#AT_START_468
at_fn_group_banner 468 'ovsdb-data.at:339' \
  "uuid atom enum - C" "                             " 36
at_xfail=no
(
  $as_echo "468. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:339: test-ovsdb parse-atoms '[{\"type\": \"uuid\", \"enum\": [\"set\", [[\"uuid\", \"6d53a6dd-2da7-4924-9927-97f613812382\"], [\"uuid\", \"52cbc842-137a-4db5-804f-9f34106a0ba3\"]]]}]' \\
    '[\"uuid\", \"6d53a6dd-2da7-4924-9927-97f613812382\"]' \\
    '[\"uuid\", \"52cbc842-137a-4db5-804f-9f34106a0ba3\"]' \\
    '[\"uuid\", \"dab2a6b2-6094-4f43-a7ef-4c0f0608f176\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:339"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "uuid", "enum": ["set", [["uuid", "6d53a6dd-2da7-4924-9927-97f613812382"], ["uuid", "52cbc842-137a-4db5-804f-9f34106a0ba3"]]]}]' \
    '["uuid", "6d53a6dd-2da7-4924-9927-97f613812382"]' \
    '["uuid", "52cbc842-137a-4db5-804f-9f34106a0ba3"]' \
    '["uuid", "dab2a6b2-6094-4f43-a7ef-4c0f0608f176"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"uuid\",\"6d53a6dd-2da7-4924-9927-97f613812382\"]
[\"uuid\",\"52cbc842-137a-4db5-804f-9f34106a0ba3\"]
constraint violation: dab2a6b2-6094-4f43-a7ef-4c0f0608f176 is not one of the allowed values ([52cbc842-137a-4db5-804f-9f34106a0ba3, 6d53a6dd-2da7-4924-9927-97f613812382])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:339"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_468
#AT_START_469
at_fn_group_banner 469 'ovsdb-data.at:339' \
  "uuid atom enum - Python" "                        " 36
at_xfail=no
(
  $as_echo "469. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:339" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:339"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:339: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"uuid\", \"enum\": [\"set\", [[\"uuid\", \"6d53a6dd-2da7-4924-9927-97f613812382\"], [\"uuid\", \"52cbc842-137a-4db5-804f-9f34106a0ba3\"]]]}]' \\
    '[\"uuid\", \"6d53a6dd-2da7-4924-9927-97f613812382\"]' \\
    '[\"uuid\", \"52cbc842-137a-4db5-804f-9f34106a0ba3\"]' \\
    '[\"uuid\", \"dab2a6b2-6094-4f43-a7ef-4c0f0608f176\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:339"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "uuid", "enum": ["set", [["uuid", "6d53a6dd-2da7-4924-9927-97f613812382"], ["uuid", "52cbc842-137a-4db5-804f-9f34106a0ba3"]]]}]' \
    '["uuid", "6d53a6dd-2da7-4924-9927-97f613812382"]' \
    '["uuid", "52cbc842-137a-4db5-804f-9f34106a0ba3"]' \
    '["uuid", "dab2a6b2-6094-4f43-a7ef-4c0f0608f176"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"uuid\",\"6d53a6dd-2da7-4924-9927-97f613812382\"]
[\"uuid\",\"52cbc842-137a-4db5-804f-9f34106a0ba3\"]
constraint violation: dab2a6b2-6094-4f43-a7ef-4c0f0608f176 is not one of the allowed values ([52cbc842-137a-4db5-804f-9f34106a0ba3, 6d53a6dd-2da7-4924-9927-97f613812382])
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:339"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_469
#AT_START_470
at_fn_group_banner 470 'ovsdb-data.at:350' \
  "integers >= 5 - C" "                              " 37
at_xfail=no
(
  $as_echo "470. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:350: test-ovsdb parse-atoms '[{\"type\": \"integer\", \"minInteger\": 5}]' \\
    '[0]' \\
    '[4]' \\
    '[5]' \\
    '[6]' \\
    '[12345]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:350"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "integer", "minInteger": 5}]' \
    '[0]' \
    '[4]' \
    '[5]' \
    '[6]' \
    '[12345]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is less than minimum allowed value 5
constraint violation: 4 is less than minimum allowed value 5
5
6
12345
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:350"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_470
#AT_START_471
at_fn_group_banner 471 'ovsdb-data.at:350' \
  "integers >= 5 - Python" "                         " 37
at_xfail=no
(
  $as_echo "471. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:350" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:350"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:350: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"integer\", \"minInteger\": 5}]' \\
    '[0]' \\
    '[4]' \\
    '[5]' \\
    '[6]' \\
    '[12345]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:350"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "integer", "minInteger": 5}]' \
    '[0]' \
    '[4]' \
    '[5]' \
    '[6]' \
    '[12345]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is less than minimum allowed value 5
constraint violation: 4 is less than minimum allowed value 5
5
6
12345
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:350"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_471
#AT_START_472
at_fn_group_banner 472 'ovsdb-data.at:363' \
  "integers <= -1 - C" "                             " 37
at_xfail=no
(
  $as_echo "472. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:363: test-ovsdb parse-atoms '[{\"type\": \"integer\", \"maxInteger\": -1}]' \\
    '[0]' \\
    '[-1]' \\
    '[-2]' \\
    '[-123]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:363"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "integer", "maxInteger": -1}]' \
    '[0]' \
    '[-1]' \
    '[-2]' \
    '[-123]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is greater than maximum allowed value -1
-1
-2
-123
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:363"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_472
#AT_START_473
at_fn_group_banner 473 'ovsdb-data.at:363' \
  "integers <= -1 - Python" "                        " 37
at_xfail=no
(
  $as_echo "473. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:363" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:363"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:363: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"integer\", \"maxInteger\": -1}]' \\
    '[0]' \\
    '[-1]' \\
    '[-2]' \\
    '[-123]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:363"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "integer", "maxInteger": -1}]' \
    '[0]' \
    '[-1]' \
    '[-2]' \
    '[-123]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is greater than maximum allowed value -1
-1
-2
-123
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:363"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_473
#AT_START_474
at_fn_group_banner 474 'ovsdb-data.at:374' \
  "integers in range -10 to 10 - C" "                " 37
at_xfail=no
(
  $as_echo "474. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:374: test-ovsdb parse-atoms '[{\"type\": \"integer\", \"minInteger\": -10, \"maxInteger\": 10}]' \\
    '[-20]' \\
    '[-11]' \\
    '[-10]' \\
    '[-9]' \\
    '[1]' \\
    '[9]' \\
    '[10]' \\
    '[11]' \\
    '[123576]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:374"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "integer", "minInteger": -10, "maxInteger": 10}]' \
    '[-20]' \
    '[-11]' \
    '[-10]' \
    '[-9]' \
    '[1]' \
    '[9]' \
    '[10]' \
    '[11]' \
    '[123576]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: -20 is not in the valid range -10 to 10 (inclusive)
constraint violation: -11 is not in the valid range -10 to 10 (inclusive)
-10
-9
1
9
10
constraint violation: 11 is not in the valid range -10 to 10 (inclusive)
constraint violation: 123576 is not in the valid range -10 to 10 (inclusive)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:374"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_474
#AT_START_475
at_fn_group_banner 475 'ovsdb-data.at:374' \
  "integers in range -10 to 10 - Python" "           " 37
at_xfail=no
(
  $as_echo "475. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:374" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:374"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:374: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"integer\", \"minInteger\": -10, \"maxInteger\": 10}]' \\
    '[-20]' \\
    '[-11]' \\
    '[-10]' \\
    '[-9]' \\
    '[1]' \\
    '[9]' \\
    '[10]' \\
    '[11]' \\
    '[123576]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:374"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "integer", "minInteger": -10, "maxInteger": 10}]' \
    '[-20]' \
    '[-11]' \
    '[-10]' \
    '[-9]' \
    '[1]' \
    '[9]' \
    '[10]' \
    '[11]' \
    '[123576]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: -20 is not in the valid range -10 to 10 (inclusive)
constraint violation: -11 is not in the valid range -10 to 10 (inclusive)
-10
-9
1
9
10
constraint violation: 11 is not in the valid range -10 to 10 (inclusive)
constraint violation: 123576 is not in the valid range -10 to 10 (inclusive)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:374"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_475
#AT_START_476
at_fn_group_banner 476 'ovsdb-data.at:395' \
  "reals >= 5 - C" "                                 " 37
at_xfail=no
(
  $as_echo "476. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:395: test-ovsdb parse-atoms '[{\"type\": \"real\", \"minReal\": 5}]' \\
    '[0]' \\
    '[4]' \\
    '[5]' \\
    '[6]' \\
    '[12345]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:395"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "real", "minReal": 5}]' \
    '[0]' \
    '[4]' \
    '[5]' \
    '[6]' \
    '[12345]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is less than minimum allowed value 5
constraint violation: 4 is less than minimum allowed value 5
5
6
12345
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:395"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_476
#AT_START_477
at_fn_group_banner 477 'ovsdb-data.at:395' \
  "reals >= 5 - Python" "                            " 37
at_xfail=no
(
  $as_echo "477. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:395" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:395"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:395: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"real\", \"minReal\": 5}]' \\
    '[0]' \\
    '[4]' \\
    '[5]' \\
    '[6]' \\
    '[12345]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:395"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "real", "minReal": 5}]' \
    '[0]' \
    '[4]' \
    '[5]' \
    '[6]' \
    '[12345]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is less than minimum allowed value 5
constraint violation: 4 is less than minimum allowed value 5
5
6
12345
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:395"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_477
#AT_START_478
at_fn_group_banner 478 'ovsdb-data.at:408' \
  "reals <= -1 - C" "                                " 37
at_xfail=no
(
  $as_echo "478. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:408: test-ovsdb parse-atoms '[{\"type\": \"real\", \"maxReal\": -1}]' \\
    '[0]' \\
    '[-1]' \\
    '[-2]' \\
    '[-123]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:408"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "real", "maxReal": -1}]' \
    '[0]' \
    '[-1]' \
    '[-2]' \
    '[-123]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is greater than maximum allowed value -1
-1
-2
-123
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:408"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_478
#AT_START_479
at_fn_group_banner 479 'ovsdb-data.at:408' \
  "reals <= -1 - Python" "                           " 37
at_xfail=no
(
  $as_echo "479. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:408" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:408"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:408: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"real\", \"maxReal\": -1}]' \\
    '[0]' \\
    '[-1]' \\
    '[-2]' \\
    '[-123]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:408"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "real", "maxReal": -1}]' \
    '[0]' \
    '[-1]' \
    '[-2]' \
    '[-123]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: 0 is greater than maximum allowed value -1
-1
-2
-123
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:408"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_479
#AT_START_480
at_fn_group_banner 480 'ovsdb-data.at:419' \
  "reals in range -10 to 10 - C" "                   " 37
at_xfail=no
(
  $as_echo "480. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:419: test-ovsdb parse-atoms '[{\"type\": \"real\", \"minReal\": -10, \"maxReal\": 10}]' \\
    '[-20]' \\
    '[-11]' \\
    '[-10]' \\
    '[-9]' \\
    '[1]' \\
    '[9]' \\
    '[10]' \\
    '[11]' \\
    '[123576]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:419"
( $at_check_trace; test-ovsdb parse-atoms '[{"type": "real", "minReal": -10, "maxReal": 10}]' \
    '[-20]' \
    '[-11]' \
    '[-10]' \
    '[-9]' \
    '[1]' \
    '[9]' \
    '[10]' \
    '[11]' \
    '[123576]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: -20 is not in the valid range -10 to 10 (inclusive)
constraint violation: -11 is not in the valid range -10 to 10 (inclusive)
-10
-9
1
9
10
constraint violation: 11 is not in the valid range -10 to 10 (inclusive)
constraint violation: 123576 is not in the valid range -10 to 10 (inclusive)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:419"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_480
#AT_START_481
at_fn_group_banner 481 'ovsdb-data.at:419' \
  "reals in range -10 to 10 - Python" "              " 37
at_xfail=no
(
  $as_echo "481. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:419" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:419"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:419: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '[{\"type\": \"real\", \"minReal\": -10, \"maxReal\": 10}]' \\
    '[-20]' \\
    '[-11]' \\
    '[-10]' \\
    '[-9]' \\
    '[1]' \\
    '[9]' \\
    '[10]' \\
    '[11]' \\
    '[123576]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:419"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '[{"type": "real", "minReal": -10, "maxReal": 10}]' \
    '[-20]' \
    '[-11]' \
    '[-10]' \
    '[-9]' \
    '[1]' \
    '[9]' \
    '[10]' \
    '[11]' \
    '[123576]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: -20 is not in the valid range -10 to 10 (inclusive)
constraint violation: -11 is not in the valid range -10 to 10 (inclusive)
-10
-9
1
9
10
constraint violation: 11 is not in the valid range -10 to 10 (inclusive)
constraint violation: 123576 is not in the valid range -10 to 10 (inclusive)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:419"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_481
#AT_START_482
at_fn_group_banner 482 'ovsdb-data.at:440' \
  "strings at least 2 characters long - C" "         " 37
at_xfail=no
(
  $as_echo "482. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:440: test-ovsdb parse-atoms '{\"type\": \"string\", \"minLength\": 2}' \\
    '[\"\"]' \\
    '[\"a\"]' \\
    '[\"ab\"]' \\
    '[\"abc\"]' \\
    '[\"\\ud834\\udd1e\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:440"
( $at_check_trace; test-ovsdb parse-atoms '{"type": "string", "minLength": 2}' \
    '[""]' \
    '["a"]' \
    '["ab"]' \
    '["abc"]' \
    '["\ud834\udd1e"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: \"\" length 0 is less than minimum allowed length 2
constraint violation: \"a\" length 1 is less than minimum allowed length 2
\"ab\"
\"abc\"
constraint violation: \"\" length 1 is less than minimum allowed length 2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:440"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_482
#AT_START_483
at_fn_group_banner 483 'ovsdb-data.at:440' \
  "strings at least 2 characters long - Python" "    " 37
at_xfail=yes
(
  $as_echo "483. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:440" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:440"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:440: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '{\"type\": \"string\", \"minLength\": 2}' \\
    '[\"\"]' \\
    '[\"a\"]' \\
    '[\"ab\"]' \\
    '[\"abc\"]' \\
    '[\"\\ud834\\udd1e\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:440"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '{"type": "string", "minLength": 2}' \
    '[""]' \
    '["a"]' \
    '["ab"]' \
    '["abc"]' \
    '["\ud834\udd1e"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "constraint violation: \"\" length 0 is less than minimum allowed length 2
constraint violation: \"a\" length 1 is less than minimum allowed length 2
\"ab\"
\"abc\"
constraint violation: \"\" length 1 is less than minimum allowed length 2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:440"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_483
#AT_START_484
at_fn_group_banner 484 'ovsdb-data.at:454' \
  "strings no more than 2 characters long - C" "     " 37
at_xfail=no
(
  $as_echo "484. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:454: test-ovsdb parse-atoms '{\"type\": \"string\", \"maxLength\": 2}' \\
    '[\"\"]' \\
    '[\"a\"]' \\
    '[\"ab\"]' \\
    '[\"abc\"]' \\
    '[\"\\ud834\\udd1e\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:454"
( $at_check_trace; test-ovsdb parse-atoms '{"type": "string", "maxLength": 2}' \
    '[""]' \
    '["a"]' \
    '["ab"]' \
    '["abc"]' \
    '["\ud834\udd1e"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"\"
\"a\"
\"ab\"
constraint violation: \"abc\" length 3 is greater than maximum allowed length 2
\"\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:454"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_484
#AT_START_485
at_fn_group_banner 485 'ovsdb-data.at:454' \
  "strings no more than 2 characters long - Python" "" 37
at_xfail=no
(
  $as_echo "485. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:454" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:454"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:454: \$PYTHON \$srcdir/test-ovsdb.py parse-atoms '{\"type\": \"string\", \"maxLength\": 2}' \\
    '[\"\"]' \\
    '[\"a\"]' \\
    '[\"ab\"]' \\
    '[\"abc\"]' \\
    '[\"\\ud834\\udd1e\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:454"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-atoms '{"type": "string", "maxLength": 2}' \
    '[""]' \
    '["a"]' \
    '["ab"]' \
    '["abc"]' \
    '["\ud834\udd1e"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"\"
\"a\"
\"ab\"
constraint violation: \"abc\" length 3 is greater than maximum allowed length 2
\"\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:454"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_485
#AT_START_486
at_fn_group_banner 486 'ovsdb-data.at:469' \
  "integer JSON datum - C" "                         " 38
at_xfail=no
(
  $as_echo "486. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:469: test-ovsdb parse-data '[\"integer\"]' '[0]' '[\"set\",[1]]' '[-1]'"
at_fn_check_prepare_trace "ovsdb-data.at:469"
( $at_check_trace; test-ovsdb parse-data '["integer"]' '[0]' '["set",[1]]' '[-1]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
1
-1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:469"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_486
#AT_START_487
at_fn_group_banner 487 'ovsdb-data.at:469' \
  "integer JSON datum - Python" "                    " 38
at_xfail=no
(
  $as_echo "487. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:469" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:469"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:469: \$PYTHON \$srcdir/test-ovsdb.py parse-data '[\"integer\"]' '[0]' '[\"set\",[1]]' '[-1]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-data '[\"integer\"]' '[0]' '[\"set\",[1]]' '[-1]'" "ovsdb-data.at:469"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '["integer"]' '[0]' '["set",[1]]' '[-1]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
1
-1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:469"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_487
#AT_START_488
at_fn_group_banner 488 'ovsdb-data.at:475' \
  "integer string datum" "                           " 38
at_xfail=no
(
  $as_echo "488. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:475: test-ovsdb parse-data-strings -- '[\"integer\"]' '0' '1' '-1' '+1'"
at_fn_check_prepare_trace "ovsdb-data.at:475"
( $at_check_trace; test-ovsdb parse-data-strings -- '["integer"]' '0' '1' '-1' '+1'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
1
-1
1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:475"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_488
#AT_START_489
at_fn_group_banner 489 'ovsdb-data.at:482' \
  "real JSON datum - C" "                            " 38
at_xfail=no
(
  $as_echo "489. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:482: test-ovsdb parse-data '[\"real\"]' '[0]' '[\"set\",[1.0]]' '[-1.25]'"
at_fn_check_prepare_trace "ovsdb-data.at:482"
( $at_check_trace; test-ovsdb parse-data '["real"]' '[0]' '["set",[1.0]]' '[-1.25]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
1
-1.25
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:482"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_489
#AT_START_490
at_fn_group_banner 490 'ovsdb-data.at:482' \
  "real JSON datum - Python" "                       " 38
at_xfail=no
(
  $as_echo "490. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:482" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:482"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:482: \$PYTHON \$srcdir/test-ovsdb.py parse-data '[\"real\"]' '[0]' '[\"set\",[1.0]]' '[-1.25]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-data '[\"real\"]' '[0]' '[\"set\",[1.0]]' '[-1.25]'" "ovsdb-data.at:482"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '["real"]' '[0]' '["set",[1.0]]' '[-1.25]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
1
-1.25
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:482"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_490
#AT_START_491
at_fn_group_banner 491 'ovsdb-data.at:488' \
  "real string datum" "                              " 38
at_xfail=no
(
  $as_echo "491. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:488: test-ovsdb parse-data-strings -- '[\"real\"]' '0' '1.0' '-1.25'"
at_fn_check_prepare_trace "ovsdb-data.at:488"
( $at_check_trace; test-ovsdb parse-data-strings -- '["real"]' '0' '1.0' '-1.25'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
1
-1.25
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:488"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_491
#AT_START_492
at_fn_group_banner 492 'ovsdb-data.at:494' \
  "boolean JSON datum - C" "                         " 38
at_xfail=no
(
  $as_echo "492. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:494: test-ovsdb parse-data '[\"boolean\"]' '[\"set\", [true]]' '[false]' "
at_fn_check_prepare_trace "ovsdb-data.at:494"
( $at_check_trace; test-ovsdb parse-data '["boolean"]' '["set", [true]]' '[false]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:494"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_492
#AT_START_493
at_fn_group_banner 493 'ovsdb-data.at:494' \
  "boolean JSON datum - Python" "                    " 38
at_xfail=no
(
  $as_echo "493. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:494" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:494"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:494: \$PYTHON \$srcdir/test-ovsdb.py parse-data '[\"boolean\"]' '[\"set\", [true]]' '[false]' "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-data '[\"boolean\"]' '[\"set\", [true]]' '[false]' " "ovsdb-data.at:494"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '["boolean"]' '["set", [true]]' '[false]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:494"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_493
#AT_START_494
at_fn_group_banner 494 'ovsdb-data.at:499' \
  "boolean string datum" "                           " 38
at_xfail=no
(
  $as_echo "494. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:499: test-ovsdb parse-data-strings '[\"boolean\"]' 'true' 'false' "
at_fn_check_prepare_trace "ovsdb-data.at:499"
( $at_check_trace; test-ovsdb parse-data-strings '["boolean"]' 'true' 'false'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:499"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_494
#AT_START_495
at_fn_group_banner 495 'ovsdb-data.at:504' \
  "string JSON datum - C" "                          " 38
at_xfail=no
(
  $as_echo "495. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:504: test-ovsdb parse-data '[\"string\"]' '[\"set\",[\"\"]]' '[\"true\"]' '[\"\\\"\\\\\\/\\b\\f\\n\\r\\t\"]'"
at_fn_check_prepare_trace "ovsdb-data.at:504"
( $at_check_trace; test-ovsdb parse-data '["string"]' '["set",[""]]' '["true"]' '["\"\\\/\b\f\n\r\t"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"\"
\"true\"
\"\\\"\\\\/\\b\\f\\n\\r\\t\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:504"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_495
#AT_START_496
at_fn_group_banner 496 'ovsdb-data.at:504' \
  "string JSON datum - Python" "                     " 38
at_xfail=no
(
  $as_echo "496. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:504" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:504"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:504: \$PYTHON \$srcdir/test-ovsdb.py parse-data '[\"string\"]' '[\"set\",[\"\"]]' '[\"true\"]' '[\"\\\"\\\\\\/\\b\\f\\n\\r\\t\"]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-data '[\"string\"]' '[\"set\",[\"\"]]' '[\"true\"]' '[\"\\\"\\\\\\/\\b\\f\\n\\r\\t\"]'" "ovsdb-data.at:504"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '["string"]' '["set",[""]]' '["true"]' '["\"\\\/\b\f\n\r\t"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"\"
\"true\"
\"\\\"\\\\/\\b\\f\\n\\r\\t\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:504"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_496
#AT_START_497
at_fn_group_banner 497 'ovsdb-data.at:510' \
  "string string datum" "                            " 38
at_xfail=no
(
  $as_echo "497. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:510: test-ovsdb parse-data-strings '[\"string\"]' '\"x\"' '\"\"' '\"true\"' '\"\\\"\\\\\\/\\b\\f\\n\\r\\t\"'"
at_fn_check_prepare_trace "ovsdb-data.at:510"
( $at_check_trace; test-ovsdb parse-data-strings '["string"]' '"x"' '""' '"true"' '"\"\\\/\b\f\n\r\t"'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "x
\"\"
\"true\"
\"\\\"\\\\/\\b\\f\\n\\r\\t\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:510"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_497
#AT_START_498
at_fn_group_banner 498 'ovsdb-data.at:519' \
  "JSON optional boolean - C" "                      " 39
at_xfail=no
(
  $as_echo "498. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:519: test-ovsdb parse-data '{\"key\": \"boolean\", \"min\": 0}' \\
    '[true]' \\
    '[\"set\", [false]]' \\
    '[\"set\", []]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:519"
( $at_check_trace; test-ovsdb parse-data '{"key": "boolean", "min": 0}' \
    '[true]' \
    '["set", [false]]' \
    '["set", []]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
[\"set\",[]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:519"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_498
#AT_START_499
at_fn_group_banner 499 'ovsdb-data.at:519' \
  "JSON optional boolean - Python" "                 " 39
at_xfail=no
(
  $as_echo "499. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:519" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:519"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:519: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"boolean\", \"min\": 0}' \\
    '[true]' \\
    '[\"set\", [false]]' \\
    '[\"set\", []]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:519"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "boolean", "min": 0}' \
    '[true]' \
    '["set", [false]]' \
    '["set", []]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
[\"set\",[]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:519"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_499
#AT_START_500
at_fn_group_banner 500 'ovsdb-data.at:529' \
  "string optional boolean" "                        " 39
at_xfail=no
(
  $as_echo "500. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:529: test-ovsdb parse-data-strings '{\"key\": \"boolean\", \"min\": 0}' \\
    'true' \\
    'false' \\
    '[]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:529"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "boolean", "min": 0}' \
    'true' \
    'false' \
    '[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true
false
[]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:529"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_500
#AT_START_501
at_fn_group_banner 501 'ovsdb-data.at:539' \
  "JSON set of 0 or more integers - C" "             " 39
at_xfail=no
(
  $as_echo "501. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:539: test-ovsdb parse-data '{\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}' \\
    '[\"set\", [0]]' \\
    '[1]' \\
    '[\"set\", [0, 1]]' \\
    '[\"set\", [0, 1, 2]]' \\
    '[\"set\", [0, 1, 2, 3, 4, 5]]' \\
    '[\"set\", [0, 1, 2, 3, 4, 5, 6, 7, 8]]' \\
    '[\"set\", [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:539"
( $at_check_trace; test-ovsdb parse-data '{"key": "integer", "min": 0, "max": "unlimited"}' \
    '["set", [0]]' \
    '[1]' \
    '["set", [0, 1]]' \
    '["set", [0, 1, 2]]' \
    '["set", [0, 1, 2, 3, 4, 5]]' \
    '["set", [0, 1, 2, 3, 4, 5, 6, 7, 8]]' \
    '["set", [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
1
[\"set\",[0,1]]
[\"set\",[0,1,2]]
[\"set\",[0,1,2,3,4,5]]
[\"set\",[0,1,2,3,4,5,6,7,8]]
[\"set\",[0,1,2,3,4,5,6,7,8,9,10]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:539"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_501
#AT_START_502
at_fn_group_banner 502 'ovsdb-data.at:539' \
  "JSON set of 0 or more integers - Python" "        " 39
at_xfail=no
(
  $as_echo "502. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:539" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:539"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:539: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}' \\
    '[\"set\", [0]]' \\
    '[1]' \\
    '[\"set\", [0, 1]]' \\
    '[\"set\", [0, 1, 2]]' \\
    '[\"set\", [0, 1, 2, 3, 4, 5]]' \\
    '[\"set\", [0, 1, 2, 3, 4, 5, 6, 7, 8]]' \\
    '[\"set\", [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:539"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "min": 0, "max": "unlimited"}' \
    '["set", [0]]' \
    '[1]' \
    '["set", [0, 1]]' \
    '["set", [0, 1, 2]]' \
    '["set", [0, 1, 2, 3, 4, 5]]' \
    '["set", [0, 1, 2, 3, 4, 5, 6, 7, 8]]' \
    '["set", [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
1
[\"set\",[0,1]]
[\"set\",[0,1,2]]
[\"set\",[0,1,2,3,4,5]]
[\"set\",[0,1,2,3,4,5,6,7,8]]
[\"set\",[0,1,2,3,4,5,6,7,8,9,10]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:539"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_502
#AT_START_503
at_fn_group_banner 503 'ovsdb-data.at:556' \
  "string set of 0 or more integers" "               " 39
at_xfail=no
(
  $as_echo "503. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:556: test-ovsdb parse-data-strings '{\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}' \\
    '0' \\
    '0,1' \\
    '0, 1, 2' \\
    '[0, 1,2, 3, 4, 5]' \\
    '0, 1,2, 3,4, 5, 6, 7, 8' \\
    '[0, 1, 2, 3, 4,5, 6,7, 8, 9, 10]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:556"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "integer", "min": 0, "max": "unlimited"}' \
    '0' \
    '0,1' \
    '0, 1, 2' \
    '[0, 1,2, 3, 4, 5]' \
    '0, 1,2, 3,4, 5, 6, 7, 8' \
    '[0, 1, 2, 3, 4,5, 6,7, 8, 9, 10]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[0]
[0, 1]
[0, 1, 2]
[0, 1, 2, 3, 4, 5]
[0, 1, 2, 3, 4, 5, 6, 7, 8]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:556"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_503
#AT_START_504
at_fn_group_banner 504 'ovsdb-data.at:571' \
  "JSON set of 1 to 3 uuids - C" "                   " 39
at_xfail=no
(
  $as_echo "504. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:571: test-ovsdb parse-data '{\"key\": \"uuid\", \"min\": 1, \"max\": 3}' \\
    '[\"set\", [[\"uuid\", \"550e8400-e29b-41d4-a716-446655440000\"]]]' \\
    '[\"uuid\", \"b5078be0-7664-4299-b836-8bcc03ef941f\"]' \\
    '[\"set\", [[\"uuid\", \"c5051240-30ff-43ed-b4b9-93cf3f050813\"],
              [\"uuid\", \"90558331-09af-4d2f-a572-509cad2e9088\"],
              [\"uuid\", \"550e8400-e29b-41d4-a716-446655440000\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:571"
( $at_check_trace; test-ovsdb parse-data '{"key": "uuid", "min": 1, "max": 3}' \
    '["set", [["uuid", "550e8400-e29b-41d4-a716-446655440000"]]]' \
    '["uuid", "b5078be0-7664-4299-b836-8bcc03ef941f"]' \
    '["set", [["uuid", "c5051240-30ff-43ed-b4b9-93cf3f050813"],
              ["uuid", "90558331-09af-4d2f-a572-509cad2e9088"],
              ["uuid", "550e8400-e29b-41d4-a716-446655440000"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"uuid\",\"550e8400-e29b-41d4-a716-446655440000\"]
[\"uuid\",\"b5078be0-7664-4299-b836-8bcc03ef941f\"]
[\"set\",[[\"uuid\",\"550e8400-e29b-41d4-a716-446655440000\"],[\"uuid\",\"90558331-09af-4d2f-a572-509cad2e9088\"],[\"uuid\",\"c5051240-30ff-43ed-b4b9-93cf3f050813\"]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:571"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_504
#AT_START_505
at_fn_group_banner 505 'ovsdb-data.at:571' \
  "JSON set of 1 to 3 uuids - Python" "              " 39
at_xfail=no
(
  $as_echo "505. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:571" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:571"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:571: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"uuid\", \"min\": 1, \"max\": 3}' \\
    '[\"set\", [[\"uuid\", \"550e8400-e29b-41d4-a716-446655440000\"]]]' \\
    '[\"uuid\", \"b5078be0-7664-4299-b836-8bcc03ef941f\"]' \\
    '[\"set\", [[\"uuid\", \"c5051240-30ff-43ed-b4b9-93cf3f050813\"],
              [\"uuid\", \"90558331-09af-4d2f-a572-509cad2e9088\"],
              [\"uuid\", \"550e8400-e29b-41d4-a716-446655440000\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:571"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "uuid", "min": 1, "max": 3}' \
    '["set", [["uuid", "550e8400-e29b-41d4-a716-446655440000"]]]' \
    '["uuid", "b5078be0-7664-4299-b836-8bcc03ef941f"]' \
    '["set", [["uuid", "c5051240-30ff-43ed-b4b9-93cf3f050813"],
              ["uuid", "90558331-09af-4d2f-a572-509cad2e9088"],
              ["uuid", "550e8400-e29b-41d4-a716-446655440000"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"uuid\",\"550e8400-e29b-41d4-a716-446655440000\"]
[\"uuid\",\"b5078be0-7664-4299-b836-8bcc03ef941f\"]
[\"set\",[[\"uuid\",\"550e8400-e29b-41d4-a716-446655440000\"],[\"uuid\",\"90558331-09af-4d2f-a572-509cad2e9088\"],[\"uuid\",\"c5051240-30ff-43ed-b4b9-93cf3f050813\"]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:571"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_505
#AT_START_506
at_fn_group_banner 506 'ovsdb-data.at:582' \
  "string set of 1 to 3 uuids" "                     " 39
at_xfail=no
(
  $as_echo "506. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:582: test-ovsdb parse-data-strings '{\"key\": \"uuid\", \"min\": 1, \"max\": 3}' \\
    '[550e8400-e29b-41d4-a716-446655440000]' \\
    '[c5051240-30ff-43ed-b4b9-93cf3f050813,
      90558331-09af-4d2f-a572-509cad2e9088,
      550e8400-e29b-41d4-a716-446655440000]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:582"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "uuid", "min": 1, "max": 3}' \
    '[550e8400-e29b-41d4-a716-446655440000]' \
    '[c5051240-30ff-43ed-b4b9-93cf3f050813,
      90558331-09af-4d2f-a572-509cad2e9088,
      550e8400-e29b-41d4-a716-446655440000]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[550e8400-e29b-41d4-a716-446655440000]
[550e8400-e29b-41d4-a716-446655440000, 90558331-09af-4d2f-a572-509cad2e9088, c5051240-30ff-43ed-b4b9-93cf3f050813]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:582"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_506
#AT_START_507
at_fn_group_banner 507 'ovsdb-data.at:591' \
  "JSON set of 0 to 3 strings - C" "                 " 39
at_xfail=no
(
  $as_echo "507. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:591: test-ovsdb parse-data '{\"key\": \"string\", \"min\": 0, \"max\": 3}' \\
    '[\"set\", []]' \\
    '[\"a longer string\"]' \\
    '[\"set\", [\"a relatively long string\"]]' \\
    '[\"set\", [\"short string\", \"a relatively long string\"]]' \\
    '[\"set\", [\"zzz\", \"short string\", \"a relatively long string\"]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:591"
( $at_check_trace; test-ovsdb parse-data '{"key": "string", "min": 0, "max": 3}' \
    '["set", []]' \
    '["a longer string"]' \
    '["set", ["a relatively long string"]]' \
    '["set", ["short string", "a relatively long string"]]' \
    '["set", ["zzz", "short string", "a relatively long string"]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"set\",[]]
\"a longer string\"
\"a relatively long string\"
[\"set\",[\"a relatively long string\",\"short string\"]]
[\"set\",[\"a relatively long string\",\"short string\",\"zzz\"]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:591"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_507
#AT_START_508
at_fn_group_banner 508 'ovsdb-data.at:591' \
  "JSON set of 0 to 3 strings - Python" "            " 39
at_xfail=no
(
  $as_echo "508. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:591" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:591"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:591: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"string\", \"min\": 0, \"max\": 3}' \\
    '[\"set\", []]' \\
    '[\"a longer string\"]' \\
    '[\"set\", [\"a relatively long string\"]]' \\
    '[\"set\", [\"short string\", \"a relatively long string\"]]' \\
    '[\"set\", [\"zzz\", \"short string\", \"a relatively long string\"]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:591"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "string", "min": 0, "max": 3}' \
    '["set", []]' \
    '["a longer string"]' \
    '["set", ["a relatively long string"]]' \
    '["set", ["short string", "a relatively long string"]]' \
    '["set", ["zzz", "short string", "a relatively long string"]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"set\",[]]
\"a longer string\"
\"a relatively long string\"
[\"set\",[\"a relatively long string\",\"short string\"]]
[\"set\",[\"a relatively long string\",\"short string\",\"zzz\"]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:591"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_508
#AT_START_509
at_fn_group_banner 509 'ovsdb-data.at:604' \
  "string set of 0 to 3 strings" "                   " 39
at_xfail=no
(
  $as_echo "509. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:604: test-ovsdb parse-data-strings '{\"key\": \"string\", \"min\": 0, \"max\": 3}' \\
    '[]' \\
    '\"a relatively long string\"' \\
    '[\"short string\", \"a relatively long string\"]' \\
    '\"zzz\",\"short string\",\"a relatively long string\"'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:604"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "string", "min": 0, "max": 3}' \
    '[]' \
    '"a relatively long string"' \
    '["short string", "a relatively long string"]' \
    '"zzz","short string","a relatively long string"'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[]
[\"a relatively long string\"]
[\"a relatively long string\", \"short string\"]
[\"a relatively long string\", \"short string\", zzz]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:604"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_509
#AT_START_510
at_fn_group_banner 510 'ovsdb-data.at:615' \
  "duplicate boolean not allowed in JSON set - C" "  " 39
at_xfail=no
(
  $as_echo "510. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:615: test-ovsdb parse-data '{\"key\": \"boolean\", \"max\": 5}' '[\"set\", [true, true]]'"
at_fn_check_prepare_trace "ovsdb-data.at:615"
( $at_check_trace; test-ovsdb parse-data '{"key": "boolean", "max": 5}' '["set", [true, true]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:615"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:615: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:615"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:615"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_510
#AT_START_511
at_fn_group_banner 511 'ovsdb-data.at:615' \
  "duplicate boolean not allowed in JSON set - Python" "" 39
at_xfail=no
(
  $as_echo "511. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:615" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:615"

   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:615: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"boolean\", \"max\": 5}' '[\"set\", [true, true]]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-data '{\"key\": \"boolean\", \"max\": 5}' '[\"set\", [true, true]]'" "ovsdb-data.at:615"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "boolean", "max": 5}' '["set", [true, true]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:615"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:615: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:615"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:615"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_511
#AT_START_512
at_fn_group_banner 512 'ovsdb-data.at:619' \
  "duplicate boolean not allowed in string set" "    " 39
at_xfail=no
(
  $as_echo "512. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:619: test-ovsdb parse-data-strings '{\"key\": \"boolean\", \"max\": 5}' 'true, true'"
at_fn_check_prepare_trace "ovsdb-data.at:619"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "boolean", "max": 5}' 'true, true'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:619"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:619: if grep -F -e \"set contains duplicate value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:619"
( $at_check_trace; if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:619"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_512
#AT_START_513
at_fn_group_banner 513 'ovsdb-data.at:623' \
  "duplicate integer not allowed in JSON set - C" "  " 39
at_xfail=no
(
  $as_echo "513. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:623: test-ovsdb parse-data '{\"key\": \"integer\", \"max\": 5}' '[\"set\", [1, 2, 3, 1]]'"
at_fn_check_prepare_trace "ovsdb-data.at:623"
( $at_check_trace; test-ovsdb parse-data '{"key": "integer", "max": 5}' '["set", [1, 2, 3, 1]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:623"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:623: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:623"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:623"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_513
#AT_START_514
at_fn_group_banner 514 'ovsdb-data.at:623' \
  "duplicate integer not allowed in JSON set - Python" "" 39
at_xfail=no
(
  $as_echo "514. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:623" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:623"

   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:623: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"integer\", \"max\": 5}' '[\"set\", [1, 2, 3, 1]]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-data '{\"key\": \"integer\", \"max\": 5}' '[\"set\", [1, 2, 3, 1]]'" "ovsdb-data.at:623"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "max": 5}' '["set", [1, 2, 3, 1]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:623"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:623: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:623"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:623"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_514
#AT_START_515
at_fn_group_banner 515 'ovsdb-data.at:627' \
  "duplicate integer not allowed in string set" "    " 39
at_xfail=no
(
  $as_echo "515. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:627: test-ovsdb parse-data-strings '{\"key\": \"integer\", \"max\": 5}' '[1, 2, 3, 1]'"
at_fn_check_prepare_trace "ovsdb-data.at:627"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "integer", "max": 5}' '[1, 2, 3, 1]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:627"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:627: if grep -F -e \"set contains duplicate value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:627"
( $at_check_trace; if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:627"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_515
#AT_START_516
at_fn_group_banner 516 'ovsdb-data.at:631' \
  "duplicate real not allowed in JSON set - C" "     " 39
at_xfail=no
(
  $as_echo "516. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:631: test-ovsdb parse-data '{\"key\": \"real\", \"max\": 5}' '[\"set\", [0.0, -0.0]]'"
at_fn_check_prepare_trace "ovsdb-data.at:631"
( $at_check_trace; test-ovsdb parse-data '{"key": "real", "max": 5}' '["set", [0.0, -0.0]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:631"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:631: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:631"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:631"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_516
#AT_START_517
at_fn_group_banner 517 'ovsdb-data.at:631' \
  "duplicate real not allowed in JSON set - Python" "" 39
at_xfail=no
(
  $as_echo "517. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:631" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:631"

   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:631: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"real\", \"max\": 5}' '[\"set\", [0.0, -0.0]]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-data '{\"key\": \"real\", \"max\": 5}' '[\"set\", [0.0, -0.0]]'" "ovsdb-data.at:631"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "real", "max": 5}' '["set", [0.0, -0.0]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:631"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:631: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:631"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:631"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_517
#AT_START_518
at_fn_group_banner 518 'ovsdb-data.at:635' \
  "duplicate real not allowed in string set" "       " 39
at_xfail=no
(
  $as_echo "518. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:635: test-ovsdb parse-data-strings '{\"key\": \"real\", \"max\": 5}' '0.0, -0.0'"
at_fn_check_prepare_trace "ovsdb-data.at:635"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "real", "max": 5}' '0.0, -0.0'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:635"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:635: if grep -F -e \"set contains duplicate value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:635"
( $at_check_trace; if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:635"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_518
#AT_START_519
at_fn_group_banner 519 'ovsdb-data.at:639' \
  "duplicate string not allowed in JSON set - C" "   " 39
at_xfail=no
(
  $as_echo "519. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:639: test-ovsdb parse-data '{\"key\": \"string\", \"max\": 5}' '[\"set\", [\"asdf\", \"ASDF\", \"asdf\"]]'"
at_fn_check_prepare_trace "ovsdb-data.at:639"
( $at_check_trace; test-ovsdb parse-data '{"key": "string", "max": 5}' '["set", ["asdf", "ASDF", "asdf"]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:639"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:639: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:639"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:639"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_519
#AT_START_520
at_fn_group_banner 520 'ovsdb-data.at:639' \
  "duplicate string not allowed in JSON set - Python" "" 39
at_xfail=no
(
  $as_echo "520. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:639" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:639"

   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:639: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"string\", \"max\": 5}' '[\"set\", [\"asdf\", \"ASDF\", \"asdf\"]]'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-data '{\"key\": \"string\", \"max\": 5}' '[\"set\", [\"asdf\", \"ASDF\", \"asdf\"]]'" "ovsdb-data.at:639"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "string", "max": 5}' '["set", ["asdf", "ASDF", "asdf"]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:639"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:639: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:639"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:639"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_520
#AT_START_521
at_fn_group_banner 521 'ovsdb-data.at:643' \
  "duplicate string not allowed in string set" "     " 39
at_xfail=no
(
  $as_echo "521. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:643: test-ovsdb parse-data-strings '{\"key\": \"string\", \"max\": 5}' 'asdf, ASDF, \"asdf\"'"
at_fn_check_prepare_trace "ovsdb-data.at:643"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "string", "max": 5}' 'asdf, ASDF, "asdf"'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:643"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:643: if grep -F -e \"set contains duplicate value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:643"
( $at_check_trace; if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:643"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_521
#AT_START_522
at_fn_group_banner 522 'ovsdb-data.at:647' \
  "duplicate uuid not allowed in JSON set - C" "     " 39
at_xfail=no
(
  $as_echo "522. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:647: test-ovsdb parse-data '{\"key\": \"uuid\", \"max\": 5}' \\
    '[\"set\", [[\"uuid\", \"7ef21525-0088-4a28-a418-5518413e43ea\"],
              [\"uuid\", \"355ad037-f1da-40aa-b47c-ff9c7e8c6a38\"],
              [\"uuid\", \"7ef21525-0088-4a28-a418-5518413e43ea\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:647"
( $at_check_trace; test-ovsdb parse-data '{"key": "uuid", "max": 5}' \
    '["set", [["uuid", "7ef21525-0088-4a28-a418-5518413e43ea"],
              ["uuid", "355ad037-f1da-40aa-b47c-ff9c7e8c6a38"],
              ["uuid", "7ef21525-0088-4a28-a418-5518413e43ea"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:647"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:647: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:647"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:647"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_522
#AT_START_523
at_fn_group_banner 523 'ovsdb-data.at:647' \
  "duplicate uuid not allowed in JSON set - Python" "" 39
at_xfail=no
(
  $as_echo "523. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:647" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:647"

   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:647: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"uuid\", \"max\": 5}' \\
    '[\"set\", [[\"uuid\", \"7ef21525-0088-4a28-a418-5518413e43ea\"],
              [\"uuid\", \"355ad037-f1da-40aa-b47c-ff9c7e8c6a38\"],
              [\"uuid\", \"7ef21525-0088-4a28-a418-5518413e43ea\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:647"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "uuid", "max": 5}' \
    '["set", [["uuid", "7ef21525-0088-4a28-a418-5518413e43ea"],
              ["uuid", "355ad037-f1da-40aa-b47c-ff9c7e8c6a38"],
              ["uuid", "7ef21525-0088-4a28-a418-5518413e43ea"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:647"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:647: if grep -F -e \"ovsdb error: set contains duplicate\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:647"
( $at_check_trace; if grep -F -e "ovsdb error: set contains duplicate" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:647"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_523
#AT_START_524
at_fn_group_banner 524 'ovsdb-data.at:654' \
  "duplicate uuid not allowed in string set" "       " 39
at_xfail=no
(
  $as_echo "524. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:654: test-ovsdb parse-data-strings '{\"key\": \"uuid\", \"max\": 5}' \\
    '7ef21525-0088-4a28-a418-5518413e43ea,
     355ad037-f1da-40aa-b47c-ff9c7e8c6a38,
     7ef21525-0088-4a28-a418-5518413e43ea'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:654"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "uuid", "max": 5}' \
    '7ef21525-0088-4a28-a418-5518413e43ea,
     355ad037-f1da-40aa-b47c-ff9c7e8c6a38,
     7ef21525-0088-4a28-a418-5518413e43ea'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:654"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:654: if grep -F -e \"set contains duplicate value\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:654"
( $at_check_trace; if grep -F -e "set contains duplicate value" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:654"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_524
#AT_START_525
at_fn_group_banner 525 'ovsdb-data.at:663' \
  "JSON map of 1 integer to boolean - C" "           " 40
at_xfail=no
(
  $as_echo "525. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:663: test-ovsdb parse-data '{\"key\": \"integer\", \"value\": \"boolean\"}' \\
    '[\"map\", [[1, true]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:663"
( $at_check_trace; test-ovsdb parse-data '{"key": "integer", "value": "boolean"}' \
    '["map", [[1, true]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[1,true]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:663"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_525
#AT_START_526
at_fn_group_banner 526 'ovsdb-data.at:663' \
  "JSON map of 1 integer to boolean - Python" "      " 40
at_xfail=no
(
  $as_echo "526. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:663" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:663"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:663: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"integer\", \"value\": \"boolean\"}' \\
    '[\"map\", [[1, true]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:663"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "value": "boolean"}' \
    '["map", [[1, true]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[1,true]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:663"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_526
#AT_START_527
at_fn_group_banner 527 'ovsdb-data.at:668' \
  "string map of 1 integer to boolean" "             " 40
at_xfail=no
(
  $as_echo "527. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:668: test-ovsdb parse-data-strings '{\"key\": \"integer\", \"value\": \"boolean\"}' \\
    '1=true'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:668"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "integer", "value": "boolean"}' \
    '1=true'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "1=true
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:668"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_527
#AT_START_528
at_fn_group_banner 528 'ovsdb-data.at:673' \
  "JSON map of at least 1 integer to boolean - C" "  " 40
at_xfail=no
(
  $as_echo "528. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:673: test-ovsdb parse-data '{\"key\": \"integer\", \"value\": \"boolean\", \"max\": \"unlimited\"}' \\
    '[\"map\", [[1, true]]]' \\
    '[\"map\", [[0, true], [1, false], [2, true], [3, true], [4, true]]]' \\
    '[\"map\", [[3, false], [0, true], [4, false]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:673"
( $at_check_trace; test-ovsdb parse-data '{"key": "integer", "value": "boolean", "max": "unlimited"}' \
    '["map", [[1, true]]]' \
    '["map", [[0, true], [1, false], [2, true], [3, true], [4, true]]]' \
    '["map", [[3, false], [0, true], [4, false]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[1,true]]]
[\"map\",[[0,true],[1,false],[2,true],[3,true],[4,true]]]
[\"map\",[[0,true],[3,false],[4,false]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:673"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_528
#AT_START_529
at_fn_group_banner 529 'ovsdb-data.at:673' \
  "JSON map of at least 1 integer to boolean - Python" "" 40
at_xfail=no
(
  $as_echo "529. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:673" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:673"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:673: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"integer\", \"value\": \"boolean\", \"max\": \"unlimited\"}' \\
    '[\"map\", [[1, true]]]' \\
    '[\"map\", [[0, true], [1, false], [2, true], [3, true], [4, true]]]' \\
    '[\"map\", [[3, false], [0, true], [4, false]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:673"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "value": "boolean", "max": "unlimited"}' \
    '["map", [[1, true]]]' \
    '["map", [[0, true], [1, false], [2, true], [3, true], [4, true]]]' \
    '["map", [[3, false], [0, true], [4, false]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[1,true]]]
[\"map\",[[0,true],[1,false],[2,true],[3,true],[4,true]]]
[\"map\",[[0,true],[3,false],[4,false]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:673"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_529
#AT_START_530
at_fn_group_banner 530 'ovsdb-data.at:682' \
  "string map of at least 1 integer to boolean" "    " 40
at_xfail=no
(
  $as_echo "530. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:682: test-ovsdb parse-data-strings '{\"key\": \"integer\", \"value\": \"boolean\", \"max\": \"unlimited\"}' \\
    '1=true' \\
    '0=true 1=false 2=true, 3=true 4=true,' \\
    '3=false,0=true ,4=false'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:682"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "integer", "value": "boolean", "max": "unlimited"}' \
    '1=true' \
    '0=true 1=false 2=true, 3=true 4=true,' \
    '3=false,0=true ,4=false'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{1=true}
{0=true, 1=false, 2=true, 3=true, 4=true}
{0=true, 3=false, 4=false}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:682"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_530
#AT_START_531
at_fn_group_banner 531 'ovsdb-data.at:691' \
  "JSON map of 1 boolean to integer - C" "           " 40
at_xfail=no
(
  $as_echo "531. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:691: test-ovsdb parse-data '{\"key\": \"boolean\", \"value\": \"integer\"}' \\
   '[\"map\", [[true, 1]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:691"
( $at_check_trace; test-ovsdb parse-data '{"key": "boolean", "value": "integer"}' \
   '["map", [[true, 1]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[true,1]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:691"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_531
#AT_START_532
at_fn_group_banner 532 'ovsdb-data.at:691' \
  "JSON map of 1 boolean to integer - Python" "      " 40
at_xfail=no
(
  $as_echo "532. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:691" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:691"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:691: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"boolean\", \"value\": \"integer\"}' \\
   '[\"map\", [[true, 1]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:691"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "boolean", "value": "integer"}' \
   '["map", [[true, 1]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[true,1]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:691"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_532
#AT_START_533
at_fn_group_banner 533 'ovsdb-data.at:696' \
  "string map of 1 boolean to integer" "             " 40
at_xfail=no
(
  $as_echo "533. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:696: test-ovsdb parse-data-strings '{\"key\": \"boolean\", \"value\": \"integer\"}' \\
   'true=1'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:696"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "boolean", "value": "integer"}' \
   'true=1'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "true=1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:696"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_533
#AT_START_534
at_fn_group_banner 534 'ovsdb-data.at:701' \
  "JSON map of 1 uuid to real - C" "                 " 40
at_xfail=no
(
  $as_echo "534. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:701: test-ovsdb parse-data '{\"key\": \"uuid\", \"value\": \"real\", \"min\": 1, \"max\": 5}' \\
    '[\"map\", [[[\"uuid\", \"cad8542b-6ee1-486b-971b-7dcbf6e14979\"], 1.0],
	      [[\"uuid\", \"6b94b968-2702-4f64-9457-314a34d69b8c\"], 2.0],
	      [[\"uuid\", \"d2c4a168-24de-47eb-a8a3-c1abfc814979\"], 3.0],
	      [[\"uuid\", \"25bfa475-d072-4f60-8be1-00f48643e9cb\"], 4.0],
	      [[\"uuid\", \"1c92b8ca-d5e4-4628-a85d-1dc2d099a99a\"], 5.0]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:701"
( $at_check_trace; test-ovsdb parse-data '{"key": "uuid", "value": "real", "min": 1, "max": 5}' \
    '["map", [[["uuid", "cad8542b-6ee1-486b-971b-7dcbf6e14979"], 1.0],
	      [["uuid", "6b94b968-2702-4f64-9457-314a34d69b8c"], 2.0],
	      [["uuid", "d2c4a168-24de-47eb-a8a3-c1abfc814979"], 3.0],
	      [["uuid", "25bfa475-d072-4f60-8be1-00f48643e9cb"], 4.0],
	      [["uuid", "1c92b8ca-d5e4-4628-a85d-1dc2d099a99a"], 5.0]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[[\"uuid\",\"1c92b8ca-d5e4-4628-a85d-1dc2d099a99a\"],5],[[\"uuid\",\"25bfa475-d072-4f60-8be1-00f48643e9cb\"],4],[[\"uuid\",\"6b94b968-2702-4f64-9457-314a34d69b8c\"],2],[[\"uuid\",\"cad8542b-6ee1-486b-971b-7dcbf6e14979\"],1],[[\"uuid\",\"d2c4a168-24de-47eb-a8a3-c1abfc814979\"],3]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:701"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_534
#AT_START_535
at_fn_group_banner 535 'ovsdb-data.at:701' \
  "JSON map of 1 uuid to real - Python" "            " 40
at_xfail=no
(
  $as_echo "535. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:701" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:701"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:701: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"uuid\", \"value\": \"real\", \"min\": 1, \"max\": 5}' \\
    '[\"map\", [[[\"uuid\", \"cad8542b-6ee1-486b-971b-7dcbf6e14979\"], 1.0],
	      [[\"uuid\", \"6b94b968-2702-4f64-9457-314a34d69b8c\"], 2.0],
	      [[\"uuid\", \"d2c4a168-24de-47eb-a8a3-c1abfc814979\"], 3.0],
	      [[\"uuid\", \"25bfa475-d072-4f60-8be1-00f48643e9cb\"], 4.0],
	      [[\"uuid\", \"1c92b8ca-d5e4-4628-a85d-1dc2d099a99a\"], 5.0]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:701"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "uuid", "value": "real", "min": 1, "max": 5}' \
    '["map", [[["uuid", "cad8542b-6ee1-486b-971b-7dcbf6e14979"], 1.0],
	      [["uuid", "6b94b968-2702-4f64-9457-314a34d69b8c"], 2.0],
	      [["uuid", "d2c4a168-24de-47eb-a8a3-c1abfc814979"], 3.0],
	      [["uuid", "25bfa475-d072-4f60-8be1-00f48643e9cb"], 4.0],
	      [["uuid", "1c92b8ca-d5e4-4628-a85d-1dc2d099a99a"], 5.0]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[[\"uuid\",\"1c92b8ca-d5e4-4628-a85d-1dc2d099a99a\"],5],[[\"uuid\",\"25bfa475-d072-4f60-8be1-00f48643e9cb\"],4],[[\"uuid\",\"6b94b968-2702-4f64-9457-314a34d69b8c\"],2],[[\"uuid\",\"cad8542b-6ee1-486b-971b-7dcbf6e14979\"],1],[[\"uuid\",\"d2c4a168-24de-47eb-a8a3-c1abfc814979\"],3]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:701"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_535
#AT_START_536
at_fn_group_banner 536 'ovsdb-data.at:710' \
  "string map of 1 uuid to real" "                   " 40
at_xfail=no
(
  $as_echo "536. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:710: test-ovsdb parse-data-strings '{\"key\": \"uuid\", \"value\": \"real\", \"min\": 1, \"max\": 5}' \\
    'cad8542b-6ee1-486b-971b-7dcbf6e14979=1.0,
     6b94b968-2702-4f64-9457-314a34d69b8c=2.0,
     d2c4a168-24de-47eb-a8a3-c1abfc814979=3.0,
     25bfa475-d072-4f60-8be1-00f48643e9cb=4.0,
     1c92b8ca-d5e4-4628-a85d-1dc2d099a99a=5.0'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:710"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "uuid", "value": "real", "min": 1, "max": 5}' \
    'cad8542b-6ee1-486b-971b-7dcbf6e14979=1.0,
     6b94b968-2702-4f64-9457-314a34d69b8c=2.0,
     d2c4a168-24de-47eb-a8a3-c1abfc814979=3.0,
     25bfa475-d072-4f60-8be1-00f48643e9cb=4.0,
     1c92b8ca-d5e4-4628-a85d-1dc2d099a99a=5.0'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{1c92b8ca-d5e4-4628-a85d-1dc2d099a99a=5, 25bfa475-d072-4f60-8be1-00f48643e9cb=4, 6b94b968-2702-4f64-9457-314a34d69b8c=2, cad8542b-6ee1-486b-971b-7dcbf6e14979=1, d2c4a168-24de-47eb-a8a3-c1abfc814979=3}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:710"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_536
#AT_START_537
at_fn_group_banner 537 'ovsdb-data.at:719' \
  "JSON map of 10 string to string - C" "            " 40
at_xfail=no
(
  $as_echo "537. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:719: test-ovsdb parse-data '{\"key\": \"string\", \"value\": \"string\", \"min\": 1, \"max\": 10}' \\
    '[\"map\", [[\"2 gills\", \"1 chopin\"],
	      [\"2 chopins\", \"1 pint\"],
	      [\"2 pints\", \"1 quart\"],
	      [\"2 quarts\", \"1 pottle\"],
	      [\"2 pottles\", \"1 gallon\"],
	      [\"2 gallons\", \"1 peck\"],
	      [\"2 pecks\", \"1 demibushel\"],
	      [\"2 demibushel\", \"1 firkin\"],
	      [\"2 firkins\", \"1 kilderkin\"],
	      [\"2 kilderkins\", \"1 barrel\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:719"
( $at_check_trace; test-ovsdb parse-data '{"key": "string", "value": "string", "min": 1, "max": 10}' \
    '["map", [["2 gills", "1 chopin"],
	      ["2 chopins", "1 pint"],
	      ["2 pints", "1 quart"],
	      ["2 quarts", "1 pottle"],
	      ["2 pottles", "1 gallon"],
	      ["2 gallons", "1 peck"],
	      ["2 pecks", "1 demibushel"],
	      ["2 demibushel", "1 firkin"],
	      ["2 firkins", "1 kilderkin"],
	      ["2 kilderkins", "1 barrel"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[\"2 chopins\",\"1 pint\"],[\"2 demibushel\",\"1 firkin\"],[\"2 firkins\",\"1 kilderkin\"],[\"2 gallons\",\"1 peck\"],[\"2 gills\",\"1 chopin\"],[\"2 kilderkins\",\"1 barrel\"],[\"2 pecks\",\"1 demibushel\"],[\"2 pints\",\"1 quart\"],[\"2 pottles\",\"1 gallon\"],[\"2 quarts\",\"1 pottle\"]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:719"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_537
#AT_START_538
at_fn_group_banner 538 'ovsdb-data.at:719' \
  "JSON map of 10 string to string - Python" "       " 40
at_xfail=no
(
  $as_echo "538. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:719" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:719"


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:719: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"string\", \"value\": \"string\", \"min\": 1, \"max\": 10}' \\
    '[\"map\", [[\"2 gills\", \"1 chopin\"],
	      [\"2 chopins\", \"1 pint\"],
	      [\"2 pints\", \"1 quart\"],
	      [\"2 quarts\", \"1 pottle\"],
	      [\"2 pottles\", \"1 gallon\"],
	      [\"2 gallons\", \"1 peck\"],
	      [\"2 pecks\", \"1 demibushel\"],
	      [\"2 demibushel\", \"1 firkin\"],
	      [\"2 firkins\", \"1 kilderkin\"],
	      [\"2 kilderkins\", \"1 barrel\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:719"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "string", "value": "string", "min": 1, "max": 10}' \
    '["map", [["2 gills", "1 chopin"],
	      ["2 chopins", "1 pint"],
	      ["2 pints", "1 quart"],
	      ["2 quarts", "1 pottle"],
	      ["2 pottles", "1 gallon"],
	      ["2 gallons", "1 peck"],
	      ["2 pecks", "1 demibushel"],
	      ["2 demibushel", "1 firkin"],
	      ["2 firkins", "1 kilderkin"],
	      ["2 kilderkins", "1 barrel"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[\"map\",[[\"2 chopins\",\"1 pint\"],[\"2 demibushel\",\"1 firkin\"],[\"2 firkins\",\"1 kilderkin\"],[\"2 gallons\",\"1 peck\"],[\"2 gills\",\"1 chopin\"],[\"2 kilderkins\",\"1 barrel\"],[\"2 pecks\",\"1 demibushel\"],[\"2 pints\",\"1 quart\"],[\"2 pottles\",\"1 gallon\"],[\"2 quarts\",\"1 pottle\"]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:719"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_538
#AT_START_539
at_fn_group_banner 539 'ovsdb-data.at:733' \
  "string map of 10 string to string" "              " 40
at_xfail=no
(
  $as_echo "539. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:733: test-ovsdb parse-data-strings '{\"key\": \"string\", \"value\": \"string\", \"min\": 1, \"max\": 10}' \\
    '{\"2 gills\"=\"1 chopin\",
      \"2 chopins\"= \"1 pint\",
      \"2 pints\"= \"1 quart\",
      \"2 quarts\"= \"1 pottle\",
      \"2 pottles\"= \"1 gallon\",
      \"2 gallons\"= \"1 peck\",
      \"2 pecks\"= \"1 demibushel\",
      \"2 demibushel\"= \"1 firkin\",
      \"2 firkins\"= \"1 kilderkin\",
      \"2 kilderkins\"= \"1 barrel\"}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:733"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "string", "value": "string", "min": 1, "max": 10}' \
    '{"2 gills"="1 chopin",
      "2 chopins"= "1 pint",
      "2 pints"= "1 quart",
      "2 quarts"= "1 pottle",
      "2 pottles"= "1 gallon",
      "2 gallons"= "1 peck",
      "2 pecks"= "1 demibushel",
      "2 demibushel"= "1 firkin",
      "2 firkins"= "1 kilderkin",
      "2 kilderkins"= "1 barrel"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"2 chopins\"=\"1 pint\", \"2 demibushel\"=\"1 firkin\", \"2 firkins\"=\"1 kilderkin\", \"2 gallons\"=\"1 peck\", \"2 gills\"=\"1 chopin\", \"2 kilderkins\"=\"1 barrel\", \"2 pecks\"=\"1 demibushel\", \"2 pints\"=\"1 quart\", \"2 pottles\"=\"1 gallon\", \"2 quarts\"=\"1 pottle\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:733"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_539
#AT_START_540
at_fn_group_banner 540 'ovsdb-data.at:747' \
  "duplicate integer key not allowed in JSON map - C" "" 40
at_xfail=no
(
  $as_echo "540. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:747: test-ovsdb parse-data '{\"key\": \"integer\", \"value\": \"boolean\", \"max\": 5}' \\
    '[\"map\", [[1, true], [2, false], [1, false]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:747"
( $at_check_trace; test-ovsdb parse-data '{"key": "integer", "value": "boolean", "max": 5}' \
    '["map", [[1, true], [2, false], [1, false]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:747"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:747: if grep -F -e \"ovsdb error: map contains duplicate key\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:747"
( $at_check_trace; if grep -F -e "ovsdb error: map contains duplicate key" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:747"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_540
#AT_START_541
at_fn_group_banner 541 'ovsdb-data.at:747' \
  "duplicate integer key not allowed in JSON map - Python" "" 40
at_xfail=no
(
  $as_echo "541. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-data.at:747" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-data.at:747"

   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:747: \$PYTHON \$srcdir/test-ovsdb.py parse-data '{\"key\": \"integer\", \"value\": \"boolean\", \"max\": 5}' \\
    '[\"map\", [[1, true], [2, false], [1, false]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:747"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-data '{"key": "integer", "value": "boolean", "max": 5}' \
    '["map", [[1, true], [2, false], [1, false]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:747"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:747: if grep -F -e \"ovsdb error: map contains duplicate key\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:747"
( $at_check_trace; if grep -F -e "ovsdb error: map contains duplicate key" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:747"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_541
#AT_START_542
at_fn_group_banner 542 'ovsdb-data.at:752' \
  "duplicate integer key not allowed in string map" "" 40
at_xfail=no
(
  $as_echo "542. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:752: test-ovsdb parse-data-strings '{\"key\": \"integer\", \"value\": \"boolean\", \"max\": 5}' \\
    '1=true 2=false 1=false'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:752"
( $at_check_trace; test-ovsdb parse-data-strings '{"key": "integer", "value": "boolean", "max": 5}' \
    '1=true 2=false 1=false'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-data.at:752"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-data.at:752: if grep -F -e \"map contains duplicate key\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-data.at:752"
( $at_check_trace; if grep -F -e "map contains duplicate key" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-data.at:752"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_542
#AT_START_543
at_fn_group_banner 543 'ovsdb-column.at:3' \
  "ordinary column - C" "                            " 41
at_xfail=no
(
  $as_echo "543. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-column.at:3: test-ovsdb parse-column mycol '{\"type\": \"integer\"}'"
at_fn_check_prepare_trace "ovsdb-column.at:3"
( $at_check_trace; test-ovsdb parse-column mycol '{"type": "integer"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-column.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_543
#AT_START_544
at_fn_group_banner 544 'ovsdb-column.at:3' \
  "ordinary column - Python" "                       " 41
at_xfail=no
(
  $as_echo "544. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-column.at:3" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-column.at:3"


   { set +x
$as_echo "$at_srcdir/ovsdb-column.at:3: \$PYTHON \$srcdir/test-ovsdb.py parse-column mycol '{\"type\": \"integer\"}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-column mycol '{\"type\": \"integer\"}'" "ovsdb-column.at:3"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-column mycol '{"type": "integer"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"type\":\"integer\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-column.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_544
#AT_START_545
at_fn_group_banner 545 'ovsdb-column.at:7' \
  "immutable column - C" "                           " 41
at_xfail=no
(
  $as_echo "545. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-column.at:7: test-ovsdb parse-column mycol '{\"type\": \"real\", \"mutable\": false}'"
at_fn_check_prepare_trace "ovsdb-column.at:7"
( $at_check_trace; test-ovsdb parse-column mycol '{"type": "real", "mutable": false}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"mutable\":false,\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-column.at:7"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_545
#AT_START_546
at_fn_group_banner 546 'ovsdb-column.at:7' \
  "immutable column - Python" "                      " 41
at_xfail=no
(
  $as_echo "546. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-column.at:7" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-column.at:7"


   { set +x
$as_echo "$at_srcdir/ovsdb-column.at:7: \$PYTHON \$srcdir/test-ovsdb.py parse-column mycol '{\"type\": \"real\", \"mutable\": false}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-column mycol '{\"type\": \"real\", \"mutable\": false}'" "ovsdb-column.at:7"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-column mycol '{"type": "real", "mutable": false}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"mutable\":false,\"type\":\"real\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-column.at:7"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_546
#AT_START_547
at_fn_group_banner 547 'ovsdb-column.at:11' \
  "ephemeral column - C" "                           " 41
at_xfail=no
(
  $as_echo "547. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-column.at:11: test-ovsdb parse-column mycol '{\"type\": \"uuid\", \"ephemeral\": true}'"
at_fn_check_prepare_trace "ovsdb-column.at:11"
( $at_check_trace; test-ovsdb parse-column mycol '{"type": "uuid", "ephemeral": true}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"ephemeral\":true,\"type\":\"uuid\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-column.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_547
#AT_START_548
at_fn_group_banner 548 'ovsdb-column.at:11' \
  "ephemeral column - Python" "                      " 41
at_xfail=no
(
  $as_echo "548. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-column.at:11" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-column.at:11"


   { set +x
$as_echo "$at_srcdir/ovsdb-column.at:11: \$PYTHON \$srcdir/test-ovsdb.py parse-column mycol '{\"type\": \"uuid\", \"ephemeral\": true}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-column mycol '{\"type\": \"uuid\", \"ephemeral\": true}'" "ovsdb-column.at:11"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-column mycol '{"type": "uuid", "ephemeral": true}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"ephemeral\":true,\"type\":\"uuid\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-column.at:11"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_548
#AT_START_549
at_fn_group_banner 549 'ovsdb-table.at:3' \
  "table with one column - C" "                      " 42
at_xfail=no
(
  $as_echo "549. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:3: test-ovsdb parse-table mytable '{\"columns\": {\"name\": {\"type\": \"string\"}}}'"
at_fn_check_prepare_trace "ovsdb-table.at:3"
( $at_check_trace; test-ovsdb parse-table mytable '{"columns": {"name": {"type": "string"}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"columns\":{\"name\":{\"type\":\"string\"}}}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_549
#AT_START_550
at_fn_group_banner 550 'ovsdb-table.at:3' \
  "table with one column - Python" "                 " 42
at_xfail=no
(
  $as_echo "550. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-table.at:3" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-table.at:3"


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:3: \$PYTHON \$srcdir/test-ovsdb.py parse-table mytable '{\"columns\": {\"name\": {\"type\": \"string\"}}}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-table mytable '{\"columns\": {\"name\": {\"type\": \"string\"}}}'" "ovsdb-table.at:3"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"name": {"type": "string"}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"columns\":{\"name\":{\"type\":\"string\"}}}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_550
#AT_START_551
at_fn_group_banner 551 'ovsdb-table.at:7' \
  "immutable table with one column - C" "            " 42
at_xfail=no
(
  $as_echo "551. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:7: test-ovsdb parse-table mytable \\
    '{\"columns\": {\"name\": {\"type\": \"string\"}},
      \"mutable\": false}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:7"
( $at_check_trace; test-ovsdb parse-table mytable \
    '{"columns": {"name": {"type": "string"}},
      "mutable": false}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"columns\":{\"name\":{\"type\":\"string\"}},\"mutable\":false}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:7"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_551
#AT_START_552
at_fn_group_banner 552 'ovsdb-table.at:7' \
  "immutable table with one column - Python" "       " 42
at_xfail=no
(
  $as_echo "552. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-table.at:7" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-table.at:7"


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:7: \$PYTHON \$srcdir/test-ovsdb.py parse-table mytable \\
    '{\"columns\": {\"name\": {\"type\": \"string\"}},
      \"mutable\": false}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:7"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-table mytable \
    '{"columns": {"name": {"type": "string"}},
      "mutable": false}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"columns\":{\"name\":{\"type\":\"string\"}},\"mutable\":false}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:7"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_552
#AT_START_553
at_fn_group_banner 553 'ovsdb-table.at:13' \
  "table with maxRows of 2 - C" "                    " 42
at_xfail=no
(
  $as_echo "553. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:13: test-ovsdb parse-table mytable '{\"columns\": {\"name\": {\"type\": \"string\"}},
                          \"maxRows\": 2}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:13"
( $at_check_trace; test-ovsdb parse-table mytable '{"columns": {"name": {"type": "string"}},
                          "maxRows": 2}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"columns\":{\"name\":{\"type\":\"string\"}},\"maxRows\":2}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:13"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_553
#AT_START_554
at_fn_group_banner 554 'ovsdb-table.at:13' \
  "table with maxRows of 2 - Python" "               " 42
at_xfail=no
(
  $as_echo "554. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-table.at:13" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-table.at:13"


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:13: \$PYTHON \$srcdir/test-ovsdb.py parse-table mytable '{\"columns\": {\"name\": {\"type\": \"string\"}},
                          \"maxRows\": 2}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:13"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"name": {"type": "string"}},
                          "maxRows": 2}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"columns\":{\"name\":{\"type\":\"string\"}},\"maxRows\":2}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:13"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_554
#AT_START_555
at_fn_group_banner 555 'ovsdb-table.at:18' \
  "column names may not begin with _ - C" "          " 42
at_xfail=no
(
  $as_echo "555. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:18: test-ovsdb parse-table mytable \\
    '{\"columns\": {\"_column\": {\"type\": \"integer\"}}}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:18"
( $at_check_trace; test-ovsdb parse-table mytable \
    '{"columns": {"_column": {"type": "integer"}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-table.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:18: if grep -F -e \"names beginning with \\\"_\\\" are reserved\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:18"
( $at_check_trace; if grep -F -e "names beginning with \"_\" are reserved" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_555
#AT_START_556
at_fn_group_banner 556 'ovsdb-table.at:18' \
  "column names may not begin with _ - Python" "     " 42
at_xfail=no
(
  $as_echo "556. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-table.at:18" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-table.at:18"

   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:18: \$PYTHON \$srcdir/test-ovsdb.py parse-table mytable \\
    '{\"columns\": {\"_column\": {\"type\": \"integer\"}}}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:18"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-table mytable \
    '{"columns": {"_column": {"type": "integer"}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-table.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:18: if grep -F -e \"names beginning with \\\"_\\\" are reserved\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:18"
( $at_check_trace; if grep -F -e "names beginning with \"_\" are reserved" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:18"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_556
#AT_START_557
at_fn_group_banner 557 'ovsdb-table.at:24' \
  "table must have at least one column (1) - C" "    " 42
at_xfail=no
(
  $as_echo "557. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:24: test-ovsdb parse-table mytable '{}'"
at_fn_check_prepare_trace "ovsdb-table.at:24"
( $at_check_trace; test-ovsdb parse-table mytable '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-table.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:24: if grep -F -e \"Parsing table schema for table mytable failed: Required 'columns' member is missing.\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:24"
( $at_check_trace; if grep -F -e "Parsing table schema for table mytable failed: Required 'columns' member is missing." stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_557
#AT_START_558
at_fn_group_banner 558 'ovsdb-table.at:24' \
  "table must have at least one column (1) - Python" "" 42
at_xfail=no
(
  $as_echo "558. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-table.at:24" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-table.at:24"

   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:24: \$PYTHON \$srcdir/test-ovsdb.py parse-table mytable '{}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-table mytable '{}'" "ovsdb-table.at:24"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-table.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:24: if grep -F -e \"Parsing table schema for table mytable failed: Required 'columns' member is missing.\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:24"
( $at_check_trace; if grep -F -e "Parsing table schema for table mytable failed: Required 'columns' member is missing." stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:24"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_558
#AT_START_559
at_fn_group_banner 559 'ovsdb-table.at:28' \
  "table must have at least one column (2) - C" "    " 42
at_xfail=no
(
  $as_echo "559. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:28: test-ovsdb parse-table mytable '{\"columns\": {}}'"
at_fn_check_prepare_trace "ovsdb-table.at:28"
( $at_check_trace; test-ovsdb parse-table mytable '{"columns": {}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-table.at:28"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:28: if grep -F -e \"table must have at least one column\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:28"
( $at_check_trace; if grep -F -e "table must have at least one column" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:28"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_559
#AT_START_560
at_fn_group_banner 560 'ovsdb-table.at:28' \
  "table must have at least one column (2) - Python" "" 42
at_xfail=no
(
  $as_echo "560. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-table.at:28" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-table.at:28"

   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:28: \$PYTHON \$srcdir/test-ovsdb.py parse-table mytable '{\"columns\": {}}'"
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py parse-table mytable '{\"columns\": {}}'" "ovsdb-table.at:28"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-table.at:28"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:28: if grep -F -e \"table must have at least one column\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:28"
( $at_check_trace; if grep -F -e "table must have at least one column" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:28"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_560
#AT_START_561
at_fn_group_banner 561 'ovsdb-table.at:32' \
  "table maxRows must be positive - C" "             " 42
at_xfail=no
(
  $as_echo "561. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:32: test-ovsdb parse-table mytable '{\"columns\": {\"name\": {\"type\": \"string\"}},
                          \"maxRows\": 0}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:32"
( $at_check_trace; test-ovsdb parse-table mytable '{"columns": {"name": {"type": "string"}},
                          "maxRows": 0}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-table.at:32"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:32: if grep -F -e \"syntax \\\"{\\\"columns\\\":{\\\"name\\\":{\\\"type\\\":\\\"string\\\"}},\\\"maxRows\\\":0}\\\": syntax error: maxRows must be at least 1\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:32"
( $at_check_trace; if grep -F -e "syntax \"{\"columns\":{\"name\":{\"type\":\"string\"}},\"maxRows\":0}\": syntax error: maxRows must be at least 1" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:32"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_561
#AT_START_562
at_fn_group_banner 562 'ovsdb-table.at:32' \
  "table maxRows must be positive - Python" "        " 42
at_xfail=no
(
  $as_echo "562. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-table.at:32" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-table.at:32"

   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:32: \$PYTHON \$srcdir/test-ovsdb.py parse-table mytable '{\"columns\": {\"name\": {\"type\": \"string\"}},
                          \"maxRows\": 0}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:32"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-table mytable '{"columns": {"name": {"type": "string"}},
                          "maxRows": 0}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-table.at:32"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-table.at:32: if grep -F -e \"syntax \\\"{\\\"columns\\\":{\\\"name\\\":{\\\"type\\\":\\\"string\\\"}},\\\"maxRows\\\":0}\\\": syntax error: maxRows must be at least 1\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-table.at:32"
( $at_check_trace; if grep -F -e "syntax \"{\"columns\":{\"name\":{\"type\":\"string\"}},\"maxRows\":0}\": syntax error: maxRows must be at least 1" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-table.at:32"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_562
#AT_START_563
at_fn_group_banner 563 'ovsdb-row.at:5' \
  "row with one string column" "                     " 43
at_xfail=no
(
  $as_echo "563. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:5: test-ovsdb parse-rows \\
    '{\"columns\": {\"name\": {\"type\": \"string\"}}}' \\
    '{\"name\": \"value\"}' \\
    '{\"name\": \"\"}' \\
    '{\"name\": \"longer string with spaces\"}' \\
    '{}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:5"
( $at_check_trace; test-ovsdb parse-rows \
    '{"columns": {"name": {"type": "string"}}}' \
    '{"name": "value"}' \
    '{"name": ""}' \
    '{"name": "longer string with spaces"}' \
    '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"name\":\"value\"}
name
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"name\":\"\"}
name
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"name\":\"longer string with spaces\"}
name
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"name\":\"\"}
<none>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:5"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_563
#AT_START_564
at_fn_group_banner 564 'ovsdb-row.at:21' \
  "row with one integer column" "                    " 43
at_xfail=no
(
  $as_echo "564. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:21: test-ovsdb parse-rows \\
    '{\"columns\": {\"count\": {\"type\": \"integer\"}}}' \\
    '{\"count\": 1}' \\
    '{\"count\": -1}' \\
    '{\"count\": 2e10}' \\
    '{}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:21"
( $at_check_trace; test-ovsdb parse-rows \
    '{"columns": {"count": {"type": "integer"}}}' \
    '{"count": 1}' \
    '{"count": -1}' \
    '{"count": 2e10}' \
    '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"count\":1}
count
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"count\":-1}
count
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"count\":20000000000}
count
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"count\":0}
<none>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:21"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_564
#AT_START_565
at_fn_group_banner 565 'ovsdb-row.at:37' \
  "row with one real column" "                       " 43
at_xfail=no
(
  $as_echo "565. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:37: test-ovsdb parse-rows \\
    '{\"columns\": {\"cost\": {\"type\": \"real\"}}}' \\
    '{\"cost\": 1.0}' \\
    '{\"cost\": -2.0}' \\
    '{\"cost\": 123000}' \\
    '{}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:37"
( $at_check_trace; test-ovsdb parse-rows \
    '{"columns": {"cost": {"type": "real"}}}' \
    '{"cost": 1.0}' \
    '{"cost": -2.0}' \
    '{"cost": 123000}' \
    '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"cost\":1}
cost
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"cost\":-2}
cost
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"cost\":123000}
cost
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"cost\":0}
<none>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:37"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_565
#AT_START_566
at_fn_group_banner 566 'ovsdb-row.at:53' \
  "row with one boolean column" "                    " 43
at_xfail=no
(
  $as_echo "566. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:53: test-ovsdb parse-rows \\
    '{\"columns\": {\"feasible\": {\"type\": \"boolean\"}}}' \\
    '{\"feasible\": true}' \\
    '{\"feasible\": false}' \\
    '{}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:53"
( $at_check_trace; test-ovsdb parse-rows \
    '{"columns": {"feasible": {"type": "boolean"}}}' \
    '{"feasible": true}' \
    '{"feasible": false}' \
    '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"feasible\":true}
feasible
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"feasible\":false}
feasible
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"feasible\":false}
<none>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:53"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_566
#AT_START_567
at_fn_group_banner 567 'ovsdb-row.at:66' \
  "row with one uuid column" "                       " 43
at_xfail=no
(
  $as_echo "567. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:66: test-ovsdb parse-rows \\
    '{\"columns\": {\"ref\": {\"type\": \"uuid\"}}}' \\
    '{\"ref\": [\"uuid\", \"f707423d-bf5b-48b5-b6c0-797c900ba4b6\"]}' \\
    '{\"ref\": [\"uuid\", \"33583cc5-d2f4-43de-b1ca-8aac14071b51\"]}' \\
    '{}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:66"
( $at_check_trace; test-ovsdb parse-rows \
    '{"columns": {"ref": {"type": "uuid"}}}' \
    '{"ref": ["uuid", "f707423d-bf5b-48b5-b6c0-797c900ba4b6"]}' \
    '{"ref": ["uuid", "33583cc5-d2f4-43de-b1ca-8aac14071b51"]}' \
    '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"ref\":[\"uuid\",\"f707423d-bf5b-48b5-b6c0-797c900ba4b6\"]}
ref
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"ref\":[\"uuid\",\"33583cc5-d2f4-43de-b1ca-8aac14071b51\"]}
ref
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"ref\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"]}
<none>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:66"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_567
#AT_START_568
at_fn_group_banner 568 'ovsdb-row.at:79' \
  "row with set of 1 to 2 elements" "                " 43
at_xfail=no
(
  $as_echo "568. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:79: test-ovsdb parse-rows \\
    '{\"columns\": {\"myset\": {\"type\": {\"key\": \"integer\", \"min\": 1, \"max\": 2}}}}' \\
    '{}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:79"
( $at_check_trace; test-ovsdb parse-rows \
    '{"columns": {"myset": {"type": {"key": "integer", "min": 1, "max": 2}}}}' \
    '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"myset\":0}
<none>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:79"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_568
#AT_START_569
at_fn_group_banner 569 'ovsdb-row.at:86' \
  "row with map of 1 to 2 elements" "                " 43
at_xfail=no
(
  $as_echo "569. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:86: test-ovsdb parse-rows \\
    '{\"columns\": {\"mymap\": {\"type\": {\"key\": \"integer\", \"value\": \"uuid\", \"min\": 1, \"max\": 2}}}}' \\
    '{}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:86"
( $at_check_trace; test-ovsdb parse-rows \
    '{"columns": {"mymap": {"type": {"key": "integer", "value": "uuid", "min": 1, "max": 2}}}}' \
    '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"mymap\":[\"map\",[[0,[\"uuid\",\"00000000-0000-0000-0000-000000000000\"]]]]}
<none>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:86"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_569
#AT_START_570
at_fn_group_banner 570 'ovsdb-row.at:93' \
  "row with several columns" "                       " 43
at_xfail=no
(
  $as_echo "570. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:93: test-ovsdb parse-rows \\
    '{\"columns\":
        {\"vswitch\": {\"type\": \"uuid\"},
         \"name\": {\"type\": \"string\"},
         \"datapath_id\": {\"type\": {\"key\": \"string\", \"min\": 0}},
         \"hwaddr\": {\"type\": \"string\"},
         \"mirrors\": {\"type\": {\"key\": \"uuid\", \"min\": 0, \"max\": \"unlimited\"}},
         \"netflows\": {\"type\": {\"key\": \"uuid\", \"min\": 0, \"max\": \"unlimited\"}},
         \"controller\": {\"type\": {\"key\": \"uuid\", \"min\": 0}},
         \"listeners\": {\"type\": {\"key\": \"uuid\", \"min\": 0, \"max\": \"unlimited\"}},
         \"snoops\": {\"type\": {\"key\": \"uuid\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '{\"vswitch\": [\"uuid\", \"1a5c7280-0d4c-4e34-9ec7-c772339f7774\"],
      \"name\": \"br0\",
      \"datapath_id\": \"000ae4256bb0\",
      \"hwaddr\": \"00:0a:e4:25:6b:b0\"}' \\
    '{}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:93"
( $at_check_trace; test-ovsdb parse-rows \
    '{"columns":
        {"vswitch": {"type": "uuid"},
         "name": {"type": "string"},
         "datapath_id": {"type": {"key": "string", "min": 0}},
         "hwaddr": {"type": "string"},
         "mirrors": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}},
         "netflows": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}},
         "controller": {"type": {"key": "uuid", "min": 0}},
         "listeners": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}},
         "snoops": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '{"vswitch": ["uuid", "1a5c7280-0d4c-4e34-9ec7-c772339f7774"],
      "name": "br0",
      "datapath_id": "000ae4256bb0",
      "hwaddr": "00:0a:e4:25:6b:b0"}' \
    '{}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"controller\":[\"set\",[]],\"datapath_id\":\"000ae4256bb0\",\"hwaddr\":\"00:0a:e4:25:6b:b0\",\"listeners\":[\"set\",[]],\"mirrors\":[\"set\",[]],\"name\":\"br0\",\"netflows\":[\"set\",[]],\"snoops\":[\"set\",[]],\"vswitch\":[\"uuid\",\"1a5c7280-0d4c-4e34-9ec7-c772339f7774\"]}
datapath_id, hwaddr, name, vswitch
{\"_uuid\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"_version\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"],\"controller\":[\"set\",[]],\"datapath_id\":[\"set\",[]],\"hwaddr\":\"\",\"listeners\":[\"set\",[]],\"mirrors\":[\"set\",[]],\"name\":\"\",\"netflows\":[\"set\",[]],\"snoops\":[\"set\",[]],\"vswitch\":[\"uuid\",\"00000000-0000-0000-0000-000000000000\"]}
<none>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:93"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_570
#AT_START_571
at_fn_group_banner 571 'ovsdb-row.at:115' \
  "row hashing (scalars)" "                          " 43
at_xfail=no
(
  $as_echo "571. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:115: test-ovsdb compare-rows \\
    '{\"columns\":
        {\"i\": {\"type\": \"integer\"},
         \"r\": {\"type\": \"real\"},
         \"b\": {\"type\": \"boolean\"},
	 \"s\": {\"type\": \"string\"},
         \"u\": {\"type\": \"uuid\"}}}' \\
     '[\"null\", {}]' \\
     '[\"i1\", {\"i\": 1}]' \\
     '[\"i2\", {\"i\": 2}]' \\
     '[\"i4\", {\"i\": 4}]' \\
     '[\"i8\", {\"i\": 8}]' \\
     '[\"i16\", {\"i\": 16}]' \\
     '[\"i32\", {\"i\": 32}]' \\
     '[\"i64\", {\"i\": 64}]' \\
     '[\"i128\", {\"i\": 128}]' \\
     '[\"i256\", {\"i\": 256}]' \\
     '[\"null2\", {\"r\": -0}]' \\
     '[\"r123\", {\"r\": 123}]' \\
     '[\"r0.0625\", {\"r\": 0.0625}]' \\
     '[\"r0.125\", {\"r\": 0.125}]' \\
     '[\"r0.25\", {\"r\": 0.25}]' \\
     '[\"r0.5\", {\"r\": 0.5}]' \\
     '[\"r1\", {\"r\": 1}]' \\
     '[\"r2\", {\"r\": 2}]' \\
     '[\"r4\", {\"r\": 4}]' \\
     '[\"r8\", {\"r\": 8}]' \\
     '[\"r16\", {\"r\": 16}]' \\
     '[\"r32\", {\"r\": 32}]' \\
     '[\"null3\", {\"b\": false}]' \\
     '[\"b1\", {\"b\": true}]' \\
     '[\"null4\", {\"s\": \"\"}]' \\
     '[\"s0\", {\"s\": \"a\"}]' \\
     '[\"s1\", {\"s\": \"b\"}]' \\
     '[\"s2\", {\"s\": \"c\"}]' \\
     '[\"s3\", {\"s\": \"d\"}]' \\
     '[\"s4\", {\"s\": \"e\"}]' \\
     '[\"s5\", {\"s\": \"f\"}]' \\
     '[\"s6\", {\"s\": \"g\"}]' \\
     '[\"s7\", {\"s\": \"h\"}]' \\
     '[\"s8\", {\"s\": \"i\"}]' \\
     '[\"s9\", {\"s\": \"j\"}]' \\
     '[\"null5\", {\"u\": [\"uuid\",\"00000000-0000-0000-0000-000000000000\"]}]' \\
     '[\"u1\", {\"u\": [\"uuid\",\"10000000-0000-0000-0000-000000000000\"]}]' \\
     '[\"u2\", {\"u\": [\"uuid\",\"01000000-0000-0000-0000-000000000000\"]}]' \\
     '[\"u3\", {\"u\": [\"uuid\",\"00100000-0000-0000-0000-000000000000\"]}]' \\
     '[\"u4\", {\"u\": [\"uuid\",\"00010000-0000-0000-0000-000000000000\"]}]' \\
     '[\"u5\", {\"u\": [\"uuid\",\"00001000-0000-0000-0000-000000000000\"]}]' \\
     '[\"u6\", {\"u\": [\"uuid\",\"00000100-0000-0000-0000-000000000000\"]}]' \\
     '[\"u7\", {\"u\": [\"uuid\",\"00000010-0000-0000-0000-000000000000\"]}]' \\
     '[\"u8\", {\"u\": [\"uuid\",\"00000001-0000-0000-0000-000000000000\"]}]' \\
     '[\"null6\", {\"u\": [\"uuid\",\"00000000-c6db-4d22-970f-b41fabd20c4b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:115"
( $at_check_trace; test-ovsdb compare-rows \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
     '["null", {}]' \
     '["i1", {"i": 1}]' \
     '["i2", {"i": 2}]' \
     '["i4", {"i": 4}]' \
     '["i8", {"i": 8}]' \
     '["i16", {"i": 16}]' \
     '["i32", {"i": 32}]' \
     '["i64", {"i": 64}]' \
     '["i128", {"i": 128}]' \
     '["i256", {"i": 256}]' \
     '["null2", {"r": -0}]' \
     '["r123", {"r": 123}]' \
     '["r0.0625", {"r": 0.0625}]' \
     '["r0.125", {"r": 0.125}]' \
     '["r0.25", {"r": 0.25}]' \
     '["r0.5", {"r": 0.5}]' \
     '["r1", {"r": 1}]' \
     '["r2", {"r": 2}]' \
     '["r4", {"r": 4}]' \
     '["r8", {"r": 8}]' \
     '["r16", {"r": 16}]' \
     '["r32", {"r": 32}]' \
     '["null3", {"b": false}]' \
     '["b1", {"b": true}]' \
     '["null4", {"s": ""}]' \
     '["s0", {"s": "a"}]' \
     '["s1", {"s": "b"}]' \
     '["s2", {"s": "c"}]' \
     '["s3", {"s": "d"}]' \
     '["s4", {"s": "e"}]' \
     '["s5", {"s": "f"}]' \
     '["s6", {"s": "g"}]' \
     '["s7", {"s": "h"}]' \
     '["s8", {"s": "i"}]' \
     '["s9", {"s": "j"}]' \
     '["null5", {"u": ["uuid","00000000-0000-0000-0000-000000000000"]}]' \
     '["u1", {"u": ["uuid","10000000-0000-0000-0000-000000000000"]}]' \
     '["u2", {"u": ["uuid","01000000-0000-0000-0000-000000000000"]}]' \
     '["u3", {"u": ["uuid","00100000-0000-0000-0000-000000000000"]}]' \
     '["u4", {"u": ["uuid","00010000-0000-0000-0000-000000000000"]}]' \
     '["u5", {"u": ["uuid","00001000-0000-0000-0000-000000000000"]}]' \
     '["u6", {"u": ["uuid","00000100-0000-0000-0000-000000000000"]}]' \
     '["u7", {"u": ["uuid","00000010-0000-0000-0000-000000000000"]}]' \
     '["u8", {"u": ["uuid","00000001-0000-0000-0000-000000000000"]}]' \
     '["null6", {"u": ["uuid","00000000-c6db-4d22-970f-b41fabd20c4b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "null == null2
null == null3
null == null4
null == null5
hash(null) == hash(null6)
null2 == null3
null2 == null4
null2 == null5
hash(null2) == hash(null6)
null3 == null4
null3 == null5
hash(null3) == hash(null6)
null4 == null5
hash(null4) == hash(null6)
hash(null5) == hash(null6)
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:115"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_571
#AT_START_572
at_fn_group_banner 572 'ovsdb-row.at:184' \
  "row hashing (sets)" "                             " 43
at_xfail=no
(
  $as_echo "572. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:184: test-ovsdb compare-rows \\
    '{\"columns\":
        {\"i\": {\"type\": {\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}},
         \"r\": {\"type\": {\"key\": \"real\", \"min\": 0, \"max\": \"unlimited\"}},
         \"b\": {\"type\": {\"key\": \"boolean\", \"min\": 0, \"max\": \"unlimited\"}},
	 \"s\": {\"type\": {\"key\": \"string\", \"min\": 0, \"max\": \"unlimited\"}},
         \"u\": {\"type\": {\"key\": \"uuid\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[\"null0\", {\"i\": [\"set\", []]}]' \\
    '[\"i0\", {\"i\": [\"set\", [0]]}]' \\
    '[\"i01\", {\"i\": [\"set\", [0, 1]]}]' \\
    '[\"i012\", {\"i\": [\"set\", [0, 1, 2]]}]' \\
    '[\"i021\", {\"i\": [\"set\", [0, 2, 1]]}]' \\
    '[\"i201\", {\"i\": [\"set\", [2, 0, 1]]}]' \\
    '[\"i102\", {\"i\": [\"set\", [1, 0, 2]]}]' \\
    '[\"i120\", {\"i\": [\"set\", [1, 2, 0]]}]' \\
    '[\"i210\", {\"i\": [\"set\", [2, 1, 0]]}]' \\
    '[\"r0\", {\"r\": [\"set\", [0]]}]' \\
    '[\"r01\", {\"r\": [\"set\", [0, 1]]}]' \\
    '[\"r012\", {\"r\": [\"set\", [0, 1, 2]]}]' \\
    '[\"r201\", {\"r\": [\"set\", [2, 0, 1]]}]' \\
    '[\"null1\", {\"b\": [\"set\", []]}]' \\
    '[\"b0\", {\"b\": [\"set\", [false]]}]' \\
    '[\"b1\", {\"b\": [\"set\", [true]]}]' \\
    '[\"b01\", {\"b\": [\"set\", [false, true]]}]' \\
    '[\"b10\", {\"b\": [\"set\", [true, false]]}]' \\
    '[\"null2\", {\"s\": [\"set\", []]}]' \\
    '[\"sa\", {\"s\": [\"set\", [\"a\"]]}]' \\
    '[\"sb\", {\"s\": [\"set\", [\"b\"]]}]' \\
    '[\"sab\", {\"s\": [\"set\", [\"a\", \"b\"]]}]' \\
    '[\"sba\", {\"s\": [\"set\", [\"b\", \"a\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:184"
( $at_check_trace; test-ovsdb compare-rows \
    '{"columns":
        {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}},
         "r": {"type": {"key": "real", "min": 0, "max": "unlimited"}},
         "b": {"type": {"key": "boolean", "min": 0, "max": "unlimited"}},
	 "s": {"type": {"key": "string", "min": 0, "max": "unlimited"}},
         "u": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '["null0", {"i": ["set", []]}]' \
    '["i0", {"i": ["set", [0]]}]' \
    '["i01", {"i": ["set", [0, 1]]}]' \
    '["i012", {"i": ["set", [0, 1, 2]]}]' \
    '["i021", {"i": ["set", [0, 2, 1]]}]' \
    '["i201", {"i": ["set", [2, 0, 1]]}]' \
    '["i102", {"i": ["set", [1, 0, 2]]}]' \
    '["i120", {"i": ["set", [1, 2, 0]]}]' \
    '["i210", {"i": ["set", [2, 1, 0]]}]' \
    '["r0", {"r": ["set", [0]]}]' \
    '["r01", {"r": ["set", [0, 1]]}]' \
    '["r012", {"r": ["set", [0, 1, 2]]}]' \
    '["r201", {"r": ["set", [2, 0, 1]]}]' \
    '["null1", {"b": ["set", []]}]' \
    '["b0", {"b": ["set", [false]]}]' \
    '["b1", {"b": ["set", [true]]}]' \
    '["b01", {"b": ["set", [false, true]]}]' \
    '["b10", {"b": ["set", [true, false]]}]' \
    '["null2", {"s": ["set", []]}]' \
    '["sa", {"s": ["set", ["a"]]}]' \
    '["sb", {"s": ["set", ["b"]]}]' \
    '["sab", {"s": ["set", ["a", "b"]]}]' \
    '["sba", {"s": ["set", ["b", "a"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "null0 == null1
null0 == null2
i012 == i021
i012 == i201
i012 == i102
i012 == i120
i012 == i210
i021 == i201
i021 == i102
i021 == i120
i021 == i210
i201 == i102
i201 == i120
i201 == i210
i102 == i120
i102 == i210
i120 == i210
r012 == r201
null1 == null2
b01 == b10
sab == sba
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:184"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_572
#AT_START_573
at_fn_group_banner 573 'ovsdb-row.at:237' \
  "row hashing (maps)" "                             " 43
at_xfail=no
(
  $as_echo "573. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-row.at:237: test-ovsdb compare-rows \\
    '{\"columns\":
        {\"ii\": {\"type\": {\"key\": \"integer\", \"value\": \"integer\",
                         \"min\": 0, \"max\": \"unlimited\"}},
         \"rr\": {\"type\": {\"key\": \"real\", \"value\": \"real\",
                         \"min\": 0, \"max\": \"unlimited\"}},
         \"bb\": {\"type\": {\"key\": \"boolean\", \"value\": \"boolean\",
                         \"min\": 0, \"max\": \"unlimited\"}},
	 \"ss\": {\"type\": {\"key\": \"string\", \"value\": \"string\",
                         \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[\"null\", {}]' \\
    '[\"ii0\", {\"ii\": [\"map\", [[0, 0]]]}]' \\
    '[\"ii1\", {\"ii\": [\"map\", [[0, 1]]]}]' \\
    '[\"ii00\", {\"ii\": [\"map\", [[0, 0], [1, 0]]]}]' \\
    '[\"ii01\", {\"ii\": [\"map\", [[0, 0], [1, 1]]]}]' \\
    '[\"ii10\", {\"ii\": [\"map\", [[0, 1], [1, 0]]]}]' \\
    '[\"ii11\", {\"ii\": [\"map\", [[0, 1], [1, 1]]]}]' \\
    '[\"rr0\", {\"rr\": [\"map\", [[0, 0]]]}]' \\
    '[\"rr0\", {\"rr\": [\"map\", [[0, 1]]]}]' \\
    '[\"rr00\", {\"rr\": [\"map\", [[0, 0], [1, 0]]]}]' \\
    '[\"rr01\", {\"rr\": [\"map\", [[0, 0], [1, 1]]]}]' \\
    '[\"rr10\", {\"rr\": [\"map\", [[0, 1], [1, 0]]]}]' \\
    '[\"rr11\", {\"rr\": [\"map\", [[0, 1], [1, 1]]]}]' \\
    '[\"bb0\", {\"bb\": [\"map\", [[false, false]]]}]' \\
    '[\"bb1\", {\"bb\": [\"map\", [[false, true]]]}]' \\
    '[\"bb00\", {\"bb\": [\"map\", [[false, false], [true, false]]]}]' \\
    '[\"bb01\", {\"bb\": [\"map\", [[false, false], [true, true]]]}]' \\
    '[\"bb10\", {\"bb\": [\"map\", [[false, true], [true, false]]]}]' \\
    '[\"bb11\", {\"bb\": [\"map\", [[false, true], [true, true]]]}]' \\
    '[\"ss0\", {\"ss\": [\"map\", [[\"a\", \"a\"]]]}]' \\
    '[\"ss1\", {\"ss\": [\"map\", [[\"a\", \"b\"]]]}]' \\
    '[\"ss00\", {\"ss\": [\"map\", [[\"a\", \"a\"], [\"b\", \"a\"]]]}]' \\
    '[\"ss01\", {\"ss\": [\"map\", [[\"a\", \"a\"], [\"b\", \"b\"]]]}]' \\
    '[\"ss10\", {\"ss\": [\"map\", [[\"a\", \"b\"], [\"b\", \"a\"]]]}]' \\
    '[\"ss11\", {\"ss\": [\"map\", [[\"a\", \"b\"], [\"b\", \"b\"]]]}]'; echo
"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-row.at:237"
( $at_check_trace; test-ovsdb compare-rows \
    '{"columns":
        {"ii": {"type": {"key": "integer", "value": "integer",
                         "min": 0, "max": "unlimited"}},
         "rr": {"type": {"key": "real", "value": "real",
                         "min": 0, "max": "unlimited"}},
         "bb": {"type": {"key": "boolean", "value": "boolean",
                         "min": 0, "max": "unlimited"}},
	 "ss": {"type": {"key": "string", "value": "string",
                         "min": 0, "max": "unlimited"}}}}' \
    '["null", {}]' \
    '["ii0", {"ii": ["map", [[0, 0]]]}]' \
    '["ii1", {"ii": ["map", [[0, 1]]]}]' \
    '["ii00", {"ii": ["map", [[0, 0], [1, 0]]]}]' \
    '["ii01", {"ii": ["map", [[0, 0], [1, 1]]]}]' \
    '["ii10", {"ii": ["map", [[0, 1], [1, 0]]]}]' \
    '["ii11", {"ii": ["map", [[0, 1], [1, 1]]]}]' \
    '["rr0", {"rr": ["map", [[0, 0]]]}]' \
    '["rr0", {"rr": ["map", [[0, 1]]]}]' \
    '["rr00", {"rr": ["map", [[0, 0], [1, 0]]]}]' \
    '["rr01", {"rr": ["map", [[0, 0], [1, 1]]]}]' \
    '["rr10", {"rr": ["map", [[0, 1], [1, 0]]]}]' \
    '["rr11", {"rr": ["map", [[0, 1], [1, 1]]]}]' \
    '["bb0", {"bb": ["map", [[false, false]]]}]' \
    '["bb1", {"bb": ["map", [[false, true]]]}]' \
    '["bb00", {"bb": ["map", [[false, false], [true, false]]]}]' \
    '["bb01", {"bb": ["map", [[false, false], [true, true]]]}]' \
    '["bb10", {"bb": ["map", [[false, true], [true, false]]]}]' \
    '["bb11", {"bb": ["map", [[false, true], [true, true]]]}]' \
    '["ss0", {"ss": ["map", [["a", "a"]]]}]' \
    '["ss1", {"ss": ["map", [["a", "b"]]]}]' \
    '["ss00", {"ss": ["map", [["a", "a"], ["b", "a"]]]}]' \
    '["ss01", {"ss": ["map", [["a", "a"], ["b", "b"]]]}]' \
    '["ss10", {"ss": ["map", [["a", "b"], ["b", "a"]]]}]' \
    '["ss11", {"ss": ["map", [["a", "b"], ["b", "b"]]]}]'; echo

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-row.at:237"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_573
#AT_START_574
at_fn_group_banner 574 'ovsdb-schema.at:3' \
  "schema with valid refTables - C" "                " 44
at_xfail=no
(
  $as_echo "574. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:3: test-ovsdb parse-schema \\
      '{\"name\": \"mydb\",
        \"version\": \"4.2.1\",
        \"tables\": {
          \"a\": {
            \"columns\": {
              \"map\": {
                \"type\": {
                  \"key\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"b\"},
                  \"value\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"a\"}}}}},
          \"b\": {
            \"columns\": {
              \"aRef\": {
                \"type\": {
                  \"key\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"a\"}}}}}}}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:3"
( $at_check_trace; test-ovsdb parse-schema \
      '{"name": "mydb",
        "version": "4.2.1",
        "tables": {
          "a": {
            "columns": {
              "map": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "b"},
                  "value": {
                    "type": "uuid",
                    "refTable": "a"}}}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}}}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"name\":\"mydb\",\"tables\":{\"a\":{\"columns\":{\"map\":{\"type\":{\"key\":{\"refTable\":\"b\",\"type\":\"uuid\"},\"value\":{\"refTable\":\"a\",\"type\":\"uuid\"}}}}},\"b\":{\"columns\":{\"aRef\":{\"type\":{\"key\":{\"refTable\":\"a\",\"type\":\"uuid\"}}}}}},\"version\":\"4.2.1\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-schema.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_574
#AT_START_575
at_fn_group_banner 575 'ovsdb-schema.at:3' \
  "schema with valid refTables - Python" "           " 44
at_xfail=no
(
  $as_echo "575. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-schema.at:3" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-schema.at:3"


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:3: \$PYTHON \$srcdir/test-ovsdb.py parse-schema \\
      '{\"name\": \"mydb\",
        \"version\": \"4.2.1\",
        \"tables\": {
          \"a\": {
            \"columns\": {
              \"map\": {
                \"type\": {
                  \"key\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"b\"},
                  \"value\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"a\"}}}}},
          \"b\": {
            \"columns\": {
              \"aRef\": {
                \"type\": {
                  \"key\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"a\"}}}}}}}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:3"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "version": "4.2.1",
        "tables": {
          "a": {
            "columns": {
              "map": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "b"},
                  "value": {
                    "type": "uuid",
                    "refTable": "a"}}}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}}}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"name\":\"mydb\",\"tables\":{\"a\":{\"columns\":{\"map\":{\"type\":{\"key\":{\"refTable\":\"b\",\"type\":\"uuid\"},\"value\":{\"refTable\":\"a\",\"type\":\"uuid\"}}}}},\"b\":{\"columns\":{\"aRef\":{\"type\":{\"key\":{\"refTable\":\"a\",\"type\":\"uuid\"}}}}}},\"version\":\"4.2.1\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-schema.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_575
#AT_START_576
at_fn_group_banner 576 'ovsdb-schema.at:29' \
  "schema without version number - C" "              " 44
at_xfail=no
(
  $as_echo "576. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:29: test-ovsdb parse-schema \\
      '{\"name\": \"mydb\",
        \"tables\": {
          \"x\": {
            \"columns\": {
              \"y\": {
                \"type\": \"integer\"}}}}}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:29"
( $at_check_trace; test-ovsdb parse-schema \
      '{"name": "mydb",
        "tables": {
          "x": {
            "columns": {
              "y": {
                "type": "integer"}}}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"name\":\"mydb\",\"tables\":{\"x\":{\"columns\":{\"y\":{\"type\":\"integer\"}}}}}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-schema.at:29"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_576
#AT_START_577
at_fn_group_banner 577 'ovsdb-schema.at:29' \
  "schema without version number - Python" "         " 44
at_xfail=no
(
  $as_echo "577. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-schema.at:29" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-schema.at:29"


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:29: \$PYTHON \$srcdir/test-ovsdb.py parse-schema \\
      '{\"name\": \"mydb\",
        \"tables\": {
          \"x\": {
            \"columns\": {
              \"y\": {
                \"type\": \"integer\"}}}}}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:29"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "tables": {
          "x": {
            "columns": {
              "y": {
                "type": "integer"}}}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"name\":\"mydb\",\"tables\":{\"x\":{\"columns\":{\"y\":{\"type\":\"integer\"}}}}}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-schema.at:29"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_577
#AT_START_578
at_fn_group_banner 578 'ovsdb-schema.at:39' \
  "schema with invalid refTables - C" "              " 44
at_xfail=no
(
  $as_echo "578. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:39: test-ovsdb parse-schema \\
      '{\"name\": \"mydb\",
        \"tables\": {
          \"a\": {
            \"columns\": {
              \"map\": {
                \"type\": {
                  \"key\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"c\"},
                  \"value\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"a\"}}}}},
          \"b\": {
            \"columns\": {
              \"aRef\": {
                \"type\": {
                  \"key\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"a\"}}}}}}}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:39"
( $at_check_trace; test-ovsdb parse-schema \
      '{"name": "mydb",
        "tables": {
          "a": {
            "columns": {
              "map": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "c"},
                  "value": {
                    "type": "uuid",
                    "refTable": "a"}}}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}}}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-schema.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:39: if grep -F -e \"syntax error: column map key refers to undefined table c\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:39"
( $at_check_trace; if grep -F -e "syntax error: column map key refers to undefined table c" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-schema.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_578
#AT_START_579
at_fn_group_banner 579 'ovsdb-schema.at:39' \
  "schema with invalid refTables - Python" "         " 44
at_xfail=no
(
  $as_echo "579. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-schema.at:39" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-schema.at:39"

   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:39: \$PYTHON \$srcdir/test-ovsdb.py parse-schema \\
      '{\"name\": \"mydb\",
        \"tables\": {
          \"a\": {
            \"columns\": {
              \"map\": {
                \"type\": {
                  \"key\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"c\"},
                  \"value\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"a\"}}}}},
          \"b\": {
            \"columns\": {
              \"aRef\": {
                \"type\": {
                  \"key\": {
                    \"type\": \"uuid\",
                    \"refTable\": \"a\"}}}}}}}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:39"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "tables": {
          "a": {
            "columns": {
              "map": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "c"},
                  "value": {
                    "type": "uuid",
                    "refTable": "a"}}}}},
          "b": {
            "columns": {
              "aRef": {
                "type": {
                  "key": {
                    "type": "uuid",
                    "refTable": "a"}}}}}}}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-schema.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:39: if grep -F -e \"syntax error: column map key refers to undefined table c\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:39"
( $at_check_trace; if grep -F -e "syntax error: column map key refers to undefined table c" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-schema.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_579
#AT_START_580
at_fn_group_banner 580 'ovsdb-schema.at:62' \
  "schema with invalid version number - C" "         " 44
at_xfail=no
(
  $as_echo "580. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:62: test-ovsdb parse-schema \\
      '{\"name\": \"mydb\",
        \"tables\": {
          \"x\": {
            \"columns\": {
              \"y\": {
                \"type\": \"integer\"}}}},
        \"version\": \"xxx\"}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:62"
( $at_check_trace; test-ovsdb parse-schema \
      '{"name": "mydb",
        "tables": {
          "x": {
            "columns": {
              "y": {
                "type": "integer"}}}},
        "version": "xxx"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-schema.at:62"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:62: if grep -F -e \"schema version \\\"xxx\\\" not in format x.y.z\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:62"
( $at_check_trace; if grep -F -e "schema version \"xxx\" not in format x.y.z" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-schema.at:62"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_580
#AT_START_581
at_fn_group_banner 581 'ovsdb-schema.at:62' \
  "schema with invalid version number - Python" "    " 44
at_xfail=no
(
  $as_echo "581. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-schema.at:62" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-schema.at:62"

   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:62: \$PYTHON \$srcdir/test-ovsdb.py parse-schema \\
      '{\"name\": \"mydb\",
        \"tables\": {
          \"x\": {
            \"columns\": {
              \"y\": {
                \"type\": \"integer\"}}}},
        \"version\": \"xxx\"}'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:62"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py parse-schema \
      '{"name": "mydb",
        "tables": {
          "x": {
            "columns": {
              "y": {
                "type": "integer"}}}},
        "version": "xxx"}'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-schema.at:62"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-schema.at:62: if grep -F -e \"schema version \\\"xxx\\\" not in format x.y.z\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-schema.at:62"
( $at_check_trace; if grep -F -e "schema version \"xxx\" not in format x.y.z" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-schema.at:62"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_581
#AT_START_582
at_fn_group_banner 582 'ovsdb-condition.at:3' \
  "null condition" "                                 " 45
at_xfail=no
(
  $as_echo "582. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:3: test-ovsdb parse-conditions \\
    '{\"columns\": {\"name\": {\"type\": \"string\"}}}' \\
    '[]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:3"
( $at_check_trace; test-ovsdb parse-conditions \
    '{"columns": {"name": {"type": "string"}}}' \
    '[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_582
#AT_START_583
at_fn_group_banner 583 'ovsdb-condition.at:9' \
  "conditions on scalars" "                          " 45
at_xfail=no
(
  $as_echo "583. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:9: test-ovsdb parse-conditions \\
    '{\"columns\":
        {\"i\": {\"type\": \"integer\"},
         \"r\": {\"type\": \"real\"},
         \"b\": {\"type\": \"boolean\"},
	 \"s\": {\"type\": \"string\"},
         \"u\": {\"type\": \"uuid\"}}}' \\
    '[[\"i\", \"==\", 0]]' \\
    '[[\"i\", \"!=\", 1]]' \\
    '[[\"i\", \"<\", 2]]' \\
    '[[\"i\", \"<=\", 3]]' \\
    '[[\"i\", \">\", 4]]' \\
    '[[\"i\", \">=\", 5]]' \\
    '[[\"i\", \"includes\", 6]]' \\
    '[[\"i\", \"excludes\", 7]]' \\
    '[[\"r\", \"==\", 0.5]]' \\
    '[[\"r\", \"!=\", 1.5]]' \\
    '[[\"r\", \"<\", 2.5]]' \\
    '[[\"r\", \"<=\", 3.5]]' \\
    '[[\"r\", \">\", 4.5]]' \\
    '[[\"r\", \">=\", 5.5]]' \\
    '[[\"r\", \"includes\", 6.5]]' \\
    '[[\"r\", \"excludes\", 7.5]]' \\
    '[[\"b\", \"==\", true]]' \\
    '[[\"b\", \"!=\", false]]' \\
    '[[\"b\", \"includes\", false]]' \\
    '[[\"b\", \"excludes\", true]]' \\
    '[[\"s\", \"==\", \"a\"]]' \\
    '[[\"s\", \"!=\", \"b\"]]' \\
    '[[\"s\", \"includes\", \"c\"]]' \\
    '[[\"s\", \"excludes\", \"d\"]]' \\
    '[[\"u\", \"==\", [\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]' \\
    '[[\"u\", \"!=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]' \\
    '[[\"u\", \"includes\", [\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]]]' \\
    '[[\"u\", \"excludes\", [\"uuid\", \"62315898-64e0-40b9-b26f-ff74225303e6\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:9"
( $at_check_trace; test-ovsdb parse-conditions \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[["i", "==", 0]]' \
    '[["i", "!=", 1]]' \
    '[["i", "<", 2]]' \
    '[["i", "<=", 3]]' \
    '[["i", ">", 4]]' \
    '[["i", ">=", 5]]' \
    '[["i", "includes", 6]]' \
    '[["i", "excludes", 7]]' \
    '[["r", "==", 0.5]]' \
    '[["r", "!=", 1.5]]' \
    '[["r", "<", 2.5]]' \
    '[["r", "<=", 3.5]]' \
    '[["r", ">", 4.5]]' \
    '[["r", ">=", 5.5]]' \
    '[["r", "includes", 6.5]]' \
    '[["r", "excludes", 7.5]]' \
    '[["b", "==", true]]' \
    '[["b", "!=", false]]' \
    '[["b", "includes", false]]' \
    '[["b", "excludes", true]]' \
    '[["s", "==", "a"]]' \
    '[["s", "!=", "b"]]' \
    '[["s", "includes", "c"]]' \
    '[["s", "excludes", "d"]]' \
    '[["u", "==", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]]' \
    '[["u", "!=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "includes", ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]' \
    '[["u", "excludes", ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[[\"i\",\"==\",0]]
[[\"i\",\"!=\",1]]
[[\"i\",\"<\",2]]
[[\"i\",\"<=\",3]]
[[\"i\",\">\",4]]
[[\"i\",\">=\",5]]
[[\"i\",\"includes\",6]]
[[\"i\",\"excludes\",7]]
[[\"r\",\"==\",0.5]]
[[\"r\",\"!=\",1.5]]
[[\"r\",\"<\",2.5]]
[[\"r\",\"<=\",3.5]]
[[\"r\",\">\",4.5]]
[[\"r\",\">=\",5.5]]
[[\"r\",\"includes\",6.5]]
[[\"r\",\"excludes\",7.5]]
[[\"b\",\"==\",true]]
[[\"b\",\"!=\",false]]
[[\"b\",\"includes\",false]]
[[\"b\",\"excludes\",true]]
[[\"s\",\"==\",\"a\"]]
[[\"s\",\"!=\",\"b\"]]
[[\"s\",\"includes\",\"c\"]]
[[\"s\",\"excludes\",\"d\"]]
[[\"u\",\"==\",[\"uuid\",\"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]
[[\"u\",\"!=\",[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]
[[\"u\",\"includes\",[\"uuid\",\"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]]]
[[\"u\",\"excludes\",[\"uuid\",\"62315898-64e0-40b9-b26f-ff74225303e6\"]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:9"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_583
#AT_START_584
at_fn_group_banner 584 'ovsdb-condition.at:75' \
  "disallowed conditions on scalars" "               " 45
at_xfail=no
(
  $as_echo "584. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovsdb-condition.at:77: test-ovsdb parse-conditions \\
    '{\"columns\":
        {\"i\": {\"type\": \"integer\"},
         \"r\": {\"type\": \"real\"},
         \"b\": {\"type\": \"boolean\"},
	 \"s\": {\"type\": \"string\"},
         \"u\": {\"type\": \"uuid\"}}}' \\
    '[[\"b\", \">\", true]]' \\
    '[[\"b\", \">=\", false]]' \\
    '[[\"b\", \"<\", false]]' \\
    '[[\"b\", \"<=\", false]]' \\
    '[[\"s\", \">\", \"a\"]]' \\
    '[[\"s\", \">=\", \"b\"]]' \\
    '[[\"s\", \"<\", \"c\"]]' \\
    '[[\"s\", \"<=\", \"d\"]]' \\
    '[[\"u\", \">\", [\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]' \\
    '[[\"u\", \">=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]' \\
    '[[\"u\", \"<\", [\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]]]' \\
    '[[\"u\", \"<=\", [\"uuid\", \"62315898-64e0-40b9-b26f-ff74225303e6\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:77"
( $at_check_trace; test-ovsdb parse-conditions \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[["b", ">", true]]' \
    '[["b", ">=", false]]' \
    '[["b", "<", false]]' \
    '[["b", "<=", false]]' \
    '[["s", ">", "a"]]' \
    '[["s", ">=", "b"]]' \
    '[["s", "<", "c"]]' \
    '[["s", "<=", "d"]]' \
    '[["u", ">", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]]' \
    '[["u", ">=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "<", ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]' \
    '[["u", "<=", ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "test-ovsdb: syntax \"[\"b\",\">\",true]\": syntax error: Type mismatch: \">\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\">=\",false]\": syntax error: Type mismatch: \">=\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\"<\",false]\": syntax error: Type mismatch: \"<\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\"<=\",false]\": syntax error: Type mismatch: \"<=\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"s\",\">\",\"a\"]\": syntax error: Type mismatch: \">\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\">=\",\"b\"]\": syntax error: Type mismatch: \">=\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\"<\",\"c\"]\": syntax error: Type mismatch: \"<\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\"<=\",\"d\"]\": syntax error: Type mismatch: \"<=\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"u\",\">\",[\"uuid\",\"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]\": syntax error: Type mismatch: \">\" operator may not be applied to column u of type uuid.
test-ovsdb: syntax \"[\"u\",\">=\",[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"]]\": syntax error: Type mismatch: \">=\" operator may not be applied to column u of type uuid.
test-ovsdb: syntax \"[\"u\",\"<\",[\"uuid\",\"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]]\": syntax error: Type mismatch: \"<\" operator may not be applied to column u of type uuid.
test-ovsdb: syntax \"[\"u\",\"<=\",[\"uuid\",\"62315898-64e0-40b9-b26f-ff74225303e6\"]]\": syntax error: Type mismatch: \"<=\" operator may not be applied to column u of type uuid.
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-condition.at:77"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_584
#AT_START_585
at_fn_group_banner 585 'ovsdb-condition.at:112' \
  "conditions on sets" "                             " 45
at_xfail=no
(
  $as_echo "585. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:112: test-ovsdb parse-conditions \\
    '{\"columns\":
        {\"i\": {\"type\": {\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}},
         \"r\": {\"type\": {\"key\": \"real\", \"min\": 0, \"max\": \"unlimited\"}},
         \"b\": {\"type\": {\"key\": \"boolean\", \"min\": 0, \"max\": \"unlimited\"}},
	 \"s\": {\"type\": {\"key\": \"string\", \"min\": 0, \"max\": \"unlimited\"}},
         \"u\": {\"type\": {\"key\": \"uuid\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[[\"i\", \"==\", [\"set\", []]]]' \\
    '[[\"i\", \"!=\", [\"set\", [1]]]]' \\
    '[[\"i\", \"includes\", [\"set\", [1, 2]]]]' \\
    '[[\"i\", \"excludes\", [\"set\", [1, 2, 3]]]]' \\
    '[[\"r\", \"==\", [\"set\", []]]]' \\
    '[[\"r\", \"!=\", [\"set\", [1.5]]]]' \\
    '[[\"r\", \"includes\", [\"set\", [1.5, 2.5]]]]' \\
    '[[\"r\", \"excludes\", [\"set\", [1.5, 2.5, 3.5]]]]' \\
    '[[\"b\", \"==\", [\"set\", [true]]]]' \\
    '[[\"b\", \"!=\", [\"set\", [false]]]]' \\
    '[[\"b\", \"includes\", [\"set\", [false]]]]' \\
    '[[\"b\", \"excludes\", [\"set\", [true, false]]]]' \\
    '[[\"s\", \"==\", [\"set\", [\"a\"]]]]' \\
    '[[\"s\", \"!=\", [\"set\", [\"a\", \"b\"]]]]' \\
    '[[\"s\", \"includes\", [\"set\", [\"c\"]]]]' \\
    '[[\"s\", \"excludes\", [\"set\", [\"c\", \"d\"]]]]' \\
    '[[\"u\", \"==\",
       [\"set\", [[\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]]]' \\
    '[[\"u\", \"==\",
       [\"set\", [[\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"],
                [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]]]' \\
    '[[\"u\", \"includes\",
       [\"set\", [[\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"],
                [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"],
                [\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]]]]]' \\
    '[[\"u\", \"excludes\",
       [\"set\", [[\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"],
                [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"],
                [\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"],
                [\"uuid\", \"62315898-64e0-40b9-b26f-ff74225303e6\"]]]]]' \\
"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:112"
( $at_check_trace; test-ovsdb parse-conditions \
    '{"columns":
        {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}},
         "r": {"type": {"key": "real", "min": 0, "max": "unlimited"}},
         "b": {"type": {"key": "boolean", "min": 0, "max": "unlimited"}},
	 "s": {"type": {"key": "string", "min": 0, "max": "unlimited"}},
         "u": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '[["i", "==", ["set", []]]]' \
    '[["i", "!=", ["set", [1]]]]' \
    '[["i", "includes", ["set", [1, 2]]]]' \
    '[["i", "excludes", ["set", [1, 2, 3]]]]' \
    '[["r", "==", ["set", []]]]' \
    '[["r", "!=", ["set", [1.5]]]]' \
    '[["r", "includes", ["set", [1.5, 2.5]]]]' \
    '[["r", "excludes", ["set", [1.5, 2.5, 3.5]]]]' \
    '[["b", "==", ["set", [true]]]]' \
    '[["b", "!=", ["set", [false]]]]' \
    '[["b", "includes", ["set", [false]]]]' \
    '[["b", "excludes", ["set", [true, false]]]]' \
    '[["s", "==", ["set", ["a"]]]]' \
    '[["s", "!=", ["set", ["a", "b"]]]]' \
    '[["s", "includes", ["set", ["c"]]]]' \
    '[["s", "excludes", ["set", ["c", "d"]]]]' \
    '[["u", "==",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]]]]' \
    '[["u", "==",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"],
                ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]]]' \
    '[["u", "includes",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"],
                ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"],
                ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]]]' \
    '[["u", "excludes",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"],
                ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"],
                ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"],
                ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]]]]]' \

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[[\"i\",\"==\",[\"set\",[]]]]
[[\"i\",\"!=\",1]]
[[\"i\",\"includes\",[\"set\",[1,2]]]]
[[\"i\",\"excludes\",[\"set\",[1,2,3]]]]
[[\"r\",\"==\",[\"set\",[]]]]
[[\"r\",\"!=\",1.5]]
[[\"r\",\"includes\",[\"set\",[1.5,2.5]]]]
[[\"r\",\"excludes\",[\"set\",[1.5,2.5,3.5]]]]
[[\"b\",\"==\",true]]
[[\"b\",\"!=\",false]]
[[\"b\",\"includes\",false]]
[[\"b\",\"excludes\",[\"set\",[false,true]]]]
[[\"s\",\"==\",\"a\"]]
[[\"s\",\"!=\",[\"set\",[\"a\",\"b\"]]]]
[[\"s\",\"includes\",\"c\"]]
[[\"s\",\"excludes\",[\"set\",[\"c\",\"d\"]]]]
[[\"u\",\"==\",[\"uuid\",\"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]
[[\"u\",\"==\",[\"set\",[[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"],[\"uuid\",\"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]]]
[[\"u\",\"includes\",[\"set\",[[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"],[\"uuid\",\"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"],[\"uuid\",\"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]]]
[[\"u\",\"excludes\",[\"set\",[[\"uuid\",\"62315898-64e0-40b9-b26f-ff74225303e6\"],[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"],[\"uuid\",\"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"],[\"uuid\",\"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:112"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_585
#AT_START_586
at_fn_group_banner 586 'ovsdb-condition.at:173' \
  "condition sorting" "                              " 45
at_xfail=no
(
  $as_echo "586. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:173: test-ovsdb parse-conditions \\
    '{\"columns\": {\"i\": {\"type\": \"integer\"}}}' \\
    '[[\"i\", \"excludes\", 7],
      [\"i\", \"!=\", 8],
      [\"i\", \"==\", 1],
      [\"i\", \"includes\", 2],
      [\"i\", \"<=\", 3],
      [\"i\", \"<\", 4],
      [\"i\", \">\", 6],
      [\"i\", \">=\", 5],
      [\"_uuid\", \"==\", [\"uuid\", \"d50e85c6-8ae7-4b16-b69e-4395928bd9be\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:173"
( $at_check_trace; test-ovsdb parse-conditions \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[["i", "excludes", 7],
      ["i", "!=", 8],
      ["i", "==", 1],
      ["i", "includes", 2],
      ["i", "<=", 3],
      ["i", "<", 4],
      ["i", ">", 6],
      ["i", ">=", 5],
      ["_uuid", "==", ["uuid", "d50e85c6-8ae7-4b16-b69e-4395928bd9be"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[[\"_uuid\",\"==\",[\"uuid\",\"d50e85c6-8ae7-4b16-b69e-4395928bd9be\"]],[\"i\",\"==\",1],[\"i\",\"includes\",2],[\"i\",\"<=\",3],[\"i\",\"<\",4],[\"i\",\">=\",5],[\"i\",\">\",6],[\"i\",\"excludes\",7],[\"i\",\"!=\",8]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:173"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_586
#AT_START_587
at_fn_group_banner 587 'ovsdb-condition.at:187' \
  "evaluating null condition" "                      " 45
at_xfail=no
(
  $as_echo "587. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:187: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"i\": {\"type\": \"integer\"}}}' \\
    '[[]]' \\
    '[{\"i\": 0},
      {\"i\": 1},
      {\"i\": 2}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:187"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: TTT
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_587
#AT_START_588
at_fn_group_banner 588 'ovsdb-condition.at:196' \
  "evaluating conditions on integers" "              " 45
at_xfail=no
(
  $as_echo "588. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:196: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"i\": {\"type\": \"integer\"}}}' \\
    '[[[\"i\", \"<\", 1]],
      [[\"i\", \"<=\", 1]],
      [[\"i\", \"==\", 1]],
      [[\"i\", \"!=\", 1]],
      [[\"i\", \">=\", 1]],
      [[\"i\", \">\", 1]],
      [[\"i\", \"includes\", 1]],
      [[\"i\", \"excludes\", 1]]]' \\
    '[{\"i\": 0},
      {\"i\": 1},
      {\"i\": 2}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:196"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[["i", "<", 1]],
      [["i", "<=", 1]],
      [["i", "==", 1]],
      [["i", "!=", 1]],
      [["i", ">=", 1]],
      [["i", ">", 1]],
      [["i", "includes", 1]],
      [["i", "excludes", 1]]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: T--
condition  1: TT-
condition  2: -T-
condition  3: T-T
condition  4: -TT
condition  5: --T
condition  6: -T-
condition  7: T-T
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:196"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_588
#AT_START_589
at_fn_group_banner 589 'ovsdb-condition.at:219' \
  "evaluating conditions on reals" "                 " 45
at_xfail=no
(
  $as_echo "589. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:219: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"r\": {\"type\": \"real\"}}}' \\
    '[[[\"r\", \"<\", 5.0]],
      [[\"r\", \"<=\", 5.0]],
      [[\"r\", \"==\", 5.0]],
      [[\"r\", \"!=\", 5.0]],
      [[\"r\", \">=\", 5.0]],
      [[\"r\", \">\", 5.0]],
      [[\"r\", \"includes\", 5.0]],
      [[\"r\", \"excludes\", 5.0]]]' \\
    '[{\"r\": 0},
      {\"r\": 5.0},
      {\"r\": 5.1}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:219"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"r": {"type": "real"}}}' \
    '[[["r", "<", 5.0]],
      [["r", "<=", 5.0]],
      [["r", "==", 5.0]],
      [["r", "!=", 5.0]],
      [["r", ">=", 5.0]],
      [["r", ">", 5.0]],
      [["r", "includes", 5.0]],
      [["r", "excludes", 5.0]]]' \
    '[{"r": 0},
      {"r": 5.0},
      {"r": 5.1}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: T--
condition  1: TT-
condition  2: -T-
condition  3: T-T
condition  4: -TT
condition  5: --T
condition  6: -T-
condition  7: T-T
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:219"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_589
#AT_START_590
at_fn_group_banner 590 'ovsdb-condition.at:242' \
  "evaluating conditions on booleans" "              " 45
at_xfail=no
(
  $as_echo "590. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:242: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"b\": {\"type\": \"boolean\"}}}' \\
    '[[[\"b\", \"==\", true]],
      [[\"b\", \"!=\", true]],
      [[\"b\", \"includes\", true]],
      [[\"b\", \"excludes\", true]],
      [[\"b\", \"==\", false]],
      [[\"b\", \"!=\", false]],
      [[\"b\", \"includes\", false]],
      [[\"b\", \"excludes\", false]]]' \\
    '[{\"b\": true},
      {\"b\": false}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:242"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"b": {"type": "boolean"}}}' \
    '[[["b", "==", true]],
      [["b", "!=", true]],
      [["b", "includes", true]],
      [["b", "excludes", true]],
      [["b", "==", false]],
      [["b", "!=", false]],
      [["b", "includes", false]],
      [["b", "excludes", false]]]' \
    '[{"b": true},
      {"b": false}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: T-
condition  1: -T
condition  2: T-
condition  3: -T
condition  4: -T
condition  5: T-
condition  6: -T
condition  7: T-
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:242"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_590
#AT_START_591
at_fn_group_banner 591 'ovsdb-condition.at:264' \
  "evaluating conditions on strings" "               " 45
at_xfail=no
(
  $as_echo "591. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:264: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"s\": {\"type\": \"string\"}}}' \\
    '[[[\"s\", \"==\", \"\"]],
      [[\"s\", \"!=\", \"\"]],
      [[\"s\", \"includes\", \"\"]],
      [[\"s\", \"excludes\", \"\"]],
      [[\"s\", \"==\", \"foo\"]],
      [[\"s\", \"!=\", \"foo\"]],
      [[\"s\", \"includes\", \"foo\"]],
      [[\"s\", \"excludes\", \"foo\"]]]' \\
    '[{\"s\": \"\"},
      {\"s\": \"foo\"},
      {\"s\": \"xxx\"}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:264"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"s": {"type": "string"}}}' \
    '[[["s", "==", ""]],
      [["s", "!=", ""]],
      [["s", "includes", ""]],
      [["s", "excludes", ""]],
      [["s", "==", "foo"]],
      [["s", "!=", "foo"]],
      [["s", "includes", "foo"]],
      [["s", "excludes", "foo"]]]' \
    '[{"s": ""},
      {"s": "foo"},
      {"s": "xxx"}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: T--
condition  1: -TT
condition  2: T--
condition  3: -TT
condition  4: -T-
condition  5: T-T
condition  6: -T-
condition  7: T-T
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:264"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_591
#AT_START_592
at_fn_group_banner 592 'ovsdb-condition.at:287' \
  "evaluating conditions on UUIDs" "                 " 45
at_xfail=no
(
  $as_echo "592. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:287: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"u\": {\"type\": \"uuid\"}}}' \\
    '[[[\"u\", \"==\", [\"uuid\", \"8a1dbdb8-416f-4ce9-affa-3332691714b6\"]]],
      [[\"u\", \"!=\", [\"uuid\", \"8a1dbdb8-416f-4ce9-affa-3332691714b6\"]]],
      [[\"u\", \"includes\", [\"uuid\", \"8a1dbdb8-416f-4ce9-affa-3332691714b6\"]]],
      [[\"u\", \"excludes\", [\"uuid\", \"8a1dbdb8-416f-4ce9-affa-3332691714b6\"]]],
      [[\"u\", \"==\", [\"uuid\", \"06151f9d-62d6-4f59-8504-e9765107faa9\"]]],
      [[\"u\", \"!=\", [\"uuid\", \"06151f9d-62d6-4f59-8504-e9765107faa9\"]]],
      [[\"u\", \"includes\", [\"uuid\", \"06151f9d-62d6-4f59-8504-e9765107faa9\"]]],
      [[\"u\", \"excludes\", [\"uuid\", \"06151f9d-62d6-4f59-8504-e9765107faa9\"]]]]' \\
    '[{\"u\": [\"uuid\", \"8a1dbdb8-416f-4ce9-affa-3332691714b6\"]},
      {\"u\": [\"uuid\", \"06151f9d-62d6-4f59-8504-e9765107faa9\"]},
      {\"u\": [\"uuid\", \"00000000-0000-0000-0000-000000000000\"]}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:287"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"u": {"type": "uuid"}}}' \
    '[[["u", "==", ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]]],
      [["u", "!=", ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]]],
      [["u", "includes", ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]]],
      [["u", "excludes", ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]]],
      [["u", "==", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]]],
      [["u", "!=", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]]],
      [["u", "includes", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]]],
      [["u", "excludes", ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]]]]' \
    '[{"u": ["uuid", "8a1dbdb8-416f-4ce9-affa-3332691714b6"]},
      {"u": ["uuid", "06151f9d-62d6-4f59-8504-e9765107faa9"]},
      {"u": ["uuid", "00000000-0000-0000-0000-000000000000"]}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: T--
condition  1: -TT
condition  2: T--
condition  3: -TT
condition  4: -T-
condition  5: T-T
condition  6: -T-
condition  7: T-T
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:287"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_592
#AT_START_593
at_fn_group_banner 593 'ovsdb-condition.at:310' \
  "evaluating conditions on sets" "                  " 45
at_xfail=no
(
  $as_echo "593. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:310: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[[[\"i\", \"==\", [\"set\", []]]],
      [[\"i\", \"==\", [\"set\", [0]]]],
      [[\"i\", \"==\", [\"set\", [1]]]],
      [[\"i\", \"==\", [\"set\", [0, 1]]]],
      [[\"i\", \"==\", [\"set\", [2]]]],
      [[\"i\", \"==\", [\"set\", [2, 0]]]],
      [[\"i\", \"==\", [\"set\", [2, 1]]]],
      [[\"i\", \"==\", [\"set\", [2, 1, 0]]]],
      [[\"i\", \"!=\", [\"set\", []]]],
      [[\"i\", \"!=\", [\"set\", [0]]]],
      [[\"i\", \"!=\", [\"set\", [1]]]],
      [[\"i\", \"!=\", [\"set\", [0, 1]]]],
      [[\"i\", \"!=\", [\"set\", [2]]]],
      [[\"i\", \"!=\", [\"set\", [2, 0]]]],
      [[\"i\", \"!=\", [\"set\", [2, 1]]]],
      [[\"i\", \"!=\", [\"set\", [2, 1, 0]]]],
      [[\"i\", \"includes\", [\"set\", []]]],
      [[\"i\", \"includes\", [\"set\", [0]]]],
      [[\"i\", \"includes\", [\"set\", [1]]]],
      [[\"i\", \"includes\", [\"set\", [0, 1]]]],
      [[\"i\", \"includes\", [\"set\", [2]]]],
      [[\"i\", \"includes\", [\"set\", [2, 0]]]],
      [[\"i\", \"includes\", [\"set\", [2, 1]]]],
      [[\"i\", \"includes\", [\"set\", [2, 1, 0]]]],
      [[\"i\", \"excludes\", [\"set\", []]]],
      [[\"i\", \"excludes\", [\"set\", [0]]]],
      [[\"i\", \"excludes\", [\"set\", [1]]]],
      [[\"i\", \"excludes\", [\"set\", [0, 1]]]],
      [[\"i\", \"excludes\", [\"set\", [2]]]],
      [[\"i\", \"excludes\", [\"set\", [2, 0]]]],
      [[\"i\", \"excludes\", [\"set\", [2, 1]]]],
      [[\"i\", \"excludes\", [\"set\", [2, 1, 0]]]]]' \\
    '[{\"i\": [\"set\", []]},
      {\"i\": [\"set\", [0]]},
      {\"i\": [\"set\", [1]]},
      {\"i\": [\"set\", [0, 1]]},
      {\"i\": [\"set\", [2]]},
      {\"i\": [\"set\", [2, 0]]},
      {\"i\": [\"set\", [2, 1]]},
      {\"i\": [\"set\", [2, 1, 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:310"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}}}}' \
    '[[["i", "==", ["set", []]]],
      [["i", "==", ["set", [0]]]],
      [["i", "==", ["set", [1]]]],
      [["i", "==", ["set", [0, 1]]]],
      [["i", "==", ["set", [2]]]],
      [["i", "==", ["set", [2, 0]]]],
      [["i", "==", ["set", [2, 1]]]],
      [["i", "==", ["set", [2, 1, 0]]]],
      [["i", "!=", ["set", []]]],
      [["i", "!=", ["set", [0]]]],
      [["i", "!=", ["set", [1]]]],
      [["i", "!=", ["set", [0, 1]]]],
      [["i", "!=", ["set", [2]]]],
      [["i", "!=", ["set", [2, 0]]]],
      [["i", "!=", ["set", [2, 1]]]],
      [["i", "!=", ["set", [2, 1, 0]]]],
      [["i", "includes", ["set", []]]],
      [["i", "includes", ["set", [0]]]],
      [["i", "includes", ["set", [1]]]],
      [["i", "includes", ["set", [0, 1]]]],
      [["i", "includes", ["set", [2]]]],
      [["i", "includes", ["set", [2, 0]]]],
      [["i", "includes", ["set", [2, 1]]]],
      [["i", "includes", ["set", [2, 1, 0]]]],
      [["i", "excludes", ["set", []]]],
      [["i", "excludes", ["set", [0]]]],
      [["i", "excludes", ["set", [1]]]],
      [["i", "excludes", ["set", [0, 1]]]],
      [["i", "excludes", ["set", [2]]]],
      [["i", "excludes", ["set", [2, 0]]]],
      [["i", "excludes", ["set", [2, 1]]]],
      [["i", "excludes", ["set", [2, 1, 0]]]]]' \
    '[{"i": ["set", []]},
      {"i": ["set", [0]]},
      {"i": ["set", [1]]},
      {"i": ["set", [0, 1]]},
      {"i": ["set", [2]]},
      {"i": ["set", [2, 0]]},
      {"i": ["set", [2, 1]]},
      {"i": ["set", [2, 1, 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: T---- ---
condition  1: -T--- ---
condition  2: --T-- ---
condition  3: ---T- ---
condition  4: ----T ---
condition  5: ----- T--
condition  6: ----- -T-
condition  7: ----- --T
condition  8: -TTTT TTT
condition  9: T-TTT TTT
condition 10: TT-TT TTT
condition 11: TTT-T TTT
condition 12: TTTT- TTT
condition 13: TTTTT -TT
condition 14: TTTTT T-T
condition 15: TTTTT TT-
condition 16: TTTTT TTT
condition 17: -T-T- T-T
condition 18: --TT- -TT
condition 19: ---T- --T
condition 20: ----T TTT
condition 21: ----- T-T
condition 22: ----- -TT
condition 23: ----- --T
condition 24: TTTTT TTT
condition 25: T-T-T -T-
condition 26: TT--T T--
condition 27: T---T ---
condition 28: TTTT- ---
condition 29: T-T-- ---
condition 30: TT--- ---
condition 31: T---- ---
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:310"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_593
#AT_START_594
at_fn_group_banner 594 'ovsdb-condition.at:389' \
  "evaluating conditions on maps (1)" "              " 45
at_xfail=no
(
  $as_echo "594. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:389: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": \"integer\",
                                 \"value\": \"boolean\",
                                 \"min\": 0,
                                 \"max\": \"unlimited\"}}}}' \\
    '[[[\"i\", \"==\", [\"map\", []]]],
      [[\"i\", \"==\", [\"map\", [[0, true]]]]],
      [[\"i\", \"==\", [\"map\", [[1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"!=\", [\"map\", []]]],
      [[\"i\", \"!=\", [\"map\", [[0, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"includes\", [\"map\", []]]],
      [[\"i\", \"includes\", [\"map\", [[0, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", []]]],
      [[\"i\", \"excludes\", [\"map\", [[0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [1, false], [0, true]]]]]]' \\
    '[{\"i\": [\"map\", []]},
      {\"i\": [\"map\", [[0, true]]]},
      {\"i\": [\"map\", [[1, false]]]},
      {\"i\": [\"map\", [[0, true], [1, false]]]},
      {\"i\": [\"map\", [[2, true]]]},
      {\"i\": [\"map\", [[2, true], [0, true]]]},
      {\"i\": [\"map\", [[2, true], [1, false]]]},
      {\"i\": [\"map\", [[2, true], [1, false], [0, true]]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:389"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "value": "boolean",
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[[["i", "==", ["map", []]]],
      [["i", "==", ["map", [[0, true]]]]],
      [["i", "==", ["map", [[1, false]]]]],
      [["i", "==", ["map", [[0, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true]]]]],
      [["i", "==", ["map", [[2, true], [0, true]]]]],
      [["i", "==", ["map", [[2, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "!=", ["map", []]]],
      [["i", "!=", ["map", [[0, true]]]]],
      [["i", "!=", ["map", [[1, false]]]]],
      [["i", "!=", ["map", [[0, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true]]]]],
      [["i", "!=", ["map", [[2, true], [0, true]]]]],
      [["i", "!=", ["map", [[2, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", []]]],
      [["i", "includes", ["map", [[0, true]]]]],
      [["i", "includes", ["map", [[1, false]]]]],
      [["i", "includes", ["map", [[0, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true]]]]],
      [["i", "includes", ["map", [[2, true], [0, true]]]]],
      [["i", "includes", ["map", [[2, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "excludes", ["map", []]]],
      [["i", "excludes", ["map", [[0, true]]]]],
      [["i", "excludes", ["map", [[1, false]]]]],
      [["i", "excludes", ["map", [[0, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true]]]]],
      [["i", "excludes", ["map", [[2, true], [0, true]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false], [0, true]]]]]]' \
    '[{"i": ["map", []]},
      {"i": ["map", [[0, true]]]},
      {"i": ["map", [[1, false]]]},
      {"i": ["map", [[0, true], [1, false]]]},
      {"i": ["map", [[2, true]]]},
      {"i": ["map", [[2, true], [0, true]]]},
      {"i": ["map", [[2, true], [1, false]]]},
      {"i": ["map", [[2, true], [1, false], [0, true]]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: T---- ---
condition  1: -T--- ---
condition  2: --T-- ---
condition  3: ---T- ---
condition  4: ----T ---
condition  5: ----- T--
condition  6: ----- -T-
condition  7: ----- --T
condition  8: -TTTT TTT
condition  9: T-TTT TTT
condition 10: TT-TT TTT
condition 11: TTT-T TTT
condition 12: TTTT- TTT
condition 13: TTTTT -TT
condition 14: TTTTT T-T
condition 15: TTTTT TT-
condition 16: TTTTT TTT
condition 17: -T-T- T-T
condition 18: --TT- -TT
condition 19: ---T- --T
condition 20: ----T TTT
condition 21: ----- T-T
condition 22: ----- -TT
condition 23: ----- --T
condition 24: TTTTT TTT
condition 25: T-T-T -T-
condition 26: TT--T T--
condition 27: T---T ---
condition 28: TTTT- ---
condition 29: T-T-- ---
condition 30: TT--- ---
condition 31: T---- ---
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:389"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_594
#AT_START_595
at_fn_group_banner 595 'ovsdb-condition.at:471' \
  "evaluating conditions on maps (2)" "              " 45
at_xfail=no
(
  $as_echo "595. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-condition.at:471: test-ovsdb evaluate-conditions \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": \"integer\",
                                 \"value\": \"boolean\",
                                 \"min\": 0,
                                 \"max\": \"unlimited\"}}}}' \\
    '[[[\"i\", \"==\", [\"map\", []]]],
      [[\"i\", \"==\", [\"map\", [[0, true]]]]],
      [[\"i\", \"==\", [\"map\", [[1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"!=\", [\"map\", []]]],
      [[\"i\", \"!=\", [\"map\", [[0, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"includes\", [\"map\", []]]],
      [[\"i\", \"includes\", [\"map\", [[0, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", []]]],
      [[\"i\", \"excludes\", [\"map\", [[0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [1, false], [0, true]]]]]]' \\
    '[{\"i\": [\"map\", []]},
      {\"i\": [\"map\", [[0, true]]]},
      {\"i\": [\"map\", [[0, false]]]},
      {\"i\": [\"map\", [[1, false]]]},
      {\"i\": [\"map\", [[1, true]]]},

      {\"i\": [\"map\", [[0, true], [1, false]]]},
      {\"i\": [\"map\", [[0, true], [1, true]]]},
      {\"i\": [\"map\", [[2, true]]]},
      {\"i\": [\"map\", [[2, false]]]},
      {\"i\": [\"map\", [[2, true], [0, true]]]},

      {\"i\": [\"map\", [[2, false], [0, true]]]},
      {\"i\": [\"map\", [[2, true], [1, false]]]},
      {\"i\": [\"map\", [[2, true], [1, true]]]},
      {\"i\": [\"map\", [[2, true], [1, false], [0, true]]]},
      {\"i\": [\"map\", [[2, true], [1, false], [0, false]]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-condition.at:471"
( $at_check_trace; test-ovsdb evaluate-conditions \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "value": "boolean",
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[[["i", "==", ["map", []]]],
      [["i", "==", ["map", [[0, true]]]]],
      [["i", "==", ["map", [[1, false]]]]],
      [["i", "==", ["map", [[0, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true]]]]],
      [["i", "==", ["map", [[2, true], [0, true]]]]],
      [["i", "==", ["map", [[2, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "!=", ["map", []]]],
      [["i", "!=", ["map", [[0, true]]]]],
      [["i", "!=", ["map", [[1, false]]]]],
      [["i", "!=", ["map", [[0, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true]]]]],
      [["i", "!=", ["map", [[2, true], [0, true]]]]],
      [["i", "!=", ["map", [[2, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", []]]],
      [["i", "includes", ["map", [[0, true]]]]],
      [["i", "includes", ["map", [[1, false]]]]],
      [["i", "includes", ["map", [[0, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true]]]]],
      [["i", "includes", ["map", [[2, true], [0, true]]]]],
      [["i", "includes", ["map", [[2, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "excludes", ["map", []]]],
      [["i", "excludes", ["map", [[0, true]]]]],
      [["i", "excludes", ["map", [[1, false]]]]],
      [["i", "excludes", ["map", [[0, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true]]]]],
      [["i", "excludes", ["map", [[2, true], [0, true]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false], [0, true]]]]]]' \
    '[{"i": ["map", []]},
      {"i": ["map", [[0, true]]]},
      {"i": ["map", [[0, false]]]},
      {"i": ["map", [[1, false]]]},
      {"i": ["map", [[1, true]]]},

      {"i": ["map", [[0, true], [1, false]]]},
      {"i": ["map", [[0, true], [1, true]]]},
      {"i": ["map", [[2, true]]]},
      {"i": ["map", [[2, false]]]},
      {"i": ["map", [[2, true], [0, true]]]},

      {"i": ["map", [[2, false], [0, true]]]},
      {"i": ["map", [[2, true], [1, false]]]},
      {"i": ["map", [[2, true], [1, true]]]},
      {"i": ["map", [[2, true], [1, false], [0, true]]]},
      {"i": ["map", [[2, true], [1, false], [0, false]]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "condition  0: T---- ----- -----
condition  1: -T--- ----- -----
condition  2: ---T- ----- -----
condition  3: ----- T---- -----
condition  4: ----- --T-- -----
condition  5: ----- ----T -----
condition  6: ----- ----- -T---
condition  7: ----- ----- ---T-
condition  8: -TTTT TTTTT TTTTT
condition  9: T-TTT TTTTT TTTTT
condition 10: TTT-T TTTTT TTTTT
condition 11: TTTTT -TTTT TTTTT
condition 12: TTTTT TT-TT TTTTT
condition 13: TTTTT TTTT- TTTTT
condition 14: TTTTT TTTTT T-TTT
condition 15: TTTTT TTTTT TTT-T
condition 16: TTTTT TTTTT TTTTT
condition 17: -T--- TT--T T--T-
condition 18: ---T- T---- -T-TT
condition 19: ----- T---- ---T-
condition 20: ----- --T-T -TTTT
condition 21: ----- ----T ---T-
condition 22: ----- ----- -T-TT
condition 23: ----- ----- ---T-
condition 24: TTTTT TTTTT TTTTT
condition 25: T-TTT --TT- -TT-T
condition 26: TTT-T -TTTT T-T--
condition 27: T-T-T --TT- --T--
condition 28: TTTTT TT-T- T----
condition 29: T-TTT ---T- -----
condition 30: TTT-T -T-T- T----
condition 31: T-T-T ---T- -----
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-condition.at:471"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_595
#AT_START_596
at_fn_group_banner 596 'ovsdb-mutation.at:3' \
  "null mutation" "                                  " 46
at_xfail=no
(
  $as_echo "596. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:3: test-ovsdb parse-mutations \\
    '{\"columns\": {\"name\": {\"type\": \"string\"}}}' \\
    '[]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:3"
( $at_check_trace; test-ovsdb parse-mutations \
    '{"columns": {"name": {"type": "string"}}}' \
    '[]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_596
#AT_START_597
at_fn_group_banner 597 'ovsdb-mutation.at:9' \
  "mutations on scalars" "                           " 46
at_xfail=no
(
  $as_echo "597. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:9: test-ovsdb parse-mutations \\
    '{\"columns\":
        {\"i\": {\"type\": \"integer\"},
         \"r\": {\"type\": \"real\"},
         \"b\": {\"type\": \"boolean\"},
	 \"s\": {\"type\": \"string\"},
         \"u\": {\"type\": \"uuid\"}}}' \\
    '[[\"i\", \"+=\", 0]]' \\
    '[[\"i\", \"-=\", 1]]' \\
    '[[\"i\", \"*=\", 2]]' \\
    '[[\"i\", \"/=\", 3]]' \\
    '[[\"i\", \"%=\", 4]]' \\
    '[[\"r\", \"+=\", 0.5]]' \\
    '[[\"r\", \"-=\", 1.5]]' \\
    '[[\"r\", \"*=\", 2.5]]' \\
    '[[\"r\", \"/=\", 3.5]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:9"
( $at_check_trace; test-ovsdb parse-mutations \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[["i", "+=", 0]]' \
    '[["i", "-=", 1]]' \
    '[["i", "*=", 2]]' \
    '[["i", "/=", 3]]' \
    '[["i", "%=", 4]]' \
    '[["r", "+=", 0.5]]' \
    '[["r", "-=", 1.5]]' \
    '[["r", "*=", 2.5]]' \
    '[["r", "/=", 3.5]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[[\"i\",\"+=\",0]]
[[\"i\",\"-=\",1]]
[[\"i\",\"*=\",2]]
[[\"i\",\"/=\",3]]
[[\"i\",\"%=\",4]]
[[\"r\",\"+=\",0.5]]
[[\"r\",\"-=\",1.5]]
[[\"r\",\"*=\",2.5]]
[[\"r\",\"/=\",3.5]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:9"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_597
#AT_START_598
at_fn_group_banner 598 'ovsdb-mutation.at:37' \
  "disallowed mutations on scalars" "                " 46
at_xfail=no
(
  $as_echo "598. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:39: test-ovsdb parse-mutations \\
    '{\"columns\":
        {\"i\": {\"type\": \"integer\"},
         \"r\": {\"type\": \"real\"},
         \"b\": {\"type\": \"boolean\"},
	 \"s\": {\"type\": \"string\"},
         \"u\": {\"type\": \"uuid\"}}}' \\
    '[[\"i\", \"xxx\", 1]]' \\
    '[[\"i\", \"insert\", 1]]' \\
    '[[\"i\", \"delete\", 2]]' \\
    '[[\"r\", \"%=\", 0.5]]' \\
    '[[\"r\", \"insert\", 1.5]]' \\
    '[[\"r\", \"delete\", 2.5]]' \\
    '[[\"b\", \"+=\", true]]' \\
    '[[\"b\", \"-=\", false]]' \\
    '[[\"b\", \"*=\", true]]' \\
    '[[\"b\", \"/=\", false]]' \\
    '[[\"b\", \"%=\", true]]' \\
    '[[\"b\", \"insert\", false]]' \\
    '[[\"b\", \"delete\", true]]' \\
    '[[\"s\", \"+=\", \"a\"]]' \\
    '[[\"s\", \"-=\", \"b\"]]' \\
    '[[\"s\", \"*=\", \"c\"]]' \\
    '[[\"s\", \"/=\", \"d\"]]' \\
    '[[\"s\", \"%=\", \"e\"]]' \\
    '[[\"s\", \"insert\", \"f\"]]' \\
    '[[\"s\", \"delete\", \"g\"]]' \\
    '[[\"u\", \"+=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]' \\
    '[[\"u\", \"-=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]' \\
    '[[\"u\", \"*=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]' \\
    '[[\"u\", \"/=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]' \\
    '[[\"u\", \"insert\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]' \\
    '[[\"u\", \"delete\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:39"
( $at_check_trace; test-ovsdb parse-mutations \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[["i", "xxx", 1]]' \
    '[["i", "insert", 1]]' \
    '[["i", "delete", 2]]' \
    '[["r", "%=", 0.5]]' \
    '[["r", "insert", 1.5]]' \
    '[["r", "delete", 2.5]]' \
    '[["b", "+=", true]]' \
    '[["b", "-=", false]]' \
    '[["b", "*=", true]]' \
    '[["b", "/=", false]]' \
    '[["b", "%=", true]]' \
    '[["b", "insert", false]]' \
    '[["b", "delete", true]]' \
    '[["s", "+=", "a"]]' \
    '[["s", "-=", "b"]]' \
    '[["s", "*=", "c"]]' \
    '[["s", "/=", "d"]]' \
    '[["s", "%=", "e"]]' \
    '[["s", "insert", "f"]]' \
    '[["s", "delete", "g"]]' \
    '[["u", "+=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "-=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "*=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "/=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "insert", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]' \
    '[["u", "delete", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "test-ovsdb: unknown mutator: No mutator named xxx.
test-ovsdb: syntax \"[\"i\",\"insert\",1]\": syntax error: Type mismatch: \"insert\" operator may not be applied to column i of type integer.
test-ovsdb: syntax \"[\"i\",\"delete\",2]\": syntax error: Type mismatch: \"delete\" operator may not be applied to column i of type integer.
test-ovsdb: syntax \"[\"r\",\"%=\",0.5]\": syntax error: Type mismatch: \"%=\" operator may not be applied to column r of type real.
test-ovsdb: syntax \"[\"r\",\"insert\",1.5]\": syntax error: Type mismatch: \"insert\" operator may not be applied to column r of type real.
test-ovsdb: syntax \"[\"r\",\"delete\",2.5]\": syntax error: Type mismatch: \"delete\" operator may not be applied to column r of type real.
test-ovsdb: syntax \"[\"b\",\"+=\",true]\": syntax error: Type mismatch: \"+=\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\"-=\",false]\": syntax error: Type mismatch: \"-=\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\"*=\",true]\": syntax error: Type mismatch: \"*=\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\"/=\",false]\": syntax error: Type mismatch: \"/=\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\"%=\",true]\": syntax error: Type mismatch: \"%=\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\"insert\",false]\": syntax error: Type mismatch: \"insert\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"b\",\"delete\",true]\": syntax error: Type mismatch: \"delete\" operator may not be applied to column b of type boolean.
test-ovsdb: syntax \"[\"s\",\"+=\",\"a\"]\": syntax error: Type mismatch: \"+=\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\"-=\",\"b\"]\": syntax error: Type mismatch: \"-=\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\"*=\",\"c\"]\": syntax error: Type mismatch: \"*=\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\"/=\",\"d\"]\": syntax error: Type mismatch: \"/=\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\"%=\",\"e\"]\": syntax error: Type mismatch: \"%=\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\"insert\",\"f\"]\": syntax error: Type mismatch: \"insert\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"s\",\"delete\",\"g\"]\": syntax error: Type mismatch: \"delete\" operator may not be applied to column s of type string.
test-ovsdb: syntax \"[\"u\",\"+=\",[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"]]\": syntax error: Type mismatch: \"+=\" operator may not be applied to column u of type uuid.
test-ovsdb: syntax \"[\"u\",\"-=\",[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"]]\": syntax error: Type mismatch: \"-=\" operator may not be applied to column u of type uuid.
test-ovsdb: syntax \"[\"u\",\"*=\",[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"]]\": syntax error: Type mismatch: \"*=\" operator may not be applied to column u of type uuid.
test-ovsdb: syntax \"[\"u\",\"/=\",[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"]]\": syntax error: Type mismatch: \"/=\" operator may not be applied to column u of type uuid.
test-ovsdb: syntax \"[\"u\",\"insert\",[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"]]\": syntax error: Type mismatch: \"insert\" operator may not be applied to column u of type uuid.
test-ovsdb: syntax \"[\"u\",\"delete\",[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"]]\": syntax error: Type mismatch: \"delete\" operator may not be applied to column u of type uuid.
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-mutation.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_598
#AT_START_599
at_fn_group_banner 599 'ovsdb-mutation.at:102' \
  "mutations on sets" "                              " 46
at_xfail=no
(
  $as_echo "599. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:102: test-ovsdb parse-mutations \\
    '{\"columns\":
        {\"i\": {\"type\": {\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}},
         \"r\": {\"type\": {\"key\": \"real\", \"min\": 0, \"max\": \"unlimited\"}},
         \"b\": {\"type\": {\"key\": \"boolean\", \"min\": 0, \"max\": \"unlimited\"}},
	 \"s\": {\"type\": {\"key\": \"string\", \"min\": 0, \"max\": \"unlimited\"}},
         \"u\": {\"type\": {\"key\": \"uuid\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[[\"i\", \"+=\", 1]]' \\
    '[[\"i\", \"-=\", 2]]' \\
    '[[\"i\", \"*=\", 3]]' \\
    '[[\"i\", \"/=\", 4]]' \\
    '[[\"i\", \"%=\", 5]]' \\
    '[[\"i\", \"insert\", [\"set\", [1, 2]]]]' \\
    '[[\"i\", \"delete\", [\"set\", [1, 2, 3]]]]' \\
    '[[\"r\", \"+=\", 1]]' \\
    '[[\"r\", \"-=\", 2]]' \\
    '[[\"r\", \"*=\", 3]]' \\
    '[[\"r\", \"/=\", 4]]' \\
    '[[\"r\", \"insert\", [\"set\", [1, 2]]]]' \\
    '[[\"r\", \"delete\", [\"set\", [1, 2, 3]]]]' \\
    '[[\"b\", \"insert\", [\"set\", [true]]]]' \\
    '[[\"b\", \"delete\", [\"set\", [false]]]]' \\
    '[[\"s\", \"insert\", [\"set\", [\"a\"]]]]' \\
    '[[\"s\", \"delete\", [\"set\", [\"a\", \"b\"]]]]' \\
    '[[\"u\", \"insert\",
       [\"set\", [[\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]]]' \\
    '[[\"u\", \"delete\",
       [\"set\", [[\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"],
                [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]]]]' \\
"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:102"
( $at_check_trace; test-ovsdb parse-mutations \
    '{"columns":
        {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}},
         "r": {"type": {"key": "real", "min": 0, "max": "unlimited"}},
         "b": {"type": {"key": "boolean", "min": 0, "max": "unlimited"}},
	 "s": {"type": {"key": "string", "min": 0, "max": "unlimited"}},
         "u": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '[["i", "+=", 1]]' \
    '[["i", "-=", 2]]' \
    '[["i", "*=", 3]]' \
    '[["i", "/=", 4]]' \
    '[["i", "%=", 5]]' \
    '[["i", "insert", ["set", [1, 2]]]]' \
    '[["i", "delete", ["set", [1, 2, 3]]]]' \
    '[["r", "+=", 1]]' \
    '[["r", "-=", 2]]' \
    '[["r", "*=", 3]]' \
    '[["r", "/=", 4]]' \
    '[["r", "insert", ["set", [1, 2]]]]' \
    '[["r", "delete", ["set", [1, 2, 3]]]]' \
    '[["b", "insert", ["set", [true]]]]' \
    '[["b", "delete", ["set", [false]]]]' \
    '[["s", "insert", ["set", ["a"]]]]' \
    '[["s", "delete", ["set", ["a", "b"]]]]' \
    '[["u", "insert",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]]]]' \
    '[["u", "delete",
       ["set", [["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"],
                ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]]]]' \

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[[\"i\",\"+=\",1]]
[[\"i\",\"-=\",2]]
[[\"i\",\"*=\",3]]
[[\"i\",\"/=\",4]]
[[\"i\",\"%=\",5]]
[[\"i\",\"insert\",[\"set\",[1,2]]]]
[[\"i\",\"delete\",[\"set\",[1,2,3]]]]
[[\"r\",\"+=\",1]]
[[\"r\",\"-=\",2]]
[[\"r\",\"*=\",3]]
[[\"r\",\"/=\",4]]
[[\"r\",\"insert\",[\"set\",[1,2]]]]
[[\"r\",\"delete\",[\"set\",[1,2,3]]]]
[[\"b\",\"insert\",true]]
[[\"b\",\"delete\",false]]
[[\"s\",\"insert\",\"a\"]]
[[\"s\",\"delete\",[\"set\",[\"a\",\"b\"]]]]
[[\"u\",\"insert\",[\"uuid\",\"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]
[[\"u\",\"delete\",[\"set\",[[\"uuid\",\"9179ca6d-6d65-400a-b455-3ad92783a099\"],[\"uuid\",\"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]]]]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:102"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_599
#AT_START_600
at_fn_group_banner 600 'ovsdb-mutation.at:154' \
  "executing null mutation" "                        " 46
at_xfail=no
(
  $as_echo "600. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:154: test-ovsdb execute-mutations \\
    '{\"columns\": {\"i\": {\"type\": \"integer\"}}}' \\
    '[[]]' \\
    '[{\"i\": 0},
      {\"i\": 1},
      {\"i\": 2}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:154"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: no change
row 1: no change
row 2: no change

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:154"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_600
#AT_START_601
at_fn_group_banner 601 'ovsdb-mutation.at:167' \
  "executing mutations on integers" "                " 46
at_xfail=no
(
  $as_echo "601. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:167: test-ovsdb execute-mutations \\
    '{\"columns\": {\"i\": {\"type\": \"integer\"}}}' \\
    '[[[\"i\", \"+=\", 1]],
      [[\"i\", \"-=\", 2]],
      [[\"i\", \"*=\", 3]],
      [[\"i\", \"/=\", 4]],
      [[\"i\", \"%=\", 2]]]' \\
    '[{\"i\": 0},
      {\"i\": 1},
      {\"i\": 2}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:167"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[["i", "+=", 1]],
      [["i", "-=", 2]],
      [["i", "*=", 3]],
      [["i", "/=", 4]],
      [["i", "%=", 2]]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"i\":1}
row 1: {\"i\":2}
row 2: {\"i\":3}

mutation  1:
row 0: {\"i\":-2}
row 1: {\"i\":-1}
row 2: {\"i\":0}

mutation  2:
row 0: no change
row 1: {\"i\":3}
row 2: {\"i\":6}

mutation  3:
row 0: no change
row 1: {\"i\":0}
row 2: {\"i\":0}

mutation  4:
row 0: no change
row 1: no change
row 2: {\"i\":0}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:167"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_601
#AT_START_602
at_fn_group_banner 602 'ovsdb-mutation.at:204' \
  "integer overflow detection" "                     " 46
at_xfail=no
(
  $as_echo "602. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:204: test-ovsdb execute-mutations \\
    '{\"columns\": {\"i\": {\"type\": \"integer\"}}}' \\
    '[[[\"i\", \"+=\", 9223372036854775807]],
      [[\"i\", \"+=\", -9223372036854775808]],
      [[\"i\", \"-=\", -9223372036854775808]],
      [[\"i\", \"-=\", 9223372036854775807]],
      [[\"i\", \"*=\", 3037000500]],
      [[\"i\", \"/=\", -1]],
      [[\"i\", \"/=\", 0]]]' \\
    '[{\"i\": 0},
      {\"i\": 1},
      {\"i\": -1},
      {\"i\": 9223372036854775807},
      {\"i\": -9223372036854775808},
      {\"i\": 3037000500},
      {\"i\": -3037000500}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:204"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[[["i", "+=", 9223372036854775807]],
      [["i", "+=", -9223372036854775808]],
      [["i", "-=", -9223372036854775808]],
      [["i", "-=", 9223372036854775807]],
      [["i", "*=", 3037000500]],
      [["i", "/=", -1]],
      [["i", "/=", 0]]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": -1},
      {"i": 9223372036854775807},
      {"i": -9223372036854775808},
      {"i": 3037000500},
      {"i": -3037000500}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"i\":9223372036854775807}
row 1: range error: Result of \"+=\" operation is out of range.
row 2: {\"i\":9223372036854775806}
row 3: range error: Result of \"+=\" operation is out of range.
row 4: {\"i\":-1}
row 5: range error: Result of \"+=\" operation is out of range.
row 6: {\"i\":9223372033817775307}

mutation  1:
row 0: {\"i\":-9223372036854775808}
row 1: {\"i\":-9223372036854775807}
row 2: range error: Result of \"+=\" operation is out of range.
row 3: {\"i\":-1}
row 4: range error: Result of \"+=\" operation is out of range.
row 5: {\"i\":-9223372033817775308}
row 6: range error: Result of \"+=\" operation is out of range.

mutation  2:
row 0: range error: Result of \"-=\" operation is out of range.
row 1: range error: Result of \"-=\" operation is out of range.
row 2: {\"i\":9223372036854775807}
row 3: range error: Result of \"-=\" operation is out of range.
row 4: {\"i\":0}
row 5: range error: Result of \"-=\" operation is out of range.
row 6: {\"i\":9223372033817775308}

mutation  3:
row 0: {\"i\":-9223372036854775807}
row 1: {\"i\":-9223372036854775806}
row 2: {\"i\":-9223372036854775808}
row 3: {\"i\":0}
row 4: range error: Result of \"-=\" operation is out of range.
row 5: {\"i\":-9223372033817775307}
row 6: range error: Result of \"-=\" operation is out of range.

mutation  4:
row 0: no change
row 1: {\"i\":3037000500}
row 2: {\"i\":-3037000500}
row 3: range error: Result of \"*=\" operation is out of range.
row 4: range error: Result of \"*=\" operation is out of range.
row 5: range error: Result of \"*=\" operation is out of range.
row 6: range error: Result of \"*=\" operation is out of range.

mutation  5:
row 0: no change
row 1: {\"i\":-1}
row 2: {\"i\":1}
row 3: {\"i\":-9223372036854775807}
row 4: range error: Result of \"/=\" operation is out of range.
row 5: {\"i\":-3037000500}
row 6: {\"i\":3037000500}

mutation  6:
row 0: domain error: Division by zero.
row 1: domain error: Division by zero.
row 2: domain error: Division by zero.
row 3: domain error: Division by zero.
row 4: domain error: Division by zero.
row 5: domain error: Division by zero.
row 6: domain error: Division by zero.

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:204"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_602
#AT_START_603
at_fn_group_banner 603 'ovsdb-mutation.at:285' \
  "executing mutations on integers with constraints" "" 46
at_xfail=no
(
  $as_echo "603. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:285: test-ovsdb execute-mutations \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": {\"type\": \"integer\",
                                         \"minInteger\": 0,
                                         \"maxInteger\": 2}}}}}' \\
    '[[[\"i\", \"+=\", 1]],
      [[\"i\", \"-=\", 2]],
      [[\"i\", \"*=\", 3]],
      [[\"i\", \"/=\", 4]],
      [[\"i\", \"%=\", 2]]]' \\
    '[{\"i\": 0},
      {\"i\": 1},
      {\"i\": 2}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:285"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": {"key": {"type": "integer",
                                         "minInteger": 0,
                                         "maxInteger": 2}}}}}' \
    '[[["i", "+=", 1]],
      [["i", "-=", 2]],
      [["i", "*=", 3]],
      [["i", "/=", 4]],
      [["i", "%=", 2]]]' \
    '[{"i": 0},
      {"i": 1},
      {"i": 2}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"i\":1}
row 1: {\"i\":2}
row 2: constraint violation: 3 is not in the valid range 0 to 2 (inclusive)

mutation  1:
row 0: constraint violation: -2 is not in the valid range 0 to 2 (inclusive)
row 1: constraint violation: -1 is not in the valid range 0 to 2 (inclusive)
row 2: {\"i\":0}

mutation  2:
row 0: no change
row 1: constraint violation: 3 is not in the valid range 0 to 2 (inclusive)
row 2: constraint violation: 6 is not in the valid range 0 to 2 (inclusive)

mutation  3:
row 0: no change
row 1: {\"i\":0}
row 2: {\"i\":0}

mutation  4:
row 0: no change
row 1: no change
row 2: {\"i\":0}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:285"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_603
#AT_START_604
at_fn_group_banner 604 'ovsdb-mutation.at:324' \
  "executing mutations on reals" "                   " 46
at_xfail=no
(
  $as_echo "604. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:324: test-ovsdb execute-mutations \\
    '{\"columns\": {\"r\": {\"type\": \"real\"}}}' \\
    '[[[\"r\", \"+=\", 0.5]],
      [[\"r\", \"-=\", 1.5]],
      [[\"r\", \"*=\", 2.5]],
      [[\"r\", \"/=\", 4]]]' \\
    '[{\"r\": 0},
      {\"r\": -2.5},
      {\"r\": 1.25}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:324"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"r": {"type": "real"}}}' \
    '[[["r", "+=", 0.5]],
      [["r", "-=", 1.5]],
      [["r", "*=", 2.5]],
      [["r", "/=", 4]]]' \
    '[{"r": 0},
      {"r": -2.5},
      {"r": 1.25}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"r\":0.5}
row 1: {\"r\":-2}
row 2: {\"r\":1.75}

mutation  1:
row 0: {\"r\":-1.5}
row 1: {\"r\":-4}
row 2: {\"r\":-0.25}

mutation  2:
row 0: no change
row 1: {\"r\":-6.25}
row 2: {\"r\":3.125}

mutation  3:
row 0: no change
row 1: {\"r\":-0.625}
row 2: {\"r\":0.3125}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:324"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_604
#AT_START_605
at_fn_group_banner 605 'ovsdb-mutation.at:355' \
  "real overflow detection" "                        " 46
at_xfail=no
(
  $as_echo "605. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:355: test-ovsdb execute-mutations \\
    '{\"columns\": {\"r\": {\"type\": \"real\"}}}' \\
    '[[[\"r\", \"+=\", 1.7976931348623157e+308]],
      [[\"r\", \"-=\", 1.7976931348623157e+308]],
      [[\"r\", \"*=\", 2]],
      [[\"r\", \"/=\", 4]],
      [[\"r\", \"/=\", 0.5]],
      [[\"r\", \"/=\", 0]]]' \\
    '[{\"r\": 0},
      {\"r\": 1.7976931348623157e+308},
      {\"r\": -1.7976931348623157e+308}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:355"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"r": {"type": "real"}}}' \
    '[[["r", "+=", 1.7976931348623157e+308]],
      [["r", "-=", 1.7976931348623157e+308]],
      [["r", "*=", 2]],
      [["r", "/=", 4]],
      [["r", "/=", 0.5]],
      [["r", "/=", 0]]]' \
    '[{"r": 0},
      {"r": 1.7976931348623157e+308},
      {"r": -1.7976931348623157e+308}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"r\":1.79769313486232e+308}
row 1: range error: Result of \"+=\" operation is out of range.
row 2: {\"r\":0}

mutation  1:
row 0: {\"r\":-1.79769313486232e+308}
row 1: {\"r\":0}
row 2: range error: Result of \"-=\" operation is out of range.

mutation  2:
row 0: no change
row 1: range error: Result of \"*=\" operation is out of range.
row 2: range error: Result of \"*=\" operation is out of range.

mutation  3:
row 0: no change
row 1: {\"r\":4.49423283715579e+307}
row 2: {\"r\":-4.49423283715579e+307}

mutation  4:
row 0: no change
row 1: range error: Result of \"/=\" operation is out of range.
row 2: range error: Result of \"/=\" operation is out of range.

mutation  5:
row 0: domain error: Division by zero.
row 1: domain error: Division by zero.
row 2: domain error: Division by zero.

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:355"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_605
#AT_START_606
at_fn_group_banner 606 'ovsdb-mutation.at:398' \
  "executing mutations on reals with constraints" "  " 46
at_xfail=no
(
  $as_echo "606. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:398: test-ovsdb execute-mutations \\
    '{\"columns\": {\"r\": {\"type\": {\"key\": {\"type\": \"real\",
                                         \"minReal\": -2.5,
                                         \"maxReal\": 1.75}}}}}' \\
    '[[[\"r\", \"+=\", 0.5]],
      [[\"r\", \"-=\", 1.5]],
      [[\"r\", \"*=\", 2.5]],
      [[\"r\", \"/=\", 4]]]' \\
    '[{\"r\": 0},
      {\"r\": -2.5},
      {\"r\": 1.25}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:398"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"r": {"type": {"key": {"type": "real",
                                         "minReal": -2.5,
                                         "maxReal": 1.75}}}}}' \
    '[[["r", "+=", 0.5]],
      [["r", "-=", 1.5]],
      [["r", "*=", 2.5]],
      [["r", "/=", 4]]]' \
    '[{"r": 0},
      {"r": -2.5},
      {"r": 1.25}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"r\":0.5}
row 1: {\"r\":-2}
row 2: {\"r\":1.75}

mutation  1:
row 0: {\"r\":-1.5}
row 1: constraint violation: -4 is not in the valid range -2.5 to 1.75 (inclusive)
row 2: {\"r\":-0.25}

mutation  2:
row 0: no change
row 1: constraint violation: -6.25 is not in the valid range -2.5 to 1.75 (inclusive)
row 2: constraint violation: 3.125 is not in the valid range -2.5 to 1.75 (inclusive)

mutation  3:
row 0: no change
row 1: {\"r\":-0.625}
row 2: {\"r\":0.3125}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:398"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_606
#AT_START_607
at_fn_group_banner 607 'ovsdb-mutation.at:431' \
  "executing mutations on integer sets" "            " 46
at_xfail=no
(
  $as_echo "607. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:431: test-ovsdb execute-mutations \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": {\"type\": \"integer\",
                                         \"maxInteger\": 5},
                                 \"min\": 0,
                                 \"max\": \"unlimited\"}}}}' \\
    '[[[\"i\", \"+=\", 1]],
      [[\"i\", \"-=\", 2]],
      [[\"i\", \"*=\", 3]],
      [[\"i\", \"/=\", 4]],
      [[\"i\", \"%=\", 2]],
      [[\"i\", \"insert\", [\"set\", [1]]]],
      [[\"i\", \"insert\", [\"set\", [2, 3]]]],
      [[\"i\", \"delete\", [\"set\", [1]]]],
      [[\"i\", \"delete\", [\"set\", [2, 3]]]]]' \\
    '[{\"i\": [\"set\", []]},
      {\"i\": [\"set\", [0]]},
      {\"i\": [\"set\", [0, 1]]},
      {\"i\": [\"set\", [0, 1, 2]]}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:431"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": {"key": {"type": "integer",
                                         "maxInteger": 5},
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[[["i", "+=", 1]],
      [["i", "-=", 2]],
      [["i", "*=", 3]],
      [["i", "/=", 4]],
      [["i", "%=", 2]],
      [["i", "insert", ["set", [1]]]],
      [["i", "insert", ["set", [2, 3]]]],
      [["i", "delete", ["set", [1]]]],
      [["i", "delete", ["set", [2, 3]]]]]' \
    '[{"i": ["set", []]},
      {"i": ["set", [0]]},
      {"i": ["set", [0, 1]]},
      {"i": ["set", [0, 1, 2]]}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: no change
row 1: {\"i\":1}
row 2: {\"i\":[\"set\",[1,2]]}
row 3: {\"i\":[\"set\",[1,2,3]]}

mutation  1:
row 0: no change
row 1: {\"i\":-2}
row 2: {\"i\":[\"set\",[-2,-1]]}
row 3: {\"i\":[\"set\",[-2,-1,0]]}

mutation  2:
row 0: no change
row 1: no change
row 2: {\"i\":[\"set\",[0,3]]}
row 3: constraint violation: 6 is greater than maximum allowed value 5

mutation  3:
row 0: no change
row 1: no change
row 2: constraint violation: Result of \"/=\" operation contains duplicates.
row 3: constraint violation: Result of \"/=\" operation contains duplicates.

mutation  4:
row 0: no change
row 1: no change
row 2: no change
row 3: constraint violation: Result of \"%=\" operation contains duplicates.

mutation  5:
row 0: {\"i\":1}
row 1: {\"i\":[\"set\",[0,1]]}
row 2: no change
row 3: no change

mutation  6:
row 0: {\"i\":[\"set\",[2,3]]}
row 1: {\"i\":[\"set\",[0,2,3]]}
row 2: {\"i\":[\"set\",[0,1,2,3]]}
row 3: {\"i\":[\"set\",[0,1,2,3]]}

mutation  7:
row 0: no change
row 1: no change
row 2: {\"i\":0}
row 3: {\"i\":[\"set\",[0,2]]}

mutation  8:
row 0: no change
row 1: no change
row 2: no change
row 3: {\"i\":[\"set\",[0,1]]}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:431"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_607
#AT_START_608
at_fn_group_banner 608 'ovsdb-mutation.at:505' \
  "executing mutations on real sets" "               " 46
at_xfail=no
(
  $as_echo "608. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:505: test-ovsdb execute-mutations \\
    '{\"columns\": {\"r\": {\"type\": {\"key\": {\"type\": \"real\",
                                         \"maxReal\": 6},
                                 \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[[[\"r\", \"+=\", 0.5]],
      [[\"r\", \"-=\", 1.5]],
      [[\"r\", \"*=\", 2.5]],
      [[\"r\", \"/=\", 4]],
      [[\"r\", \"*=\", 0]],
      [[\"r\", \"insert\", 1.5]],
      [[\"r\", \"insert\", 3]],
      [[\"r\", \"delete\", [\"set\", [1.5, 3.5]]]],
      [[\"r\", \"delete\", [\"set\", [0.5, 1.5, 2.5]]]]]' \\
    '[{\"r\": [\"set\", []]},
      {\"r\": 0.5},
      {\"r\": [\"set\", [0.5, 1.5]]},
      {\"r\": [\"set\", [0.5, 1.5, 2.5]]}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:505"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"r": {"type": {"key": {"type": "real",
                                         "maxReal": 6},
                                 "min": 0, "max": "unlimited"}}}}' \
    '[[["r", "+=", 0.5]],
      [["r", "-=", 1.5]],
      [["r", "*=", 2.5]],
      [["r", "/=", 4]],
      [["r", "*=", 0]],
      [["r", "insert", 1.5]],
      [["r", "insert", 3]],
      [["r", "delete", ["set", [1.5, 3.5]]]],
      [["r", "delete", ["set", [0.5, 1.5, 2.5]]]]]' \
    '[{"r": ["set", []]},
      {"r": 0.5},
      {"r": ["set", [0.5, 1.5]]},
      {"r": ["set", [0.5, 1.5, 2.5]]}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: no change
row 1: {\"r\":1}
row 2: {\"r\":[\"set\",[1,2]]}
row 3: {\"r\":[\"set\",[1,2,3]]}

mutation  1:
row 0: no change
row 1: {\"r\":-1}
row 2: {\"r\":[\"set\",[-1,0]]}
row 3: {\"r\":[\"set\",[-1,0,1]]}

mutation  2:
row 0: no change
row 1: {\"r\":1.25}
row 2: {\"r\":[\"set\",[1.25,3.75]]}
row 3: constraint violation: 6.25 is greater than maximum allowed value 6

mutation  3:
row 0: no change
row 1: {\"r\":0.125}
row 2: {\"r\":[\"set\",[0.125,0.375]]}
row 3: {\"r\":[\"set\",[0.125,0.375,0.625]]}

mutation  4:
row 0: no change
row 1: {\"r\":0}
row 2: constraint violation: Result of \"*=\" operation contains duplicates.
row 3: constraint violation: Result of \"*=\" operation contains duplicates.

mutation  5:
row 0: {\"r\":1.5}
row 1: {\"r\":[\"set\",[0.5,1.5]]}
row 2: no change
row 3: no change

mutation  6:
row 0: {\"r\":3}
row 1: {\"r\":[\"set\",[0.5,3]]}
row 2: {\"r\":[\"set\",[0.5,1.5,3]]}
row 3: {\"r\":[\"set\",[0.5,1.5,2.5,3]]}

mutation  7:
row 0: no change
row 1: no change
row 2: {\"r\":0.5}
row 3: {\"r\":[\"set\",[0.5,2.5]]}

mutation  8:
row 0: no change
row 1: {\"r\":[\"set\",[]]}
row 2: {\"r\":[\"set\",[]]}
row 3: {\"r\":[\"set\",[]]}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:505"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_608
#AT_START_609
at_fn_group_banner 609 'ovsdb-mutation.at:578' \
  "executing mutations on boolean sets" "            " 46
at_xfail=no
(
  $as_echo "609. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:578: test-ovsdb execute-mutations \\
    '{\"columns\": {\"b\": {\"type\": {\"key\": \"boolean\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[[[\"b\", \"insert\", [\"set\", [false]]]],
      [[\"b\", \"insert\", [\"set\", [true]]]],
      [[\"b\", \"insert\", [\"set\", [false, true]]]],
      [[\"b\", \"delete\", [\"set\", [false]]]],
      [[\"b\", \"delete\", [\"set\", [true]]]],
      [[\"b\", \"delete\", [\"set\", [true, false]]]]]' \\
    '[{\"b\": [\"set\", []]},
      {\"b\": [\"set\", [false]]},
      {\"b\": [\"set\", [true]]},
      {\"b\": [\"set\", [false, true]]}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:578"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"b": {"type": {"key": "boolean", "min": 0, "max": "unlimited"}}}}' \
    '[[["b", "insert", ["set", [false]]]],
      [["b", "insert", ["set", [true]]]],
      [["b", "insert", ["set", [false, true]]]],
      [["b", "delete", ["set", [false]]]],
      [["b", "delete", ["set", [true]]]],
      [["b", "delete", ["set", [true, false]]]]]' \
    '[{"b": ["set", []]},
      {"b": ["set", [false]]},
      {"b": ["set", [true]]},
      {"b": ["set", [false, true]]}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"b\":false}
row 1: no change
row 2: {\"b\":[\"set\",[false,true]]}
row 3: no change

mutation  1:
row 0: {\"b\":true}
row 1: {\"b\":[\"set\",[false,true]]}
row 2: no change
row 3: no change

mutation  2:
row 0: {\"b\":[\"set\",[false,true]]}
row 1: {\"b\":[\"set\",[false,true]]}
row 2: {\"b\":[\"set\",[false,true]]}
row 3: no change

mutation  3:
row 0: no change
row 1: {\"b\":[\"set\",[]]}
row 2: no change
row 3: {\"b\":true}

mutation  4:
row 0: no change
row 1: no change
row 2: {\"b\":[\"set\",[]]}
row 3: {\"b\":false}

mutation  5:
row 0: no change
row 1: {\"b\":[\"set\",[]]}
row 2: {\"b\":[\"set\",[]]}
row 3: {\"b\":[\"set\",[]]}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:578"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_609
#AT_START_610
at_fn_group_banner 610 'ovsdb-mutation.at:628' \
  "executing mutations on string sets" "             " 46
at_xfail=no
(
  $as_echo "610. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:628: test-ovsdb execute-mutations \\
    '{\"columns\": {\"s\": {\"type\": {\"key\": \"string\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[[[\"s\", \"insert\", [\"set\", [\"a\"]]]],
      [[\"s\", \"insert\", [\"set\", [\"b\"]]]],
      [[\"s\", \"insert\", [\"set\", [\"c\", \"d\"]]]],
      [[\"s\", \"delete\", [\"set\", [\"a\"]]]],
      [[\"s\", \"delete\", [\"set\", [\"b\"]]]],
      [[\"s\", \"delete\", [\"set\", [\"c\", \"d\"]]]]]' \\
    '[{\"s\": [\"set\", []]},
      {\"s\": [\"set\", [\"a\"]]},
      {\"s\": [\"set\", [\"a\", \"b\"]]},
      {\"s\": [\"set\", [\"a\", \"b\", \"c\", \"d\"]]}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:628"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"s": {"type": {"key": "string", "min": 0, "max": "unlimited"}}}}' \
    '[[["s", "insert", ["set", ["a"]]]],
      [["s", "insert", ["set", ["b"]]]],
      [["s", "insert", ["set", ["c", "d"]]]],
      [["s", "delete", ["set", ["a"]]]],
      [["s", "delete", ["set", ["b"]]]],
      [["s", "delete", ["set", ["c", "d"]]]]]' \
    '[{"s": ["set", []]},
      {"s": ["set", ["a"]]},
      {"s": ["set", ["a", "b"]]},
      {"s": ["set", ["a", "b", "c", "d"]]}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"s\":\"a\"}
row 1: no change
row 2: no change
row 3: no change

mutation  1:
row 0: {\"s\":\"b\"}
row 1: {\"s\":[\"set\",[\"a\",\"b\"]]}
row 2: no change
row 3: no change

mutation  2:
row 0: {\"s\":[\"set\",[\"c\",\"d\"]]}
row 1: {\"s\":[\"set\",[\"a\",\"c\",\"d\"]]}
row 2: {\"s\":[\"set\",[\"a\",\"b\",\"c\",\"d\"]]}
row 3: no change

mutation  3:
row 0: no change
row 1: {\"s\":[\"set\",[]]}
row 2: {\"s\":\"b\"}
row 3: {\"s\":[\"set\",[\"b\",\"c\",\"d\"]]}

mutation  4:
row 0: no change
row 1: no change
row 2: {\"s\":\"a\"}
row 3: {\"s\":[\"set\",[\"a\",\"c\",\"d\"]]}

mutation  5:
row 0: no change
row 1: no change
row 2: no change
row 3: {\"s\":[\"set\",[\"a\",\"b\"]]}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:628"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_610
#AT_START_611
at_fn_group_banner 611 'ovsdb-mutation.at:678' \
  "executing mutations on uuid sets" "               " 46
at_xfail=no
(
  $as_echo "611. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:678: test-ovsdb execute-mutations \\
    '{\"columns\": {\"u\": {\"type\": {\"key\": \"uuid\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[[[\"u\", \"insert\", [\"set\", [[\"uuid\", \"ddd9e79d-7782-414c-8b22-1046c60b6ec2\"]]]]],
      [[\"u\", \"insert\", [\"set\", [[\"uuid\", \"a60fe7ff-317b-4568-9106-892b37445313\"]]]]],
      [[\"u\", \"insert\", [\"set\", [[\"uuid\", \"2607d30e-e652-4927-9fec-8bbf1b60c7e9\"]]]]],
      [[\"u\", \"delete\", [\"set\", [[\"uuid\", \"ddd9e79d-7782-414c-8b22-1046c60b6ec2\"]]]]],
      [[\"u\", \"delete\", [\"set\", [[\"uuid\", \"a60fe7ff-317b-4568-9106-892b37445313\"]]]]],
      [[\"u\", \"delete\", [\"set\", [[\"uuid\", \"2607d30e-e652-4927-9fec-8bbf1b60c7e9\"]]]]]]' \\
    '[{\"u\": [\"set\", []]},
      {\"u\": [\"set\", [[\"uuid\", \"ddd9e79d-7782-414c-8b22-1046c60b6ec2\"]]]},
      {\"u\": [\"set\", [[\"uuid\", \"a60fe7ff-317b-4568-9106-892b37445313\"]]]},
      {\"u\": [\"set\", [[\"uuid\", \"2607d30e-e652-4927-9fec-8bbf1b60c7e9\"]]]}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:678"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"u": {"type": {"key": "uuid", "min": 0, "max": "unlimited"}}}}' \
    '[[["u", "insert", ["set", [["uuid", "ddd9e79d-7782-414c-8b22-1046c60b6ec2"]]]]],
      [["u", "insert", ["set", [["uuid", "a60fe7ff-317b-4568-9106-892b37445313"]]]]],
      [["u", "insert", ["set", [["uuid", "2607d30e-e652-4927-9fec-8bbf1b60c7e9"]]]]],
      [["u", "delete", ["set", [["uuid", "ddd9e79d-7782-414c-8b22-1046c60b6ec2"]]]]],
      [["u", "delete", ["set", [["uuid", "a60fe7ff-317b-4568-9106-892b37445313"]]]]],
      [["u", "delete", ["set", [["uuid", "2607d30e-e652-4927-9fec-8bbf1b60c7e9"]]]]]]' \
    '[{"u": ["set", []]},
      {"u": ["set", [["uuid", "ddd9e79d-7782-414c-8b22-1046c60b6ec2"]]]},
      {"u": ["set", [["uuid", "a60fe7ff-317b-4568-9106-892b37445313"]]]},
      {"u": ["set", [["uuid", "2607d30e-e652-4927-9fec-8bbf1b60c7e9"]]]}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"u\":[\"uuid\",\"ddd9e79d-7782-414c-8b22-1046c60b6ec2\"]}
row 1: no change
row 2: {\"u\":[\"set\",[[\"uuid\",\"a60fe7ff-317b-4568-9106-892b37445313\"],[\"uuid\",\"ddd9e79d-7782-414c-8b22-1046c60b6ec2\"]]]}
row 3: {\"u\":[\"set\",[[\"uuid\",\"2607d30e-e652-4927-9fec-8bbf1b60c7e9\"],[\"uuid\",\"ddd9e79d-7782-414c-8b22-1046c60b6ec2\"]]]}

mutation  1:
row 0: {\"u\":[\"uuid\",\"a60fe7ff-317b-4568-9106-892b37445313\"]}
row 1: {\"u\":[\"set\",[[\"uuid\",\"a60fe7ff-317b-4568-9106-892b37445313\"],[\"uuid\",\"ddd9e79d-7782-414c-8b22-1046c60b6ec2\"]]]}
row 2: no change
row 3: {\"u\":[\"set\",[[\"uuid\",\"2607d30e-e652-4927-9fec-8bbf1b60c7e9\"],[\"uuid\",\"a60fe7ff-317b-4568-9106-892b37445313\"]]]}

mutation  2:
row 0: {\"u\":[\"uuid\",\"2607d30e-e652-4927-9fec-8bbf1b60c7e9\"]}
row 1: {\"u\":[\"set\",[[\"uuid\",\"2607d30e-e652-4927-9fec-8bbf1b60c7e9\"],[\"uuid\",\"ddd9e79d-7782-414c-8b22-1046c60b6ec2\"]]]}
row 2: {\"u\":[\"set\",[[\"uuid\",\"2607d30e-e652-4927-9fec-8bbf1b60c7e9\"],[\"uuid\",\"a60fe7ff-317b-4568-9106-892b37445313\"]]]}
row 3: no change

mutation  3:
row 0: no change
row 1: {\"u\":[\"set\",[]]}
row 2: no change
row 3: no change

mutation  4:
row 0: no change
row 1: no change
row 2: {\"u\":[\"set\",[]]}
row 3: no change

mutation  5:
row 0: no change
row 1: no change
row 2: no change
row 3: {\"u\":[\"set\",[]]}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:678"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_611
#AT_START_612
at_fn_group_banner 612 'ovsdb-mutation.at:728' \
  "executing mutations on integer maps" "            " 46
at_xfail=no
(
  $as_echo "612. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-mutation.at:728: test-ovsdb execute-mutations \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": \"integer\", \"value\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[[[\"i\", \"insert\", [\"map\", [[1, 2]]]]],
      [[\"i\", \"insert\", [\"map\", [[2, 4], [3, 5]]]]],
      [[\"i\", \"delete\", [\"map\", [[1, 2]]]]],
      [[\"i\", \"delete\", [\"map\", [[2, 3]]]]],
      [[\"i\", \"delete\", [\"set\", [1]]]],
      [[\"i\", \"delete\", [\"set\", [2, 3]]]]]' \\
    '[{\"i\": [\"map\", []]},
      {\"i\": [\"map\", [[1, 2]]]},
      {\"i\": [\"map\", [[1, 3], [2, 3]]]},
      {\"i\": [\"map\", [[3, 5]]]}']"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-mutation.at:728"
( $at_check_trace; test-ovsdb execute-mutations \
    '{"columns": {"i": {"type": {"key": "integer", "value": "integer", "min": 0, "max": "unlimited"}}}}' \
    '[[["i", "insert", ["map", [[1, 2]]]]],
      [["i", "insert", ["map", [[2, 4], [3, 5]]]]],
      [["i", "delete", ["map", [[1, 2]]]]],
      [["i", "delete", ["map", [[2, 3]]]]],
      [["i", "delete", ["set", [1]]]],
      [["i", "delete", ["set", [2, 3]]]]]' \
    '[{"i": ["map", []]},
      {"i": ["map", [[1, 2]]]},
      {"i": ["map", [[1, 3], [2, 3]]]},
      {"i": ["map", [[3, 5]]]}']
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "mutation  0:
row 0: {\"i\":[\"map\",[[1,2]]]}
row 1: no change
row 2: no change
row 3: {\"i\":[\"map\",[[1,2],[3,5]]]}

mutation  1:
row 0: {\"i\":[\"map\",[[2,4],[3,5]]]}
row 1: {\"i\":[\"map\",[[1,2],[2,4],[3,5]]]}
row 2: {\"i\":[\"map\",[[1,3],[2,3],[3,5]]]}
row 3: {\"i\":[\"map\",[[2,4],[3,5]]]}

mutation  2:
row 0: no change
row 1: {\"i\":[\"map\",[]]}
row 2: no change
row 3: no change

mutation  3:
row 0: no change
row 1: no change
row 2: {\"i\":[\"map\",[[1,3]]]}
row 3: no change

mutation  4:
row 0: no change
row 1: {\"i\":[\"map\",[]]}
row 2: {\"i\":[\"map\",[[2,3]]]}
row 3: no change

mutation  5:
row 0: no change
row 1: no change
row 2: {\"i\":[\"map\",[[1,3]]]}
row 3: {\"i\":[\"map\",[]]}

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-mutation.at:728"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_612
#AT_START_613
at_fn_group_banner 613 'ovsdb-query.at:3' \
  "queries on scalars" "                             " 47
at_xfail=no
(
  $as_echo "613. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-query.at:3: test-ovsdb query \\
    '{\"columns\":
        {\"i\": {\"type\": \"integer\"},
         \"r\": {\"type\": \"real\"},
         \"b\": {\"type\": \"boolean\"},
	 \"s\": {\"type\": \"string\"},
         \"u\": {\"type\": \"uuid\"}}}' \\
    '[{\"i\": 0,
       \"r\": 0.5,
       \"b\": true,
       \"s\": \"a\",
       \"u\": [\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]},
      {\"i\": 1,
       \"r\": 1.5,
       \"b\": false,
       \"s\": \"b\",
       \"u\": [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]},
      {\"i\": 2,
       \"r\": 2.5,
       \"b\": true,
       \"s\": \"c\",
       \"u\": [\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]},
      {\"i\": 3,
       \"r\": 3.5,
       \"b\": false,
       \"s\": \"d\",
       \"u\": [\"uuid\", \"62315898-64e0-40b9-b26f-ff74225303e6\"]},
      {\"i\": 4,
       \"r\": 4.5,
       \"b\": true,
       \"s\": \"e\",
       \"u\": [\"uuid\", \"4a5127e2-0256-4a72-a7dc-6246213967c7\"]}]' \\
    '[[],
      [[\"i\", \"==\", 0]],
      [[\"i\", \"!=\", 1]],
      [[\"i\", \"<\", 2]],
      [[\"i\", \"<=\", 3]],
      [[\"i\", \">\", 2]],
      [[\"i\", \">=\", 4]],
      [[\"i\", \"includes\", 3]],
      [[\"i\", \"excludes\", 2]],
      [[\"r\", \"==\", 0.5]],
      [[\"r\", \"!=\", 1.5]],
      [[\"r\", \"<\", 2.5]],
      [[\"r\", \"<=\", 3.5]],
      [[\"r\", \">\", 4.5]],
      [[\"r\", \">=\", 5.5]],
      [[\"r\", \"includes\", 1]],
      [[\"r\", \"excludes\", 3]],
      [[\"b\", \"==\", true]],
      [[\"b\", \"!=\", true]],
      [[\"b\", \"includes\", false]],
      [[\"b\", \"excludes\", true]],
      [[\"s\", \"==\", \"a\"]],
      [[\"s\", \"!=\", \"b\"]],
      [[\"s\", \"includes\", \"c\"]],
      [[\"s\", \"excludes\", \"d\"]],
      [[\"u\", \"==\", [\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]],
      [[\"u\", \"!=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]],
      [[\"u\", \"includes\",[\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-query.at:3"
( $at_check_trace; test-ovsdb query \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[{"i": 0,
       "r": 0.5,
       "b": true,
       "s": "a",
       "u": ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]},
      {"i": 1,
       "r": 1.5,
       "b": false,
       "s": "b",
       "u": ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]},
      {"i": 2,
       "r": 2.5,
       "b": true,
       "s": "c",
       "u": ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]},
      {"i": 3,
       "r": 3.5,
       "b": false,
       "s": "d",
       "u": ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]},
      {"i": 4,
       "r": 4.5,
       "b": true,
       "s": "e",
       "u": ["uuid", "4a5127e2-0256-4a72-a7dc-6246213967c7"]}]' \
    '[[],
      [["i", "==", 0]],
      [["i", "!=", 1]],
      [["i", "<", 2]],
      [["i", "<=", 3]],
      [["i", ">", 2]],
      [["i", ">=", 4]],
      [["i", "includes", 3]],
      [["i", "excludes", 2]],
      [["r", "==", 0.5]],
      [["r", "!=", 1.5]],
      [["r", "<", 2.5]],
      [["r", "<=", 3.5]],
      [["r", ">", 4.5]],
      [["r", ">=", 5.5]],
      [["r", "includes", 1]],
      [["r", "excludes", 3]],
      [["b", "==", true]],
      [["b", "!=", true]],
      [["b", "includes", false]],
      [["b", "excludes", true]],
      [["s", "==", "a"]],
      [["s", "!=", "b"]],
      [["s", "includes", "c"]],
      [["s", "excludes", "d"]],
      [["u", "==", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]],
      [["u", "!=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]],
      [["u", "includes",["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "query  0: 11111
query  1: 1----
query  2: 1-111
query  3: 11---
query  4: 1111-
query  5: ---11
query  6: ----1
query  7: ---1-
query  8: 11-11
query  9: 1----
query 10: 1-111
query 11: 11---
query 12: 1111-
query 13: -----
query 14: -----
query 15: -----
query 16: 11111
query 17: 1-1-1
query 18: -1-1-
query 19: -1-1-
query 20: -1-1-
query 21: 1----
query 22: 1-111
query 23: --1--
query 24: 111-1
query 25: 1----
query 26: 1-111
query 27: --1--
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-query.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_613
#AT_START_614
at_fn_group_banner 614 'ovsdb-query.at:95' \
  "queries on sets" "                                " 47
at_xfail=no
(
  $as_echo "614. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-query.at:95: test-ovsdb query \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": \"integer\", \"min\": 0, \"max\": \"unlimited\"}}}}' \\
    '[{\"i\": [\"set\", []]},
      {\"i\": [\"set\", [0]]},
      {\"i\": [\"set\", [1]]},
      {\"i\": [\"set\", [0, 1]]},
      {\"i\": [\"set\", [2]]},
      {\"i\": [\"set\", [2, 0]]},
      {\"i\": [\"set\", [2, 1]]},
      {\"i\": [\"set\", [2, 1, 0]]}]' \\
    '[[],
      [[\"i\", \"==\", [\"set\", []]]],
      [[\"i\", \"==\", [\"set\", [0]]]],
      [[\"i\", \"==\", [\"set\", [1]]]],
      [[\"i\", \"==\", [\"set\", [0, 1]]]],
      [[\"i\", \"==\", [\"set\", [2]]]],
      [[\"i\", \"==\", [\"set\", [2, 0]]]],
      [[\"i\", \"==\", [\"set\", [2, 1]]]],
      [[\"i\", \"==\", [\"set\", [2, 1, 0]]]],
      [[\"i\", \"!=\", [\"set\", []]]],
      [[\"i\", \"!=\", [\"set\", [0]]]],
      [[\"i\", \"!=\", [\"set\", [1]]]],
      [[\"i\", \"!=\", [\"set\", [0, 1]]]],
      [[\"i\", \"!=\", [\"set\", [2]]]],
      [[\"i\", \"!=\", [\"set\", [2, 0]]]],
      [[\"i\", \"!=\", [\"set\", [2, 1]]]],
      [[\"i\", \"!=\", [\"set\", [2, 1, 0]]]],
      [[\"i\", \"includes\", [\"set\", []]]],
      [[\"i\", \"includes\", [\"set\", [0]]]],
      [[\"i\", \"includes\", [\"set\", [1]]]],
      [[\"i\", \"includes\", [\"set\", [0, 1]]]],
      [[\"i\", \"includes\", [\"set\", [2]]]],
      [[\"i\", \"includes\", [\"set\", [2, 0]]]],
      [[\"i\", \"includes\", [\"set\", [2, 1]]]],
      [[\"i\", \"includes\", [\"set\", [2, 1, 0]]]],
      [[\"i\", \"excludes\", [\"set\", []]]],
      [[\"i\", \"excludes\", [\"set\", [0]]]],
      [[\"i\", \"excludes\", [\"set\", [1]]]],
      [[\"i\", \"excludes\", [\"set\", [0, 1]]]],
      [[\"i\", \"excludes\", [\"set\", [2]]]],
      [[\"i\", \"excludes\", [\"set\", [2, 0]]]],
      [[\"i\", \"excludes\", [\"set\", [2, 1]]]],
      [[\"i\", \"excludes\", [\"set\", [2, 1, 0]]]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-query.at:95"
( $at_check_trace; test-ovsdb query \
    '{"columns": {"i": {"type": {"key": "integer", "min": 0, "max": "unlimited"}}}}' \
    '[{"i": ["set", []]},
      {"i": ["set", [0]]},
      {"i": ["set", [1]]},
      {"i": ["set", [0, 1]]},
      {"i": ["set", [2]]},
      {"i": ["set", [2, 0]]},
      {"i": ["set", [2, 1]]},
      {"i": ["set", [2, 1, 0]]}]' \
    '[[],
      [["i", "==", ["set", []]]],
      [["i", "==", ["set", [0]]]],
      [["i", "==", ["set", [1]]]],
      [["i", "==", ["set", [0, 1]]]],
      [["i", "==", ["set", [2]]]],
      [["i", "==", ["set", [2, 0]]]],
      [["i", "==", ["set", [2, 1]]]],
      [["i", "==", ["set", [2, 1, 0]]]],
      [["i", "!=", ["set", []]]],
      [["i", "!=", ["set", [0]]]],
      [["i", "!=", ["set", [1]]]],
      [["i", "!=", ["set", [0, 1]]]],
      [["i", "!=", ["set", [2]]]],
      [["i", "!=", ["set", [2, 0]]]],
      [["i", "!=", ["set", [2, 1]]]],
      [["i", "!=", ["set", [2, 1, 0]]]],
      [["i", "includes", ["set", []]]],
      [["i", "includes", ["set", [0]]]],
      [["i", "includes", ["set", [1]]]],
      [["i", "includes", ["set", [0, 1]]]],
      [["i", "includes", ["set", [2]]]],
      [["i", "includes", ["set", [2, 0]]]],
      [["i", "includes", ["set", [2, 1]]]],
      [["i", "includes", ["set", [2, 1, 0]]]],
      [["i", "excludes", ["set", []]]],
      [["i", "excludes", ["set", [0]]]],
      [["i", "excludes", ["set", [1]]]],
      [["i", "excludes", ["set", [0, 1]]]],
      [["i", "excludes", ["set", [2]]]],
      [["i", "excludes", ["set", [2, 0]]]],
      [["i", "excludes", ["set", [2, 1]]]],
      [["i", "excludes", ["set", [2, 1, 0]]]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "query  0: 11111 111
query  1: 1---- ---
query  2: -1--- ---
query  3: --1-- ---
query  4: ---1- ---
query  5: ----1 ---
query  6: ----- 1--
query  7: ----- -1-
query  8: ----- --1
query  9: -1111 111
query 10: 1-111 111
query 11: 11-11 111
query 12: 111-1 111
query 13: 1111- 111
query 14: 11111 -11
query 15: 11111 1-1
query 16: 11111 11-
query 17: 11111 111
query 18: -1-1- 1-1
query 19: --11- -11
query 20: ---1- --1
query 21: ----1 111
query 22: ----- 1-1
query 23: ----- -11
query 24: ----- --1
query 25: 11111 111
query 26: 1-1-1 -1-
query 27: 11--1 1--
query 28: 1---1 ---
query 29: 1111- ---
query 30: 1-1-- ---
query 31: 11--- ---
query 32: 1---- ---
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-query.at:95"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_614
#AT_START_615
at_fn_group_banner 615 'ovsdb-query.at:176' \
  "queries on maps (1)" "                            " 47
at_xfail=no
(
  $as_echo "615. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-query.at:176: test-ovsdb query \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": \"integer\",
                                 \"value\": \"boolean\",
                                 \"min\": 0,
                                 \"max\": \"unlimited\"}}}}' \\
    '[{\"i\": [\"map\", []]},
      {\"i\": [\"map\", [[0, true]]]},
      {\"i\": [\"map\", [[1, false]]]},
      {\"i\": [\"map\", [[0, true], [1, false]]]},
      {\"i\": [\"map\", [[2, true]]]},
      {\"i\": [\"map\", [[2, true], [0, true]]]},
      {\"i\": [\"map\", [[2, true], [1, false]]]},
      {\"i\": [\"map\", [[2, true], [1, false], [0, true]]]}]' \\
    '[[],
      [[\"i\", \"==\", [\"map\", []]]],
      [[\"i\", \"==\", [\"map\", [[0, true]]]]],
      [[\"i\", \"==\", [\"map\", [[1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"!=\", [\"map\", []]]],
      [[\"i\", \"!=\", [\"map\", [[0, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"includes\", [\"map\", []]]],
      [[\"i\", \"includes\", [\"map\", [[0, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", []]]],
      [[\"i\", \"excludes\", [\"map\", [[0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [1, false], [0, true]]]]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-query.at:176"
( $at_check_trace; test-ovsdb query \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "value": "boolean",
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[{"i": ["map", []]},
      {"i": ["map", [[0, true]]]},
      {"i": ["map", [[1, false]]]},
      {"i": ["map", [[0, true], [1, false]]]},
      {"i": ["map", [[2, true]]]},
      {"i": ["map", [[2, true], [0, true]]]},
      {"i": ["map", [[2, true], [1, false]]]},
      {"i": ["map", [[2, true], [1, false], [0, true]]]}]' \
    '[[],
      [["i", "==", ["map", []]]],
      [["i", "==", ["map", [[0, true]]]]],
      [["i", "==", ["map", [[1, false]]]]],
      [["i", "==", ["map", [[0, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true]]]]],
      [["i", "==", ["map", [[2, true], [0, true]]]]],
      [["i", "==", ["map", [[2, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "!=", ["map", []]]],
      [["i", "!=", ["map", [[0, true]]]]],
      [["i", "!=", ["map", [[1, false]]]]],
      [["i", "!=", ["map", [[0, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true]]]]],
      [["i", "!=", ["map", [[2, true], [0, true]]]]],
      [["i", "!=", ["map", [[2, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", []]]],
      [["i", "includes", ["map", [[0, true]]]]],
      [["i", "includes", ["map", [[1, false]]]]],
      [["i", "includes", ["map", [[0, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true]]]]],
      [["i", "includes", ["map", [[2, true], [0, true]]]]],
      [["i", "includes", ["map", [[2, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "excludes", ["map", []]]],
      [["i", "excludes", ["map", [[0, true]]]]],
      [["i", "excludes", ["map", [[1, false]]]]],
      [["i", "excludes", ["map", [[0, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true]]]]],
      [["i", "excludes", ["map", [[2, true], [0, true]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false], [0, true]]]]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "query  0: 11111 111
query  1: 1---- ---
query  2: -1--- ---
query  3: --1-- ---
query  4: ---1- ---
query  5: ----1 ---
query  6: ----- 1--
query  7: ----- -1-
query  8: ----- --1
query  9: -1111 111
query 10: 1-111 111
query 11: 11-11 111
query 12: 111-1 111
query 13: 1111- 111
query 14: 11111 -11
query 15: 11111 1-1
query 16: 11111 11-
query 17: 11111 111
query 18: -1-1- 1-1
query 19: --11- -11
query 20: ---1- --1
query 21: ----1 111
query 22: ----- 1-1
query 23: ----- -11
query 24: ----- --1
query 25: 11111 111
query 26: 1-1-1 -1-
query 27: 11--1 1--
query 28: 1---1 ---
query 29: 1111- ---
query 30: 1-1-- ---
query 31: 11--- ---
query 32: 1---- ---
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-query.at:176"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_615
#AT_START_616
at_fn_group_banner 616 'ovsdb-query.at:260' \
  "queries on maps (2)" "                            " 47
at_xfail=no
(
  $as_echo "616. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-query.at:260: test-ovsdb query \\
    '{\"columns\": {\"i\": {\"type\": {\"key\": \"integer\",
                                 \"value\": \"boolean\",
                                 \"min\": 0,
                                 \"max\": \"unlimited\"}}}}' \\
    '[{\"i\": [\"map\", []]},
      {\"i\": [\"map\", [[0, true]]]},
      {\"i\": [\"map\", [[0, false]]]},
      {\"i\": [\"map\", [[1, false]]]},
      {\"i\": [\"map\", [[1, true]]]},

      {\"i\": [\"map\", [[0, true], [1, false]]]},
      {\"i\": [\"map\", [[0, true], [1, true]]]},
      {\"i\": [\"map\", [[2, true]]]},
      {\"i\": [\"map\", [[2, false]]]},
      {\"i\": [\"map\", [[2, true], [0, true]]]},

      {\"i\": [\"map\", [[2, false], [0, true]]]},
      {\"i\": [\"map\", [[2, true], [1, false]]]},
      {\"i\": [\"map\", [[2, true], [1, true]]]},
      {\"i\": [\"map\", [[2, true], [1, false], [0, true]]]},
      {\"i\": [\"map\", [[2, true], [1, false], [0, false]]]}]' \\
    '[[],
      [[\"i\", \"==\", [\"map\", []]]],
      [[\"i\", \"==\", [\"map\", [[0, true]]]]],
      [[\"i\", \"==\", [\"map\", [[1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"==\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"!=\", [\"map\", []]]],
      [[\"i\", \"!=\", [\"map\", [[0, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"!=\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"includes\", [\"map\", []]]],
      [[\"i\", \"includes\", [\"map\", [[0, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"includes\", [\"map\", [[2, true], [1, false], [0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", []]]],
      [[\"i\", \"excludes\", [\"map\", [[0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[0, true], [1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [0, true]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [1, false]]]]],
      [[\"i\", \"excludes\", [\"map\", [[2, true], [1, false], [0, true]]]]]]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-query.at:260"
( $at_check_trace; test-ovsdb query \
    '{"columns": {"i": {"type": {"key": "integer",
                                 "value": "boolean",
                                 "min": 0,
                                 "max": "unlimited"}}}}' \
    '[{"i": ["map", []]},
      {"i": ["map", [[0, true]]]},
      {"i": ["map", [[0, false]]]},
      {"i": ["map", [[1, false]]]},
      {"i": ["map", [[1, true]]]},

      {"i": ["map", [[0, true], [1, false]]]},
      {"i": ["map", [[0, true], [1, true]]]},
      {"i": ["map", [[2, true]]]},
      {"i": ["map", [[2, false]]]},
      {"i": ["map", [[2, true], [0, true]]]},

      {"i": ["map", [[2, false], [0, true]]]},
      {"i": ["map", [[2, true], [1, false]]]},
      {"i": ["map", [[2, true], [1, true]]]},
      {"i": ["map", [[2, true], [1, false], [0, true]]]},
      {"i": ["map", [[2, true], [1, false], [0, false]]]}]' \
    '[[],
      [["i", "==", ["map", []]]],
      [["i", "==", ["map", [[0, true]]]]],
      [["i", "==", ["map", [[1, false]]]]],
      [["i", "==", ["map", [[0, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true]]]]],
      [["i", "==", ["map", [[2, true], [0, true]]]]],
      [["i", "==", ["map", [[2, true], [1, false]]]]],
      [["i", "==", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "!=", ["map", []]]],
      [["i", "!=", ["map", [[0, true]]]]],
      [["i", "!=", ["map", [[1, false]]]]],
      [["i", "!=", ["map", [[0, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true]]]]],
      [["i", "!=", ["map", [[2, true], [0, true]]]]],
      [["i", "!=", ["map", [[2, true], [1, false]]]]],
      [["i", "!=", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "includes", ["map", []]]],
      [["i", "includes", ["map", [[0, true]]]]],
      [["i", "includes", ["map", [[1, false]]]]],
      [["i", "includes", ["map", [[0, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true]]]]],
      [["i", "includes", ["map", [[2, true], [0, true]]]]],
      [["i", "includes", ["map", [[2, true], [1, false]]]]],
      [["i", "includes", ["map", [[2, true], [1, false], [0, true]]]]],
      [["i", "excludes", ["map", []]]],
      [["i", "excludes", ["map", [[0, true]]]]],
      [["i", "excludes", ["map", [[1, false]]]]],
      [["i", "excludes", ["map", [[0, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true]]]]],
      [["i", "excludes", ["map", [[2, true], [0, true]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false]]]]],
      [["i", "excludes", ["map", [[2, true], [1, false], [0, true]]]]]]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "query  0: 11111 11111 11111
query  1: 1---- ----- -----
query  2: -1--- ----- -----
query  3: ---1- ----- -----
query  4: ----- 1---- -----
query  5: ----- --1-- -----
query  6: ----- ----1 -----
query  7: ----- ----- -1---
query  8: ----- ----- ---1-
query  9: -1111 11111 11111
query 10: 1-111 11111 11111
query 11: 111-1 11111 11111
query 12: 11111 -1111 11111
query 13: 11111 11-11 11111
query 14: 11111 1111- 11111
query 15: 11111 11111 1-111
query 16: 11111 11111 111-1
query 17: 11111 11111 11111
query 18: -1--- 11--1 1--1-
query 19: ---1- 1---- -1-11
query 20: ----- 1---- ---1-
query 21: ----- --1-1 -1111
query 22: ----- ----1 ---1-
query 23: ----- ----- -1-11
query 24: ----- ----- ---1-
query 25: 11111 11111 11111
query 26: 1-111 --11- -11-1
query 27: 111-1 -1111 1-1--
query 28: 1-1-1 --11- --1--
query 29: 11111 11-1- 1----
query 30: 1-111 ---1- -----
query 31: 111-1 -1-1- 1----
query 32: 1-1-1 ---1- -----
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-query.at:260"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_616
#AT_START_617
at_fn_group_banner 617 'ovsdb-query.at:351' \
  "UUID-distinct queries on scalars" "               " 47
at_xfail=no
(
  $as_echo "617. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-query.at:351: test-ovsdb query-distinct \\
    '{\"columns\":
        {\"i\": {\"type\": \"integer\"},
         \"r\": {\"type\": \"real\"},
         \"b\": {\"type\": \"boolean\"},
	 \"s\": {\"type\": \"string\"},
         \"u\": {\"type\": \"uuid\"}}}' \\
    '[{\"i\": 0,
       \"r\": 0.5,
       \"b\": true,
       \"s\": \"a\",
       \"u\": [\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]},
      {\"i\": 1,
       \"r\": 1.5,
       \"b\": false,
       \"s\": \"b\",
       \"u\": [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]},
      {\"i\": 2,
       \"r\": 2.5,
       \"b\": true,
       \"s\": \"c\",
       \"u\": [\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]},
      {\"i\": 3,
       \"r\": 3.5,
       \"b\": false,
       \"s\": \"d\",
       \"u\": [\"uuid\", \"62315898-64e0-40b9-b26f-ff74225303e6\"]},
      {\"i\": 4,
       \"r\": 4.5,
       \"b\": true,
       \"s\": \"e\",
       \"u\": [\"uuid\", \"4a5127e2-0256-4a72-a7dc-6246213967c7\"]}]' \\
    '[[],
      [[\"i\", \"==\", 0]],
      [[\"i\", \"!=\", 1]],
      [[\"i\", \"<\", 2]],
      [[\"i\", \"<=\", 3]],
      [[\"i\", \">\", 2]],
      [[\"i\", \">=\", 4]],
      [[\"i\", \"includes\", 3]],
      [[\"i\", \"excludes\", 2]],
      [[\"r\", \"==\", 0.5]],
      [[\"r\", \"!=\", 1.5]],
      [[\"r\", \"<\", 2.5]],
      [[\"r\", \"<=\", 3.5]],
      [[\"r\", \">\", 4.5]],
      [[\"r\", \">=\", 5.5]],
      [[\"r\", \"includes\", 1]],
      [[\"r\", \"excludes\", 3]],
      [[\"b\", \"==\", true]],
      [[\"b\", \"!=\", true]],
      [[\"b\", \"includes\", false]],
      [[\"b\", \"excludes\", true]],
      [[\"s\", \"==\", \"a\"]],
      [[\"s\", \"!=\", \"b\"]],
      [[\"s\", \"includes\", \"c\"]],
      [[\"s\", \"excludes\", \"d\"]],
      [[\"u\", \"==\", [\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]],
      [[\"u\", \"!=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]],
      [[\"u\", \"includes\",[\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]]]]' \\
    '[\"_uuid\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-query.at:351"
( $at_check_trace; test-ovsdb query-distinct \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[{"i": 0,
       "r": 0.5,
       "b": true,
       "s": "a",
       "u": ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]},
      {"i": 1,
       "r": 1.5,
       "b": false,
       "s": "b",
       "u": ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]},
      {"i": 2,
       "r": 2.5,
       "b": true,
       "s": "c",
       "u": ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]},
      {"i": 3,
       "r": 3.5,
       "b": false,
       "s": "d",
       "u": ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]},
      {"i": 4,
       "r": 4.5,
       "b": true,
       "s": "e",
       "u": ["uuid", "4a5127e2-0256-4a72-a7dc-6246213967c7"]}]' \
    '[[],
      [["i", "==", 0]],
      [["i", "!=", 1]],
      [["i", "<", 2]],
      [["i", "<=", 3]],
      [["i", ">", 2]],
      [["i", ">=", 4]],
      [["i", "includes", 3]],
      [["i", "excludes", 2]],
      [["r", "==", 0.5]],
      [["r", "!=", 1.5]],
      [["r", "<", 2.5]],
      [["r", "<=", 3.5]],
      [["r", ">", 4.5]],
      [["r", ">=", 5.5]],
      [["r", "includes", 1]],
      [["r", "excludes", 3]],
      [["b", "==", true]],
      [["b", "!=", true]],
      [["b", "includes", false]],
      [["b", "excludes", true]],
      [["s", "==", "a"]],
      [["s", "!=", "b"]],
      [["s", "includes", "c"]],
      [["s", "excludes", "d"]],
      [["u", "==", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]],
      [["u", "!=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]],
      [["u", "includes",["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]]' \
    '["_uuid"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "query  0: abcde
query  1: a----
query  2: a-cde
query  3: ab---
query  4: abcd-
query  5: ---de
query  6: ----e
query  7: ---d-
query  8: ab-de
query  9: a----
query 10: a-cde
query 11: ab---
query 12: abcd-
query 13: -----
query 14: -----
query 15: -----
query 16: abcde
query 17: a-c-e
query 18: -b-d-
query 19: -b-d-
query 20: -b-d-
query 21: a----
query 22: a-cde
query 23: --c--
query 24: abc-e
query 25: a----
query 26: a-cde
query 27: --c--
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-query.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_617
#AT_START_618
at_fn_group_banner 618 'ovsdb-query.at:444' \
  "Boolean-distinct queries on scalars" "            " 47
at_xfail=no
(
  $as_echo "618. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-query.at:444: test-ovsdb query-distinct \\
    '{\"columns\":
        {\"i\": {\"type\": \"integer\"},
         \"r\": {\"type\": \"real\"},
         \"b\": {\"type\": \"boolean\"},
	 \"s\": {\"type\": \"string\"},
         \"u\": {\"type\": \"uuid\"}}}' \\
    '[{\"i\": 0,
       \"r\": 0.5,
       \"b\": true,
       \"s\": \"a\",
       \"u\": [\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]},
      {\"i\": 1,
       \"r\": 1.5,
       \"b\": false,
       \"s\": \"b\",
       \"u\": [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]},
      {\"i\": 2,
       \"r\": 2.5,
       \"b\": true,
       \"s\": \"c\",
       \"u\": [\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]},
      {\"i\": 3,
       \"r\": 3.5,
       \"b\": false,
       \"s\": \"d\",
       \"u\": [\"uuid\", \"62315898-64e0-40b9-b26f-ff74225303e6\"]},
      {\"i\": 4,
       \"r\": 4.5,
       \"b\": true,
       \"s\": \"e\",
       \"u\": [\"uuid\", \"4a5127e2-0256-4a72-a7dc-6246213967c7\"]}]' \\
    '[[],
      [[\"i\", \"==\", 0]],
      [[\"i\", \"!=\", 1]],
      [[\"i\", \"<\", 2]],
      [[\"i\", \"<=\", 3]],
      [[\"i\", \">\", 2]],
      [[\"i\", \">=\", 4]],
      [[\"i\", \"includes\", 3]],
      [[\"i\", \"excludes\", 2]],
      [[\"r\", \"==\", 0.5]],
      [[\"r\", \"!=\", 1.5]],
      [[\"r\", \"<\", 2.5]],
      [[\"r\", \"<=\", 3.5]],
      [[\"r\", \">\", 4.5]],
      [[\"r\", \">=\", 5.5]],
      [[\"r\", \"includes\", 1]],
      [[\"r\", \"excludes\", 3]],
      [[\"b\", \"==\", true]],
      [[\"b\", \"!=\", true]],
      [[\"b\", \"includes\", false]],
      [[\"b\", \"excludes\", true]],
      [[\"s\", \"==\", \"a\"]],
      [[\"s\", \"!=\", \"b\"]],
      [[\"s\", \"includes\", \"c\"]],
      [[\"s\", \"excludes\", \"d\"]],
      [[\"u\", \"==\", [\"uuid\", \"b10d28f7-af18-4a67-9e78-2a6394516c59\"]]],
      [[\"u\", \"!=\", [\"uuid\", \"9179ca6d-6d65-400a-b455-3ad92783a099\"]]],
      [[\"u\", \"includes\",[\"uuid\", \"ad0fa355-8b84-4a36-a4b5-b2c1bfd91758\"]]]]' \\
    '[\"b\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-query.at:444"
( $at_check_trace; test-ovsdb query-distinct \
    '{"columns":
        {"i": {"type": "integer"},
         "r": {"type": "real"},
         "b": {"type": "boolean"},
	 "s": {"type": "string"},
         "u": {"type": "uuid"}}}' \
    '[{"i": 0,
       "r": 0.5,
       "b": true,
       "s": "a",
       "u": ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]},
      {"i": 1,
       "r": 1.5,
       "b": false,
       "s": "b",
       "u": ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]},
      {"i": 2,
       "r": 2.5,
       "b": true,
       "s": "c",
       "u": ["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]},
      {"i": 3,
       "r": 3.5,
       "b": false,
       "s": "d",
       "u": ["uuid", "62315898-64e0-40b9-b26f-ff74225303e6"]},
      {"i": 4,
       "r": 4.5,
       "b": true,
       "s": "e",
       "u": ["uuid", "4a5127e2-0256-4a72-a7dc-6246213967c7"]}]' \
    '[[],
      [["i", "==", 0]],
      [["i", "!=", 1]],
      [["i", "<", 2]],
      [["i", "<=", 3]],
      [["i", ">", 2]],
      [["i", ">=", 4]],
      [["i", "includes", 3]],
      [["i", "excludes", 2]],
      [["r", "==", 0.5]],
      [["r", "!=", 1.5]],
      [["r", "<", 2.5]],
      [["r", "<=", 3.5]],
      [["r", ">", 4.5]],
      [["r", ">=", 5.5]],
      [["r", "includes", 1]],
      [["r", "excludes", 3]],
      [["b", "==", true]],
      [["b", "!=", true]],
      [["b", "includes", false]],
      [["b", "excludes", true]],
      [["s", "==", "a"]],
      [["s", "!=", "b"]],
      [["s", "includes", "c"]],
      [["s", "excludes", "d"]],
      [["u", "==", ["uuid", "b10d28f7-af18-4a67-9e78-2a6394516c59"]]],
      [["u", "!=", ["uuid", "9179ca6d-6d65-400a-b455-3ad92783a099"]]],
      [["u", "includes",["uuid", "ad0fa355-8b84-4a36-a4b5-b2c1bfd91758"]]]]' \
    '["b"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "query  0: ababa
query  1: a-a-a
query  2: ababa
query  3: ababa
query  4: ababa
query  5: ababa
query  6: a-a-a
query  7: -b-b-
query  8: ababa
query  9: a-a-a
query 10: ababa
query 11: ababa
query 12: ababa
query 13: -----
query 14: -----
query 15: -----
query 16: ababa
query 17: a-a-a
query 18: -b-b-
query 19: -b-b-
query 20: -b-b-
query 21: a-a-a
query 22: ababa
query 23: a-a-a
query 24: ababa
query 25: a-a-a
query 26: ababa
query 27: a-a-a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-query.at:444"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_618
#AT_START_619
at_fn_group_banner 619 'ovsdb-query.at:537' \
  "parse colunn set containing bad name" "           " 47
at_xfail=no
(
  $as_echo "619. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-query.at:537: test-ovsdb query-distinct \\
    '{\"columns\": {\"i\": {\"type\": \"integer\"}}}' \\
    '[{\"i\": 0}]' \\
    '[[]]' \\
    '[\"i\", \"bad\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-query.at:537"
( $at_check_trace; test-ovsdb query-distinct \
    '{"columns": {"i": {"type": "integer"}}}' \
    '[{"i": 0}]' \
    '[[]]' \
    '["i", "bad"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-query.at:537"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-query.at:537: if grep -F -e \"bad is not a valid column name\" stderr
      then
        :
      else
        exit 99
      fi"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-query.at:537"
( $at_check_trace; if grep -F -e "bad is not a valid column name" stderr
      then
        :
      else
        exit 99
      fi
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-query.at:537"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_619
#AT_START_620
at_fn_group_banner 620 'ovsdb-transaction.at:3' \
  "empty table, empty transaction" "                 " 48
at_xfail=no
(
  $as_echo "620. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:3: test-ovsdb transact \\
    '[\"print\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:3"
( $at_check_trace; test-ovsdb transact \
    '["print"]' \
    '["commit"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "print:
commit:
print:
abort:
print:
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:3"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_620
#AT_START_621
at_fn_group_banner 621 'ovsdb-transaction.at:17' \
  "nonempty table, empty transaction" "              " 48
at_xfail=no
(
  $as_echo "621. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:17: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"print\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:17"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
print:
1: i=2, j=3
2: i=2, j=3
commit:
print:
1: i=2, j=3
2: i=2, j=3
abort:
print:
1: i=2, j=3
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:17"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_621
#AT_START_622
at_fn_group_banner 622 'ovsdb-transaction.at:41' \
  "insert, commit" "                                 " 48
at_xfail=no
(
  $as_echo "622. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:41: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"insert\", \"3\", \"1\", \"2\"]' \\
    '[\"print\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:41"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "1", "2"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
insert 3 1 2:
print:
1: i=2, j=3
2: i=2, j=3
3: i=1, j=2
commit:
print:
1: i=2, j=3
2: i=2, j=3
3: i=1, j=2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:41"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_622
#AT_START_623
at_fn_group_banner 623 'ovsdb-transaction.at:70' \
  "insert, abort" "                                  " 48
at_xfail=no
(
  $as_echo "623. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:70: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"insert\", \"3\", \"1\", \"2\"]' \\
    '[\"print\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:70"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "1", "2"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
insert 3 1 2:
print:
1: i=2, j=3
2: i=2, j=3
3: i=1, j=2
abort:
print:
1: i=2, j=3
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:70"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_623
#AT_START_624
at_fn_group_banner 624 'ovsdb-transaction.at:98' \
  "modify, commit" "                                 " 48
at_xfail=no
(
  $as_echo "624. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:98: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"modify\", \"2\", \"5\", \"-1\"]' \\
    '[\"modify\", \"1\", \"-1\", \"4\"]' \\
    '[\"print\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:98"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["modify", "2", "5", "-1"]' \
    '["modify", "1", "-1", "4"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
modify 2 5 -1:
modify 1 -1 4:
print:
1: i=2, j=4
2: i=5, j=3
commit:
print:
1: i=2, j=4
2: i=5, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:98"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_624
#AT_START_625
at_fn_group_banner 625 'ovsdb-transaction.at:127' \
  "modify, abort" "                                  " 48
at_xfail=no
(
  $as_echo "625. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:127: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"modify\", \"2\", \"5\", \"-1\"]' \\
    '[\"modify\", \"1\", \"-1\", \"4\"]' \\
    '[\"print\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:127"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["modify", "2", "5", "-1"]' \
    '["modify", "1", "-1", "4"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
modify 2 5 -1:
modify 1 -1 4:
print:
1: i=2, j=4
2: i=5, j=3
abort:
print:
1: i=2, j=3
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:127"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_625
#AT_START_626
at_fn_group_banner 626 'ovsdb-transaction.at:156' \
  "delete, commit" "                                 " 48
at_xfail=no
(
  $as_echo "626. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:156: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"print\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:156"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["delete", "1"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
delete 1:
print:
2: i=2, j=3
commit:
print:
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:156"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_626
#AT_START_627
at_fn_group_banner 627 'ovsdb-transaction.at:181' \
  "delete, abort" "                                  " 48
at_xfail=no
(
  $as_echo "627. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:181: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"print\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:181"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["delete", "1"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
delete 1:
print:
2: i=2, j=3
abort:
print:
1: i=2, j=3
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:181"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_627
#AT_START_628
at_fn_group_banner 628 'ovsdb-transaction.at:207' \
  "modify, delete, commit" "                         " 48
at_xfail=no
(
  $as_echo "628. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:207: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"modify\", \"1\", \"5\", \"6\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"print\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:207"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["modify", "1", "5", "6"]' \
    '["delete", "1"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
modify 1 5 6:
delete 1:
print:
2: i=2, j=3
commit:
print:
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:207"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_628
#AT_START_629
at_fn_group_banner 629 'ovsdb-transaction.at:234' \
  "modify, delete, abort" "                          " 48
at_xfail=no
(
  $as_echo "629. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:234: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"modify\", \"1\", \"5\", \"6\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"print\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:234"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["modify", "1", "5", "6"]' \
    '["delete", "1"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
modify 1 5 6:
delete 1:
print:
2: i=2, j=3
abort:
print:
1: i=2, j=3
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:234"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_629
#AT_START_630
at_fn_group_banner 630 'ovsdb-transaction.at:262' \
  "insert, delete, commit" "                         " 48
at_xfail=no
(
  $as_echo "630. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:262: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"insert\", \"3\", \"5\", \"6\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"delete\", \"3\"]' \\
    '[\"print\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:262"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "5", "6"]' \
    '["delete", "1"]' \
    '["delete", "3"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
insert 3 5 6:
delete 1:
delete 3:
print:
2: i=2, j=3
commit:
print:
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:262"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_630
#AT_START_631
at_fn_group_banner 631 'ovsdb-transaction.at:291' \
  "insert, delete, abort" "                          " 48
at_xfail=no
(
  $as_echo "631. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:291: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"insert\", \"3\", \"5\", \"6\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"delete\", \"3\"]' \\
    '[\"print\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:291"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "5", "6"]' \
    '["delete", "1"]' \
    '["delete", "3"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
insert 3 5 6:
delete 1:
delete 3:
print:
2: i=2, j=3
abort:
print:
1: i=2, j=3
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:291"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_631
#AT_START_632
at_fn_group_banner 632 'ovsdb-transaction.at:322' \
  "insert, modify, delete, commit" "                 " 48
at_xfail=no
(
  $as_echo "632. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:322: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"insert\", \"3\", \"5\", \"6\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"modify\", \"3\", \"7\", \"8\"]' \\
    '[\"delete\", \"3\"]' \\
    '[\"print\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:322"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "5", "6"]' \
    '["delete", "1"]' \
    '["modify", "3", "7", "8"]' \
    '["delete", "3"]' \
    '["print"]' \
    '["commit"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
insert 3 5 6:
delete 1:
modify 3 7 8:
delete 3:
print:
2: i=2, j=3
commit:
print:
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:322"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_632
#AT_START_633
at_fn_group_banner 633 'ovsdb-transaction.at:353' \
  "insert, modify, delete, abort" "                  " 48
at_xfail=no
(
  $as_echo "633. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:353: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"insert\", \"2\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"insert\", \"3\", \"5\", \"6\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"modify\", \"3\", \"7\", \"8\"]' \\
    '[\"delete\", \"3\"]' \\
    '[\"print\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:353"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["insert", "2", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["insert", "3", "5", "6"]' \
    '["delete", "1"]' \
    '["modify", "3", "7", "8"]' \
    '["delete", "3"]' \
    '["print"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
insert 2 2 3:
commit:
print:
1: i=2, j=3
2: i=2, j=3
insert 3 5 6:
delete 1:
modify 3 7 8:
delete 3:
print:
2: i=2, j=3
abort:
print:
1: i=2, j=3
2: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:353"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_633
#AT_START_634
at_fn_group_banner 634 'ovsdb-transaction.at:385' \
  "deletes are aborted cleanly" "                    " 48
at_xfail=no
(
  $as_echo "634. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-transaction.at:385: test-ovsdb transact \\
    '[\"insert\", \"1\", \"2\", \"3\"]' \\
    '[\"commit\"]' \\
    '[\"print\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]' \\
    '[\"delete\", \"1\"]' \\
    '[\"abort\"]' \\
    '[\"print\"]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-transaction.at:385"
( $at_check_trace; test-ovsdb transact \
    '["insert", "1", "2", "3"]' \
    '["commit"]' \
    '["print"]' \
    '["delete", "1"]' \
    '["abort"]' \
    '["print"]' \
    '["delete", "1"]' \
    '["abort"]' \
    '["print"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "insert 1 2 3:
commit:
print:
1: i=2, j=3
delete 1:
abort:
print:
1: i=2, j=3
delete 1:
abort:
print:
1: i=2, j=3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-transaction.at:385"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_634
#AT_START_635
at_fn_group_banner 635 'ovsdb-execution.at:731' \
  "insert default row, query table" "                " 49
at_xfail=no
(
  $as_echo "635. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {}}]' '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_635
#AT_START_636
at_fn_group_banner 636 'ovsdb-execution.at:731' \
  "insert row, query table" "                        " 49
at_xfail=no
(
  $as_echo "636. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]' '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_636
#AT_START_637
at_fn_group_banner 637 'ovsdb-execution.at:731' \
  "insert rows, query by value" "                    " 49
at_xfail=no
(
  $as_echo "637. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]' '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}}]' '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]]}]' '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"one\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_637
#AT_START_638
at_fn_group_banner 638 'ovsdb-execution.at:731' \
  "insert rows, query by named-uuid" "               " 49
at_xfail=no
(
  $as_echo "638. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"first\"]]]},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"second\"]]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_638
#AT_START_639
at_fn_group_banner 639 'ovsdb-execution.at:731' \
  "insert rows, update rows by value" "              " 49
at_xfail=no
(
  $as_echo "639. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]' '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]' '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]],
       \"row\": {\"name\": \"nought\"}}]' '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"nought\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_639
#AT_START_640
at_fn_group_banner 640 'ovsdb-execution.at:731' \
  "insert rows, mutate rows" "                       " 49
at_xfail=no
(
  $as_echo "640. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]' '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]' '[\"ordinals\",
      {\"op\": \"mutate\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]],
       \"mutations\": [[\"number\", \"+=\", 2]]}]' '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1},{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"zero\",\"number\":2}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_640
#AT_START_641
at_fn_group_banner 641 'ovsdb-execution.at:731' \
  "insert rows, delete by named-uuid" "              " 49
at_xfail=no
(
  $as_echo "641. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"first\"]]]},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\",\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":1},{\"rows\":[{\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_641
#AT_START_642
at_fn_group_banner 642 'ovsdb-execution.at:731' \
  "insert rows, delete rows by value" "              " 49
at_xfail=no
(
  $as_echo "642. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]' '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]' '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]]}]' '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_642
#AT_START_643
at_fn_group_banner 643 'ovsdb-execution.at:731' \
  "insert rows, delete by (non-matching) value" "    " 49
at_xfail=no
(
  $as_echo "643. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]' '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]' '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"nought\"]]}]' '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]' '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]' '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":0}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_643
#AT_START_644
at_fn_group_banner 644 'ovsdb-execution.at:731' \
  "insert rows, delete all" "                        " 49
at_xfail=no
(
  $as_echo "644. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\",\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":2},{\"rows\":[]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_644
#AT_START_645
at_fn_group_banner 645 'ovsdb-execution.at:731' \
  "insert row, query table, commit" "                " 49
at_xfail=no
(
  $as_echo "645. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"commit\",
       \"durable\": false}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_645
#AT_START_646
at_fn_group_banner 646 'ovsdb-execution.at:731' \
  "insert row, query table, commit durably" "        " 49
at_xfail=no
(
  $as_echo "646. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"commit\",
       \"durable\": true}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_646
#AT_START_647
at_fn_group_banner 647 'ovsdb-execution.at:731' \
  "equality wait with correct rows" "                " 49
at_xfail=no
(
  $as_echo "647. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_647
#AT_START_648
at_fn_group_banner 648 'ovsdb-execution.at:731' \
  "equality wait with extra row" "                   " 49
at_xfail=no
(
  $as_echo "648. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_648
#AT_START_649
at_fn_group_banner 649 'ovsdb-execution.at:731' \
  "equality wait with missing row" "                 " 49
at_xfail=no
(
  $as_echo "649. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_649
#AT_START_650
at_fn_group_banner 650 'ovsdb-execution.at:731' \
  "inequality wait with correct rows" "              " 49
at_xfail=no
(
  $as_echo "650. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_650
#AT_START_651
at_fn_group_banner 651 'ovsdb-execution.at:731' \
  "inequality wait with extra row" "                 " 49
at_xfail=no
(
  $as_echo "651. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_651
#AT_START_652
at_fn_group_banner 652 'ovsdb-execution.at:731' \
  "inequality wait with missing row" "               " 49
at_xfail=no
(
  $as_echo "652. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}'  '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}'  '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_652
#AT_START_653
at_fn_group_banner 653 'ovsdb-execution.at:731' \
  "insert and update constraints" "                  " 49
at_xfail=no
(
  $as_echo "653. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"constraints\",
     \"tables\": {
       \"a\": {
         \"columns\": {
           \"a\": {\"type\": \"integer\"},
           \"a2a\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"a\"},
                            \"min\": 0, \"max\": \"unlimited\"}},
           \"a2b\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"b\"},
                            \"min\": 0, \"max\": \"unlimited\"}}}},
       \"b\": {
         \"columns\": {
           \"b\": {\"type\": \"integer\"},
           \"b2a\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"a\"},
                            \"min\": 0, \"max\": \"unlimited\"}},
           \"b2b\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"b\"},
                            \"min\": 0, \"max\": \"unlimited\"}}}},
       \"constrained\": {
         \"columns\": {
           \"positive\": {\"type\": {\"key\": {\"type\": \"integer\",
                                         \"minInteger\": 1}}}},
         \"maxRows\": 1}}}'  '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {}}]' '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": -1}}]' '[\"constraints\",
      {\"op\": \"update\",
       \"table\": \"constrained\",
       \"where\": [],
       \"row\": {\"positive\": -2}}]' '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": 1}}]' '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": 2}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}'  '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]' '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]' '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]' '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]' '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"details\":\"0 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-1 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-2 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"transaction causes \\\"constrained\\\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)\",\"error\":\"constraint violation\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_653
#AT_START_654
at_fn_group_banner 654 'ovsdb-execution.at:731' \
  "referential integrity -- simple" "                " 49
at_xfail=no
(
  $as_echo "654. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"constraints\",
     \"tables\": {
       \"a\": {
         \"columns\": {
           \"a\": {\"type\": \"integer\"},
           \"a2a\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"a\"},
                            \"min\": 0, \"max\": \"unlimited\"}},
           \"a2b\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"b\"},
                            \"min\": 0, \"max\": \"unlimited\"}}}},
       \"b\": {
         \"columns\": {
           \"b\": {\"type\": \"integer\"},
           \"b2a\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"a\"},
                            \"min\": 0, \"max\": \"unlimited\"}},
           \"b2b\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"b\"},
                            \"min\": 0, \"max\": \"unlimited\"}}}},
       \"constrained\": {
         \"columns\": {
           \"positive\": {\"type\": {\"key\": {\"type\": \"integer\",
                                         \"minInteger\": 1}}}},
         \"maxRows\": 1}}}'  '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 1},
       \"uuid-name\": \"brow\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 2,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 2]]}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}'  '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 3 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 2 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_654
#AT_START_655
at_fn_group_banner 655 'ovsdb-execution.at:731' \
  "referential integrity -- mutual references" "     " 49
at_xfail=no
(
  $as_echo "655. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"constraints\",
     \"tables\": {
       \"a\": {
         \"columns\": {
           \"a\": {\"type\": \"integer\"},
           \"a2a\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"a\"},
                            \"min\": 0, \"max\": \"unlimited\"}},
           \"a2b\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"b\"},
                            \"min\": 0, \"max\": \"unlimited\"}}}},
       \"b\": {
         \"columns\": {
           \"b\": {\"type\": \"integer\"},
           \"b2a\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"a\"},
                            \"min\": 0, \"max\": \"unlimited\"}},
           \"b2b\": {\"type\": {\"key\": {\"type\": \"uuid\", \"refTable\": \"b\"},
                            \"min\": 0, \"max\": \"unlimited\"}}}},
       \"constrained\": {
         \"columns\": {
           \"positive\": {\"type\": {\"key\": {\"type\": \"integer\",
                                         \"minInteger\": 1}}}},
         \"maxRows\": 1}}}'  '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2b\": [\"set\", [[\"named-uuid\", \"row2\"]]],
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"]]]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 1,
               \"b2b\": [\"set\", [[\"named-uuid\", \"row2\"]]],
               \"b2a\": [\"set\", [[\"named-uuid\", \"row1\"]]]},
       \"uuid-name\": \"row2\"}]' '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a2b\": [\"set\", [[\"uuid\", \"b516b960-5b19-4fc2-bb82-fe1cbd6d0241\"]]]}}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]' '   [\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]' '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]},
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}'  '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]' '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]' '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]' '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]' '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"uuid\":[\"uuid\",\"<2>\"]},{\"details\":\"Table a column a2b row <2> references nonexistent row <3> in table b.\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_655
#AT_START_656
at_fn_group_banner 656 'ovsdb-execution.at:731' \
  "weak references" "                                " 49
at_xfail=no
(
  $as_echo "656. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: test-ovsdb execute '{\"name\": \"weak\",
     \"tables\": {
       \"a\": {
         \"columns\": {
           \"a\": {\"type\": \"integer\"},
           \"a2a\": {\"type\": {\"key\": {\"type\": \"uuid\",
                                    \"refTable\": \"a\",
                                    \"refType\": \"weak\"},
                            \"min\": 0, \"max\": \"unlimited\"}},
           \"a2a1\": {\"type\": {\"key\": {\"type\": \"uuid\",
                                     \"refTable\": \"a\",
                                     \"refType\": \"weak\"}}},
           \"a2b\": {\"type\": {\"key\": {\"type\": \"uuid\",
                                    \"refTable\": \"b\",
                                    \"refType\": \"weak\"}}}}},
       \"b\": {
         \"columns\": {
           \"b\": {\"type\": \"integer\"},
           \"b2a\": {\"type\": {\"key\": {\"type\": \"uuid\",
                                    \"refTable\": \"a\",
                                    \"refType\": \"weak\"},
                            \"min\": 0, \"max\": \"unlimited\"}}}}}}'  '[\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"],
                               [\"uuid\", \"0e767b36-6822-4044-8307-d58467e04669\"]]],
               \"a2a1\": [\"named-uuid\", \"row1\"],
               \"a2b\": [\"named-uuid\", \"row3\"]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"]]],
               \"a2a1\": [\"named-uuid\", \"row2\"],
               \"a2b\": [\"named-uuid\", \"row3\"]},
       \"uuid-name\": \"row2\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 2,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"]]],
               \"a2a1\": [\"named-uuid\", \"row2\"],
               \"a2b\": [\"named-uuid\", \"row4\"]}},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 2,
               \"b2a\": [\"named-uuid\", \"row1\"]},
       \"uuid-name\": \"row3\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 3,
               \"b2a\": [\"named-uuid\", \"row2\"]},
       \"uuid-name\": \"row4\"}]' '      [\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]' '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]' '      [\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a2a1\": [\"named-uuid\", \"me\"]},
       \"uuid-name\": \"me\"}]' '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 3]]}]' '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]' '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 2]]}]' '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]' '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]' '   [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]' '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]' '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]' '   [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]' '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]' '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-execution.at:731"
( $at_check_trace; test-ovsdb execute '{"name": "weak",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}},
           "a2a1": {"type": {"key": {"type": "uuid",
                                     "refTable": "a",
                                     "refType": "weak"}}},
           "a2b": {"type": {"key": {"type": "uuid",
                                    "refTable": "b",
                                    "refType": "weak"}}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}}}}}}'  '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]' '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]' '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]' '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]' '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]' '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]' '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]' '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]' '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]' '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]' '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]' '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]' '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]' '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]' '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-execution.at:731: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-execution.at:731"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]},{\"uuid\":[\"uuid\",\"<4>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<2>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<4>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"uuid\":[\"uuid\",\"<5>\"]},{\"details\":\"Weak reference column \\\"a2b\\\" in \\\"a\\\" row <5> (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2b\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2a1\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"uuid\",\"<1>\"],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"set\",[]]}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-execution.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_656
#AT_START_657
at_fn_group_banner 657 'ovsdb-trigger.at:15' \
  "trigger fires immediately" "                      " 50
at_xfail=no
(
  $as_echo "657. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:15: test-ovsdb trigger '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}' \\
    '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 10,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 2, \"name\": \"two\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-trigger.at:15"
( $at_check_trace; test-ovsdb trigger '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:15"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:15: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-trigger.at:15"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "t=0: trigger 0 (immediate): [{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{},{\"uuid\":[\"uuid\",\"<2>\"]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:15"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_657
#AT_START_658
at_fn_group_banner 658 'ovsdb-trigger.at:38' \
  "trigger times out" "                              " 50
at_xfail=no
(
  $as_echo "658. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:38: test-ovsdb trigger '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}' \\
    '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 10,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]' \\
    '[\"advance\", 10]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-trigger.at:38"
( $at_check_trace; test-ovsdb trigger '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]' \
    '["advance", 10]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:38"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:38: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-trigger.at:38"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "t=0: new trigger 0
t=10: trigger 0 (delayed): [{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out after 10 ms\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:38"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_658
#AT_START_659
at_fn_group_banner 659 'ovsdb-trigger.at:61' \
  "trigger fires after delay" "                      " 50
at_xfail=no
(
  $as_echo "659. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:61: test-ovsdb trigger '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}' \\
    '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}}]' \\
    '[\"advance\", 5]' \\
    '[\"ordinals\",
      {\"op\": \"wait\",
       \"timeout\": 10,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]' \\
    '[\"advance\", 5]' \\
    '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 2, \"name\": \"two\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-trigger.at:61"
( $at_check_trace; test-ovsdb trigger '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:61"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:61: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-trigger.at:61"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "t=0: trigger 0 (immediate): [{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]
t=5: new trigger 1
t=10: trigger 2 (immediate): [{\"uuid\":[\"uuid\",\"<2>\"]}]
t=10: trigger 1 (delayed): [{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:61"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_659
#AT_START_660
at_fn_group_banner 660 'ovsdb-trigger.at:92' \
  "delayed trigger modifies database" "              " 50
at_xfail=no
(
  $as_echo "660. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:92: test-ovsdb trigger '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}' \\
    '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}}]' \\
    '[\"advance\", 5]' \\
    '[\"ordinals\",
      {\"op\": \"wait\",
       \"timeout\": 10,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"number\", \"<\", 2]]}]' \\
    '[\"advance\", 5]' \\
    '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 2, \"name\": \"two\"}}]' \\
    '[\"advance\", 5]' \\
    '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-trigger.at:92"
( $at_check_trace; test-ovsdb trigger '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]},
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "<", 2]]}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:92"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:92: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-trigger.at:92"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "t=0: trigger 0 (immediate): [{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]
t=5: new trigger 1
t=10: trigger 2 (immediate): [{\"uuid\":[\"uuid\",\"<2>\"]}]
t=10: trigger 1 (delayed): [{},{\"count\":2}]
t=15: trigger 3 (immediate): [{\"rows\":[{\"_uuid\":[\"uuid\",\"<2>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"two\",\"number\":2}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:92"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_660
#AT_START_661
at_fn_group_banner 661 'ovsdb-trigger.at:132' \
  "one delayed trigger wakes up another" "           " 50
at_xfail=no
(
  $as_echo "661. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:132: test-ovsdb trigger '{\"name\": \"ordinals\",
     \"tables\": {
       \"ordinals\": {
         \"columns\": {
           \"number\": {\"type\": \"integer\"},
           \"name\": {\"type\": \"string\"}}}},
     \"version\": \"5.1.3\"}' \\
    '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}}]' \\
    '[\"advance\", 5]' \\
    '[\"ordinals\",
      {\"op\": \"wait\",
       \"timeout\": 10,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"two\", \"number\": 2}]},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"number\", \"==\", 2]]},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 3, \"name\": \"three\"}}]' \\
    '[\"ordinals\",
      {\"op\": \"wait\",
       \"timeout\": 10,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"number\", \"<\", 2]]}]' \\
    '[\"advance\", 5]' \\
    '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 2, \"name\": \"two\"}}]' \\
    '[\"advance\", 5]' \\
    '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-trigger.at:132"
( $at_check_trace; test-ovsdb trigger '{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "two", "number": 2}]},
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "==", 2]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 3, "name": "three"}}]' \
    '["ordinals",
      {"op": "wait",
       "timeout": 10,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]},
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "<", 2]]}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 2, "name": "two"}}]' \
    '["advance", 5]' \
    '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:132"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-trigger.at:132: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-trigger.at:132"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "t=0: trigger 0 (immediate): [{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]
t=5: new trigger 1
t=5: new trigger 2
t=10: trigger 3 (immediate): [{\"uuid\":[\"uuid\",\"<2>\"]}]
t=10: trigger 2 (delayed): [{},{\"count\":2}]
t=15: trigger 1 (delayed): [{},{\"count\":1},{\"uuid\":[\"uuid\",\"<3>\"]}]
t=15: trigger 4 (immediate): [{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"_version\":[\"uuid\",\"<4>\"],\"name\":\"three\",\"number\":3}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-trigger.at:132"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_661
#AT_START_662
at_fn_group_banner 662 'ovsdb-tool.at:30' \
  "insert default row, query table" "                " 51
at_xfail=no
(
  $as_echo "662. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_662
#AT_START_663
at_fn_group_banner 663 'ovsdb-tool.at:30' \
  "insert row, query table" "                        " 51
at_xfail=no
(
  $as_echo "663. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_663
#AT_START_664
at_fn_group_banner 664 'ovsdb-tool.at:30' \
  "insert rows, query by value" "                    " 51
at_xfail=no
(
  $as_echo "664. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"one\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_664
#AT_START_665
at_fn_group_banner 665 'ovsdb-tool.at:30' \
  "insert rows, query by named-uuid" "               " 51
at_xfail=no
(
  $as_echo "665. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"first\"]]]},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"second\"]]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_665
#AT_START_666
at_fn_group_banner 666 'ovsdb-tool.at:30' \
  "insert rows, update rows by value" "              " 51
at_xfail=no
(
  $as_echo "666. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]],
       \"row\": {\"name\": \"nought\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"nought\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_666
#AT_START_667
at_fn_group_banner 667 'ovsdb-tool.at:30' \
  "insert rows, mutate rows" "                       " 51
at_xfail=no
(
  $as_echo "667. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"mutate\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]],
       \"mutations\": [[\"number\", \"+=\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1},{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"zero\",\"number\":2}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_667
#AT_START_668
at_fn_group_banner 668 'ovsdb-tool.at:30' \
  "insert rows, delete by named-uuid" "              " 51
at_xfail=no
(
  $as_echo "668. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"first\"]]]},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\",\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":1},{\"rows\":[{\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_668
#AT_START_669
at_fn_group_banner 669 'ovsdb-tool.at:30' \
  "insert rows, delete rows by value" "              " 51
at_xfail=no
(
  $as_echo "669. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_669
#AT_START_670
at_fn_group_banner 670 'ovsdb-tool.at:30' \
  "insert rows, delete by (non-matching) value" "    " 51
at_xfail=no
(
  $as_echo "670. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"nought\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":0}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_670
#AT_START_671
at_fn_group_banner 671 'ovsdb-tool.at:30' \
  "insert rows, delete all" "                        " 51
at_xfail=no
(
  $as_echo "671. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\",\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":2},{\"rows\":[]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_671
#AT_START_672
at_fn_group_banner 672 'ovsdb-tool.at:30' \
  "insert row, query table, commit" "                " 51
at_xfail=no
(
  $as_echo "672. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"commit\",
       \"durable\": false}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_672
#AT_START_673
at_fn_group_banner 673 'ovsdb-tool.at:30' \
  "insert row, query table, commit durably" "        " 51
at_xfail=no
(
  $as_echo "673. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"commit\",
       \"durable\": true}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_673
#AT_START_674
at_fn_group_banner 674 'ovsdb-tool.at:30' \
  "equality wait with correct rows" "                " 51
at_xfail=no
(
  $as_echo "674. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_674
#AT_START_675
at_fn_group_banner 675 'ovsdb-tool.at:30' \
  "equality wait with extra row" "                   " 51
at_xfail=no
(
  $as_echo "675. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_675
#AT_START_676
at_fn_group_banner 676 'ovsdb-tool.at:30' \
  "equality wait with missing row" "                 " 51
at_xfail=no
(
  $as_echo "676. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_676
#AT_START_677
at_fn_group_banner 677 'ovsdb-tool.at:30' \
  "inequality wait with correct rows" "              " 51
at_xfail=no
(
  $as_echo "677. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_677
#AT_START_678
at_fn_group_banner 678 'ovsdb-tool.at:30' \
  "inequality wait with extra row" "                 " 51
at_xfail=no
(
  $as_echo "678. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_678
#AT_START_679
at_fn_group_banner 679 'ovsdb-tool.at:30' \
  "inequality wait with missing row" "               " 51
at_xfail=no
(
  $as_echo "679. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_679
#AT_START_680
at_fn_group_banner 680 'ovsdb-tool.at:30' \
  "insert and update constraints" "                  " 51
at_xfail=no
(
  $as_echo "680. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": -1}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"update\",
       \"table\": \"constrained\",
       \"where\": [],
       \"row\": {\"positive\": -2}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": 1}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": 2}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"details\":\"0 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-1 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-2 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"transaction causes \\\"constrained\\\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)\",\"error\":\"constraint violation\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_680
#AT_START_681
at_fn_group_banner 681 'ovsdb-tool.at:30' \
  "referential integrity -- simple" "                " 51
at_xfail=no
(
  $as_echo "681. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 1},
       \"uuid-name\": \"brow\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 2,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 3 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 2 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_681
#AT_START_682
at_fn_group_banner 682 'ovsdb-tool.at:30' \
  "referential integrity -- mutual references" "     " 51
at_xfail=no
(
  $as_echo "682. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2b\": [\"set\", [[\"named-uuid\", \"row2\"]]],
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"]]]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 1,
               \"b2b\": [\"set\", [[\"named-uuid\", \"row2\"]]],
               \"b2a\": [\"set\", [[\"named-uuid\", \"row1\"]]]},
       \"uuid-name\": \"row2\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a2b\": [\"set\", [[\"uuid\", \"b516b960-5b19-4fc2-bb82-fe1cbd6d0241\"]]]}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '   [\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]},
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"uuid\":[\"uuid\",\"<2>\"]},{\"details\":\"Table a column a2b row <2> references nonexistent row <3> in table b.\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_682
#AT_START_683
at_fn_group_banner 683 'ovsdb-tool.at:30' \
  "weak references" "                                " 51
at_xfail=no
(
  $as_echo "683. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "weak",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}},
           "a2a1": {"type": {"key": {"type": "uuid",
                                     "refTable": "a",
                                     "refType": "weak"}}},
           "a2b": {"type": {"key": {"type": "uuid",
                                    "refTable": "b",
                                    "refType": "weak"}}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}}}}}}
_ATEOF

   touch .db.~lock~
   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"],
                               [\"uuid\", \"0e767b36-6822-4044-8307-d58467e04669\"]]],
               \"a2a1\": [\"named-uuid\", \"row1\"],
               \"a2b\": [\"named-uuid\", \"row3\"]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"]]],
               \"a2a1\": [\"named-uuid\", \"row2\"],
               \"a2b\": [\"named-uuid\", \"row3\"]},
       \"uuid-name\": \"row2\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 2,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"]]],
               \"a2a1\": [\"named-uuid\", \"row2\"],
               \"a2b\": [\"named-uuid\", \"row4\"]}},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 2,
               \"b2a\": [\"named-uuid\", \"row1\"]},
       \"uuid-name\": \"row3\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 3,
               \"b2a\": [\"named-uuid\", \"row2\"]},
       \"uuid-name\": \"row4\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '      [\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '      [\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a2a1\": [\"named-uuid\", \"me\"]},
       \"uuid-name\": \"me\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 3]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '   [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '   [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:30"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-tool.at:30: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-tool.at:30"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]},{\"uuid\":[\"uuid\",\"<4>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<2>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<4>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"uuid\":[\"uuid\",\"<5>\"]},{\"details\":\"Weak reference column \\\"a2b\\\" in \\\"a\\\" row <5> (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2b\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2a1\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"uuid\",\"<1>\"],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"set\",[]]}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:30"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_683
#AT_START_684
at_fn_group_banner 684 'ovsdb-tool.at:32' \
  "transaction comments" "                           " 51
at_xfail=no
(
  $as_echo "684. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

touch .db.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:37: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:37"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:37"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:38: ovsdb-tool transact db '
    [\"ordinals\",
     {\"op\": \"insert\",
      \"table\": \"ordinals\",
      \"row\": {\"name\": \"five\", \"number\": 5}},
     {\"op\": \"comment\",
      \"comment\": \"add row for 5\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:38"
( $at_check_trace; ovsdb-tool transact db '
    ["ordinals",
     {"op": "insert",
      "table": "ordinals",
      "row": {"name": "five", "number": 5}},
     {"op": "comment",
      "comment": "add row for 5"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:38"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:45: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-tool.at:45"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:45"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:48: grep \"add row for 5\" db"
at_fn_check_prepare_trace "ovsdb-tool.at:48"
( $at_check_trace; grep "add row for 5" db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:48"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_684
#AT_START_685
at_fn_group_banner 685 'ovsdb-tool.at:51' \
  "ovsdb-tool compact" "                             " 51
at_xfail=no
(
  $as_echo "685. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

touch .db.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:56: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:56"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:56"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:58: for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- \$pair
      ovsdb-tool transact db '
        [\"ordinals\",
         {\"op\": \"insert\",
          \"table\": \"ordinals\",
          \"row\": {\"name\": \"'\$1'\", \"number\": '\$2'}},
         {\"op\": \"comment\",
          \"comment\": \"add row for '\"\$pair\"'\"}]'
      ovsdb-tool transact db '
        [\"ordinals\",
         {\"op\": \"delete\",
          \"table\": \"ordinals\",
          \"where\": [[\"number\", \"==\", '\$2']]},
         {\"op\": \"comment\",
          \"comment\": \"delete row for '\"\$2\"'\"}]'
      ovsdb-tool transact db '
        [\"ordinals\",
         {\"op\": \"insert\",
          \"table\": \"ordinals\",
          \"row\": {\"name\": \"'\$1'\", \"number\": '\$2'}},
         {\"op\": \"comment\",
          \"comment\": \"add back row for '\"\$pair\"'\"}]'
    done"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:58"
( $at_check_trace; for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- $pair
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add row for '"$pair"'"}]'
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "delete",
          "table": "ordinals",
          "where": [["number", "==", '$2']]},
         {"op": "comment",
          "comment": "delete row for '"$2"'"}]'
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add back row for '"$pair"'"}]'
    done
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:58"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:85: perl \$srcdir/uuidfilt.pl db | grep -v ^OVSDB | sed 's/\"_date\":[0-9]*/\"_date\":0/' | test-json --multiple -"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-tool.at:85"
( $at_check_trace; perl $srcdir/uuidfilt.pl db | grep -v ^OVSDB | sed 's/"_date":[0-9]*/"_date":0/' | test-json --multiple -
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"name\":\"ordinals\",\"tables\":{\"ordinals\":{\"columns\":{\"name\":{\"type\":\"string\"},\"number\":{\"type\":\"integer\"}}}},\"version\":\"5.1.3\"}
{\"_comment\":\"add row for zero 0\",\"_date\":0,\"ordinals\":{\"<0>\":{\"name\":\"zero\"}}}
{\"_comment\":\"delete row for 0\",\"_date\":0,\"ordinals\":{\"<0>\":null}}
{\"_comment\":\"add back row for zero 0\",\"_date\":0,\"ordinals\":{\"<1>\":{\"name\":\"zero\"}}}
{\"_comment\":\"add row for one 1\",\"_date\":0,\"ordinals\":{\"<2>\":{\"name\":\"one\",\"number\":1}}}
{\"_comment\":\"delete row for 1\",\"_date\":0,\"ordinals\":{\"<2>\":null}}
{\"_comment\":\"add back row for one 1\",\"_date\":0,\"ordinals\":{\"<3>\":{\"name\":\"one\",\"number\":1}}}
{\"_comment\":\"add row for two 2\",\"_date\":0,\"ordinals\":{\"<4>\":{\"name\":\"two\",\"number\":2}}}
{\"_comment\":\"delete row for 2\",\"_date\":0,\"ordinals\":{\"<4>\":null}}
{\"_comment\":\"add back row for two 2\",\"_date\":0,\"ordinals\":{\"<5>\":{\"name\":\"two\",\"number\":2}}}
{\"_comment\":\"add row for three 3\",\"_date\":0,\"ordinals\":{\"<6>\":{\"name\":\"three\",\"number\":3}}}
{\"_comment\":\"delete row for 3\",\"_date\":0,\"ordinals\":{\"<6>\":null}}
{\"_comment\":\"add back row for three 3\",\"_date\":0,\"ordinals\":{\"<7>\":{\"name\":\"three\",\"number\":3}}}
{\"_comment\":\"add row for four 4\",\"_date\":0,\"ordinals\":{\"<8>\":{\"name\":\"four\",\"number\":4}}}
{\"_comment\":\"delete row for 4\",\"_date\":0,\"ordinals\":{\"<8>\":null}}
{\"_comment\":\"add back row for four 4\",\"_date\":0,\"ordinals\":{\"<9>\":{\"name\":\"four\",\"number\":4}}}
{\"_comment\":\"add row for five 5\",\"_date\":0,\"ordinals\":{\"<10>\":{\"name\":\"five\",\"number\":5}}}
{\"_comment\":\"delete row for 5\",\"_date\":0,\"ordinals\":{\"<10>\":null}}
{\"_comment\":\"add back row for five 5\",\"_date\":0,\"ordinals\":{\"<11>\":{\"name\":\"five\",\"number\":5}}}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:85"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:107: ovsdb-server --unixctl=\$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db"
at_fn_check_prepare_dynamic "ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db" "ovsdb-tool.at:107"
( $at_check_trace; ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run "ovsdb-client dump unix:socket ordinals" db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:107"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:109: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-tool.at:109"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                name  number
------------------------------------ ----- ------
<0> five  5     
<1> four  4     
<2> one   1     
<3> three 3     
<4> two   2     
<5> zero  0     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:109"
$at_failed && at_fn_log_failure
$at_traceon; }

touch .db.tmp.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:122: ovsdb-tool compact db"
at_fn_check_prepare_trace "ovsdb-tool.at:122"
( $at_check_trace; ovsdb-tool compact db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:122"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:127: wc -l < db"
at_fn_check_prepare_trace "ovsdb-tool.at:127"
( $at_check_trace; wc -l < db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "4
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:127"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:130: ovsdb-server --unixctl=\$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db"
at_fn_check_prepare_dynamic "ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db" "ovsdb-tool.at:130"
( $at_check_trace; ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run "ovsdb-client dump unix:socket ordinals" db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:130"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:132: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-tool.at:132"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                name  number
------------------------------------ ----- ------
<0> five  5     
<1> four  4     
<2> one   1     
<3> three 3     
<4> two   2     
<5> zero  0     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:132"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_685
#AT_START_686
at_fn_group_banner 686 'ovsdb-tool.at:145' \
  "ovsdb-tool convert -- removing a column" "        " 51
at_xfail=no
(
  $as_echo "686. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

cat >new-schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"}}}}}
_ATEOF

touch .db.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:157: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:157"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:157"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:159: for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- \$pair
      ovsdb-tool transact db '
        [\"ordinals\",
         {\"op\": \"insert\",
          \"table\": \"ordinals\",
          \"row\": {\"name\": \"'\$1'\", \"number\": '\$2'}},
         {\"op\": \"comment\",
          \"comment\": \"add row for '\"\$pair\"'\"}]'
    done"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:159"
( $at_check_trace; for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- $pair
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add row for '"$pair"'"}]'
    done
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:159"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:172: ovsdb-server --unixctl=\$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db"
at_fn_check_prepare_dynamic "ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db" "ovsdb-tool.at:172"
( $at_check_trace; ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run "ovsdb-client dump unix:socket ordinals" db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:172"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:174: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-tool.at:174"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                name  number
------------------------------------ ----- ------
<0> five  5     
<1> four  4     
<2> one   1     
<3> three 3     
<4> two   2     
<5> zero  0     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

touch .db.tmp.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:187: ovsdb-tool convert db new-schema"
at_fn_check_prepare_trace "ovsdb-tool.at:187"
( $at_check_trace; ovsdb-tool convert db new-schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:192: wc -l < db"
at_fn_check_prepare_trace "ovsdb-tool.at:192"
( $at_check_trace; wc -l < db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "4
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:192"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:195: ovsdb-server --unixctl=\$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db"
at_fn_check_prepare_dynamic "ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db" "ovsdb-tool.at:195"
( $at_check_trace; ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run "ovsdb-client dump unix:socket ordinals" db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:195"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:197: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-tool.at:197"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                number
------------------------------------ ------
<0> 0     
<1> 1     
<2> 2     
<3> 3     
<4> 4     
<5> 5     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:197"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_686
#AT_START_687
at_fn_group_banner 687 'ovsdb-tool.at:210' \
  "ovsdb-tool convert -- adding a column" "          " 51
at_xfail=no
(
  $as_echo "687. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"}}}}}
_ATEOF

cat >new-schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

touch .db.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:222: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:222"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:222"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:224: for number in 0 1 2 3 4 5; do
      ovsdb-tool transact db '
        [\"ordinals\",
         {\"op\": \"insert\",
          \"table\": \"ordinals\",
          \"row\": {\"number\": '\$number'}},
         {\"op\": \"comment\",
          \"comment\": \"add row for '\"\$number\"'\"}]'
    done"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-tool.at:224"
( $at_check_trace; for number in 0 1 2 3 4 5; do
      ovsdb-tool transact db '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"number": '$number'}},
         {"op": "comment",
          "comment": "add row for '"$number"'"}]'
    done
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:224"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:236: ovsdb-server --unixctl=\$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db"
at_fn_check_prepare_dynamic "ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db" "ovsdb-tool.at:236"
( $at_check_trace; ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run "ovsdb-client dump unix:socket ordinals" db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:236"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:238: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-tool.at:238"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                number
------------------------------------ ------
<0> 0     
<1> 1     
<2> 2     
<3> 3     
<4> 4     
<5> 5     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:238"
$at_failed && at_fn_log_failure
$at_traceon; }

touch .db.tmp.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:251: ovsdb-tool convert db new-schema"
at_fn_check_prepare_trace "ovsdb-tool.at:251"
( $at_check_trace; ovsdb-tool convert db new-schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:251"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:256: wc -l < db"
at_fn_check_prepare_trace "ovsdb-tool.at:256"
( $at_check_trace; wc -l < db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "4
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:256"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:259: ovsdb-server --unixctl=\$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db"
at_fn_check_prepare_dynamic "ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run \"ovsdb-client dump unix:socket ordinals\" db" "ovsdb-tool.at:259"
( $at_check_trace; ovsdb-server --unixctl=$PWD/unixctl --remote=punix:socket --run "ovsdb-client dump unix:socket ordinals" db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:259"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:261: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-tool.at:261"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                name number
------------------------------------ ---- ------
<0> \"\"   0     
<1> \"\"   1     
<2> \"\"   2     
<3> \"\"   3     
<4> \"\"   4     
<5> \"\"   5     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:261"
$at_failed && at_fn_log_failure  \
"db"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_687
#AT_START_688
at_fn_group_banner 688 'ovsdb-tool.at:274' \
  "ovsdb-tool schema-version" "                      " 51
at_xfail=no
(
  $as_echo "688. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:278: ovsdb-tool schema-version schema"
at_fn_check_prepare_trace "ovsdb-tool.at:278"
( $at_check_trace; ovsdb-tool schema-version schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "5.1.3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:278"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_688
#AT_START_689
at_fn_group_banner 689 'ovsdb-tool.at:282' \
  "ovsdb-tool db-version" "                          " 51
at_xfail=no
(
  $as_echo "689. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

touch .db.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:287: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-tool.at:287"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:287"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-tool.at:288: ovsdb-tool db-version db"
at_fn_check_prepare_trace "ovsdb-tool.at:288"
( $at_check_trace; ovsdb-tool db-version db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "5.1.3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-tool.at:288"
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_689
#AT_START_690
at_fn_group_banner 690 'ovsdb-server.at:39' \
  "insert default row, query table" "                " 52
at_xfail=no
(
  $as_echo "690. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_690
#AT_START_691
at_fn_group_banner 691 'ovsdb-server.at:39' \
  "insert row, query table" "                        " 52
at_xfail=no
(
  $as_echo "691. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_691
#AT_START_692
at_fn_group_banner 692 'ovsdb-server.at:39' \
  "insert rows, query by value" "                    " 52
at_xfail=no
(
  $as_echo "692. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"one\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_692
#AT_START_693
at_fn_group_banner 693 'ovsdb-server.at:39' \
  "insert rows, query by named-uuid" "               " 52
at_xfail=no
(
  $as_echo "693. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"first\"]]]},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"second\"]]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_693
#AT_START_694
at_fn_group_banner 694 'ovsdb-server.at:39' \
  "insert rows, update rows by value" "              " 52
at_xfail=no
(
  $as_echo "694. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]],
       \"row\": {\"name\": \"nought\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"nought\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_694
#AT_START_695
at_fn_group_banner 695 'ovsdb-server.at:39' \
  "insert rows, mutate rows" "                       " 52
at_xfail=no
(
  $as_echo "695. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"mutate\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]],
       \"mutations\": [[\"number\", \"+=\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1},{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"zero\",\"number\":2}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_695
#AT_START_696
at_fn_group_banner 696 'ovsdb-server.at:39' \
  "insert rows, delete by named-uuid" "              " 52
at_xfail=no
(
  $as_echo "696. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"first\"]]]},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\",\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":1},{\"rows\":[{\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_696
#AT_START_697
at_fn_group_banner 697 'ovsdb-server.at:39' \
  "insert rows, delete rows by value" "              " 52
at_xfail=no
(
  $as_echo "697. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_697
#AT_START_698
at_fn_group_banner 698 'ovsdb-server.at:39' \
  "insert rows, delete by (non-matching) value" "    " 52
at_xfail=no
(
  $as_echo "698. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"nought\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":0}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_698
#AT_START_699
at_fn_group_banner 699 'ovsdb-server.at:39' \
  "insert rows, delete all" "                        " 52
at_xfail=no
(
  $as_echo "699. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\",\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":2},{\"rows\":[]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_699
#AT_START_700
at_fn_group_banner 700 'ovsdb-server.at:39' \
  "insert row, query table, commit" "                " 52
at_xfail=no
(
  $as_echo "700. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"commit\",
       \"durable\": false}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_700
#AT_START_701
at_fn_group_banner 701 'ovsdb-server.at:39' \
  "insert row, query table, commit durably" "        " 52
at_xfail=no
(
  $as_echo "701. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"commit\",
       \"durable\": true}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_701
#AT_START_702
at_fn_group_banner 702 'ovsdb-server.at:39' \
  "equality wait with correct rows" "                " 52
at_xfail=no
(
  $as_echo "702. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_702
#AT_START_703
at_fn_group_banner 703 'ovsdb-server.at:39' \
  "equality wait with extra row" "                   " 52
at_xfail=no
(
  $as_echo "703. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_703
#AT_START_704
at_fn_group_banner 704 'ovsdb-server.at:39' \
  "equality wait with missing row" "                 " 52
at_xfail=no
(
  $as_echo "704. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_704
#AT_START_705
at_fn_group_banner 705 'ovsdb-server.at:39' \
  "inequality wait with correct rows" "              " 52
at_xfail=no
(
  $as_echo "705. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_705
#AT_START_706
at_fn_group_banner 706 'ovsdb-server.at:39' \
  "inequality wait with extra row" "                 " 52
at_xfail=no
(
  $as_echo "706. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_706
#AT_START_707
at_fn_group_banner 707 'ovsdb-server.at:39' \
  "inequality wait with missing row" "               " 52
at_xfail=no
(
  $as_echo "707. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_707
#AT_START_708
at_fn_group_banner 708 'ovsdb-server.at:39' \
  "insert and update constraints" "                  " 52
at_xfail=no
(
  $as_echo "708. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": -1}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"update\",
       \"table\": \"constrained\",
       \"where\": [],
       \"row\": {\"positive\": -2}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": 1}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": 2}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"details\":\"0 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-1 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-2 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"transaction causes \\\"constrained\\\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)\",\"error\":\"constraint violation\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_708
#AT_START_709
at_fn_group_banner 709 'ovsdb-server.at:39' \
  "referential integrity -- simple" "                " 52
at_xfail=no
(
  $as_echo "709. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 1},
       \"uuid-name\": \"brow\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 2,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 3 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 2 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_709
#AT_START_710
at_fn_group_banner 710 'ovsdb-server.at:39' \
  "referential integrity -- mutual references" "     " 52
at_xfail=no
(
  $as_echo "710. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2b\": [\"set\", [[\"named-uuid\", \"row2\"]]],
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"]]]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 1,
               \"b2b\": [\"set\", [[\"named-uuid\", \"row2\"]]],
               \"b2a\": [\"set\", [[\"named-uuid\", \"row1\"]]]},
       \"uuid-name\": \"row2\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a2b\": [\"set\", [[\"uuid\", \"b516b960-5b19-4fc2-bb82-fe1cbd6d0241\"]]]}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '   [\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]},
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"uuid\":[\"uuid\",\"<2>\"]},{\"details\":\"Table a column a2b row <2> references nonexistent row <3> in table b.\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_710
#AT_START_711
at_fn_group_banner 711 'ovsdb-server.at:39' \
  "weak references" "                                " 52
at_xfail=no
(
  $as_echo "711. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "weak",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}},
           "a2a1": {"type": {"key": {"type": "uuid",
                                     "refTable": "a",
                                     "refType": "weak"}}},
           "a2b": {"type": {"key": {"type": "uuid",
                                    "refTable": "b",
                                    "refType": "weak"}}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}}}}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:39"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db" "ovsdb-server.at:39"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"],
                               [\"uuid\", \"0e767b36-6822-4044-8307-d58467e04669\"]]],
               \"a2a1\": [\"named-uuid\", \"row1\"],
               \"a2b\": [\"named-uuid\", \"row3\"]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"]]],
               \"a2a1\": [\"named-uuid\", \"row2\"],
               \"a2b\": [\"named-uuid\", \"row3\"]},
       \"uuid-name\": \"row2\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 2,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"]]],
               \"a2a1\": [\"named-uuid\", \"row2\"],
               \"a2b\": [\"named-uuid\", \"row4\"]}},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 2,
               \"b2a\": [\"named-uuid\", \"row1\"]},
       \"uuid-name\": \"row3\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 3,
               \"b2a\": [\"named-uuid\", \"row2\"]},
       \"uuid-name\": \"row4\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '      [\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '      [\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a2a1\": [\"named-uuid\", \"me\"]},
       \"uuid-name\": \"me\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 3]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '   [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '   [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:39"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:39"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]},{\"uuid\":[\"uuid\",\"<4>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<2>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<4>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"uuid\":[\"uuid\",\"<5>\"]},{\"details\":\"Weak reference column \\\"a2b\\\" in \\\"a\\\" row <5> (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2b\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2a1\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"uuid\",\"<1>\"],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"set\",[]]}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:39"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:39: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:39"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:39"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_711
#AT_START_712
at_fn_group_banner 712 'ovsdb-server.at:41' \
  "ovsdb-client get-schema-version" "                " 52
at_xfail=no
(
  $as_echo "712. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:45: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:45"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:45"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:46: ovsdb-server --detach --pidfile=\$PWD/pid --unixctl=\$PWD/unixctl --remote=punix:socket db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/unixctl --remote=punix:socket db" "ovsdb-server.at:46"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/unixctl --remote=punix:socket db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:46"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:47: ovsdb-client get-schema-version unix:socket ordinals"
at_fn_check_prepare_trace "ovsdb-server.at:47"
( $at_check_trace; ovsdb-client get-schema-version unix:socket ordinals
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "5.1.3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:47"
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:49: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:49"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:49"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:49: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:49"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:49"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_712
#AT_START_713
at_fn_group_banner 713 'ovsdb-server.at:52' \
  "database multiplexing implementation" "           " 52
at_xfail=no
(
  $as_echo "713. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:56: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:56"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:56"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:57: ovsdb-server --detach --pidfile=\$PWD/pid --unixctl=\$PWD/unixctl --remote=punix:socket db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/unixctl --remote=punix:socket db" "ovsdb-server.at:57"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/unixctl --remote=punix:socket db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:57"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:58: ovsdb-client list-dbs unix:socket"
at_fn_check_prepare_trace "ovsdb-server.at:58"
( $at_check_trace; ovsdb-client list-dbs unix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "ordinals
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:58"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:62: ovsdb-client get-schema unix:socket nonexistent"
at_fn_check_prepare_trace "ovsdb-server.at:62"
( $at_check_trace; ovsdb-client get-schema unix:socket nonexistent
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovsdb-client: syntax \"{\"details\":\"get_schema request specifies unknown database nonexistent\",\"error\":\"unknown database\",\"syntax\":\"[\\\"nonexistent\\\"]\"}\": syntax error: Parsing database schema failed: Required 'name' member is missing.
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovsdb-server.at:62"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:66: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:66"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:66"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:66: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:66"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:66"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_713
#AT_START_714
at_fn_group_banner 714 'ovsdb-server.at:69' \
  "--remote=db: implementation" "                    " 52
at_xfail=no
(
  $as_echo "714. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "mydb",
     "tables": {
       "Manager": {
         "columns": {
           "manager": {"type": "string"}}}}}
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:78: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:78"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:78"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:79: ovsdb-tool transact db \\
     '[\"mydb\",
       {\"op\": \"insert\",
        \"table\": \"Manager\",
        \"row\": {\"manager\": \"punix:socket\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:79"
( $at_check_trace; ovsdb-tool transact db \
     '["mydb",
       {"op": "insert",
        "table": "Manager",
        "row": {"manager": "punix:socket"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:79"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:85: ovsdb-server --detach --pidfile=\$PWD/pid --remote=db:Manager,manager --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=db:Manager,manager --unixctl=$PWD/unixctl db" "ovsdb-server.at:85"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=db:Manager,manager --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:85"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:86: ovsdb-client transact unix:socket \\
     '[\"mydb\",
       {\"op\": \"select\",
        \"table\": \"Manager\",
        \"where\": [],
        \"columns\": [\"manager\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:86"
( $at_check_trace; ovsdb-client transact unix:socket \
     '["mydb",
       {"op": "select",
        "table": "Manager",
        "where": [],
        "columns": ["manager"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:86"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:94: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-server.at:94"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"rows\":[{\"manager\":\"punix:socket\"}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:94"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:101: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:101"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:101"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:101: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:101"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:101"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_714
#AT_START_715
at_fn_group_banner 715 'ovsdb-server.at:104' \
  "SSL db: implementation" "                         " 52
at_xfail=no
(
  $as_echo "715. $at_setup_line: testing $at_desc ..."
  $at_traceon


$as_echo "ovsdb-server.at:106" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:106"
$as_echo "ovsdb-server.at:107" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:107"
SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
PKIDIR=$abs_top_srcdir/tests
$as_echo "ovsdb-server.at:110" >"$at_check_line_file"
(expr "$PKIDIR" : ".* 	'\"
\\") \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:110"
cat >schema <<'_ATEOF'
{"name": "mydb",
     "tables": {
       "SSL": {
         "columns": {
           "private_key": {"type": "string"},
           "certificate": {"type": "string"},
           "ca_cert": {"type": "string"}}}}}
_ATEOF

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:121: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:121"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:121"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:122: ovsdb-tool transact db \\
     '[\"mydb\",
       {\"op\": \"insert\",
        \"table\": \"SSL\",
        \"row\": {\"private_key\": \"'\"\$PKIDIR/testpki-privkey2.pem\"'\",
                \"certificate\": \"'\"\$PKIDIR/testpki-cert2.pem\"'\",
                \"ca_cert\": \"'\"\$PKIDIR/testpki-cacert.pem\"'\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:122"
( $at_check_trace; ovsdb-tool transact db \
     '["mydb",
       {"op": "insert",
        "table": "SSL",
        "row": {"private_key": "'"$PKIDIR/testpki-privkey2.pem"'",
                "certificate": "'"$PKIDIR/testpki-cert2.pem"'",
                "ca_cert": "'"$PKIDIR/testpki-cacert.pem"'"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:122"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:131: ovsdb-server --detach --pidfile=\$PWD/pid \\
        --private-key=db:SSL,private_key \\
        --certificate=db:SSL,certificate \\
        --ca-cert=db:SSL,ca_cert \\
         --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:131"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid \
        --private-key=db:SSL,private_key \
        --certificate=db:SSL,certificate \
        --ca-cert=db:SSL,ca_cert \
         --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:131"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:138: ovsdb-client \\
        --private-key=\$PKIDIR/testpki-privkey.pem \\
        --certificate=\$PKIDIR/testpki-cert.pem \\
        --ca-cert=\$PKIDIR/testpki-cacert.pem \\
        transact ssl:127.0.0.1:\$SSL_PORT \\
        '[\"mydb\",
          {\"op\": \"select\",
           \"table\": \"SSL\",
           \"where\": [],
           \"columns\": [\"private_key\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:138"
( $at_check_trace; ovsdb-client \
        --private-key=$PKIDIR/testpki-privkey.pem \
        --certificate=$PKIDIR/testpki-cert.pem \
        --ca-cert=$PKIDIR/testpki-cacert.pem \
        transact ssl:127.0.0.1:$SSL_PORT \
        '["mydb",
          {"op": "select",
           "table": "SSL",
           "where": [],
           "columns": ["private_key"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:138"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:151: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:151"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"rows\":[{\"private_key\":\"$PKIDIR/testpki-privkey2.pem\"}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:151"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:155: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:155"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:155"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:155: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:155"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:155"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_715
#AT_START_716
at_fn_group_banner 716 'ovsdb-server.at:158' \
  "compacting online" "                              " 52
at_xfail=no
(
  $as_echo "716. $at_setup_line: testing $at_desc ..."
  $at_traceon


cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

touch .db.~lock~
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:163: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:163"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:163"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:164: ovsdb-server --detach --pidfile=\$PWD/pid --unixctl=\$PWD/unixctl --remote=punix:socket --log-file=\$PWD/ovsdb-server.log db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/unixctl --remote=punix:socket --log-file=$PWD/ovsdb-server.log db" "ovsdb-server.at:164"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --unixctl=$PWD/unixctl --remote=punix:socket --log-file=$PWD/ovsdb-server.log db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:164"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:167: for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- \$pair
      ovsdb-client transact unix:socket '
        [\"ordinals\",
         {\"op\": \"insert\",
          \"table\": \"ordinals\",
          \"row\": {\"name\": \"'\$1'\", \"number\": '\$2'}},
         {\"op\": \"comment\",
          \"comment\": \"add row for '\"\$pair\"'\"}]'
      ovsdb-client transact unix:socket '
        [\"ordinals\",
         {\"op\": \"delete\",
          \"table\": \"ordinals\",
          \"where\": [[\"number\", \"==\", '\$2']]},
         {\"op\": \"comment\",
          \"comment\": \"delete row for '\"\$2\"'\"}]'
      ovsdb-client transact unix:socket '
        [\"ordinals\",
         {\"op\": \"insert\",
          \"table\": \"ordinals\",
          \"row\": {\"name\": \"'\$1'\", \"number\": '\$2'}},
         {\"op\": \"comment\",
          \"comment\": \"add back row for '\"\$pair\"'\"}]'
    done"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:167"
( $at_check_trace; for pair in 'zero 0' 'one 1' 'two 2' 'three 3' 'four 4' 'five 5'; do
      set -- $pair
      ovsdb-client transact unix:socket '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add row for '"$pair"'"}]'
      ovsdb-client transact unix:socket '
        ["ordinals",
         {"op": "delete",
          "table": "ordinals",
          "where": [["number", "==", '$2']]},
         {"op": "comment",
          "comment": "delete row for '"$2"'"}]'
      ovsdb-client transact unix:socket '
        ["ordinals",
         {"op": "insert",
          "table": "ordinals",
          "row": {"name": "'$1'", "number": '$2'}},
         {"op": "comment",
          "comment": "add back row for '"$pair"'"}]'
    done
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:167"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:194: perl \$srcdir/uuidfilt.pl db | grep -v ^OVSDB | sed 's/\"_date\":[0-9]*/\"_date\":0/' | test-json --multiple -"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-server.at:194"
( $at_check_trace; perl $srcdir/uuidfilt.pl db | grep -v ^OVSDB | sed 's/"_date":[0-9]*/"_date":0/' | test-json --multiple -
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{\"name\":\"ordinals\",\"tables\":{\"ordinals\":{\"columns\":{\"name\":{\"type\":\"string\"},\"number\":{\"type\":\"integer\"}}}},\"version\":\"5.1.3\"}
{\"_comment\":\"add row for zero 0\",\"_date\":0,\"ordinals\":{\"<0>\":{\"name\":\"zero\"}}}
{\"_comment\":\"delete row for 0\",\"_date\":0,\"ordinals\":{\"<0>\":null}}
{\"_comment\":\"add back row for zero 0\",\"_date\":0,\"ordinals\":{\"<1>\":{\"name\":\"zero\"}}}
{\"_comment\":\"add row for one 1\",\"_date\":0,\"ordinals\":{\"<2>\":{\"name\":\"one\",\"number\":1}}}
{\"_comment\":\"delete row for 1\",\"_date\":0,\"ordinals\":{\"<2>\":null}}
{\"_comment\":\"add back row for one 1\",\"_date\":0,\"ordinals\":{\"<3>\":{\"name\":\"one\",\"number\":1}}}
{\"_comment\":\"add row for two 2\",\"_date\":0,\"ordinals\":{\"<4>\":{\"name\":\"two\",\"number\":2}}}
{\"_comment\":\"delete row for 2\",\"_date\":0,\"ordinals\":{\"<4>\":null}}
{\"_comment\":\"add back row for two 2\",\"_date\":0,\"ordinals\":{\"<5>\":{\"name\":\"two\",\"number\":2}}}
{\"_comment\":\"add row for three 3\",\"_date\":0,\"ordinals\":{\"<6>\":{\"name\":\"three\",\"number\":3}}}
{\"_comment\":\"delete row for 3\",\"_date\":0,\"ordinals\":{\"<6>\":null}}
{\"_comment\":\"add back row for three 3\",\"_date\":0,\"ordinals\":{\"<7>\":{\"name\":\"three\",\"number\":3}}}
{\"_comment\":\"add row for four 4\",\"_date\":0,\"ordinals\":{\"<8>\":{\"name\":\"four\",\"number\":4}}}
{\"_comment\":\"delete row for 4\",\"_date\":0,\"ordinals\":{\"<8>\":null}}
{\"_comment\":\"add back row for four 4\",\"_date\":0,\"ordinals\":{\"<9>\":{\"name\":\"four\",\"number\":4}}}
{\"_comment\":\"add row for five 5\",\"_date\":0,\"ordinals\":{\"<10>\":{\"name\":\"five\",\"number\":5}}}
{\"_comment\":\"delete row for 5\",\"_date\":0,\"ordinals\":{\"<10>\":null}}
{\"_comment\":\"add back row for five 5\",\"_date\":0,\"ordinals\":{\"<11>\":{\"name\":\"five\",\"number\":5}}}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:194"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:216: ovsdb-client dump unix:socket ordinals"
at_fn_check_prepare_trace "ovsdb-server.at:216"
( $at_check_trace; ovsdb-client dump unix:socket ordinals
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:216"
$at_failed && at_fn_log_failure  \
"ovsdb-server.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:218: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-server.at:218"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                name  number
------------------------------------ ----- ------
<0> five  5     
<1> four  4     
<2> one   1     
<3> three 3     
<4> two   2     
<5> zero  0     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:218"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:230: ovs-appctl -t \$PWD/unixctl ovsdb-server/compact"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl ovsdb-server/compact" "ovsdb-server.at:230"
( $at_check_trace; ovs-appctl -t $PWD/unixctl ovsdb-server/compact
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:230"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log"
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:236: wc -l < db"
at_fn_check_prepare_trace "ovsdb-server.at:236"
( $at_check_trace; wc -l < db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "4
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:236"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:239: ovsdb-client dump unix:socket ordinals"
at_fn_check_prepare_trace "ovsdb-server.at:239"
( $at_check_trace; ovsdb-client dump unix:socket ordinals
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:239"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:241: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-server.at:241"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                name  number
------------------------------------ ----- ------
<0> five  5     
<1> four  4     
<2> one   1     
<3> three 3     
<4> two   2     
<5> zero  0     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:241"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:253: ovsdb-client transact unix:socket '
     [\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"number\", \"<\", 3]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:253"
( $at_check_trace; ovsdb-client transact unix:socket '
     ["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "<", 3]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"count\":3}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:253"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:262: wc -l < db"
at_fn_check_prepare_trace "ovsdb-server.at:262"
( $at_check_trace; wc -l < db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "6
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:262"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:265: ovsdb-client dump unix:socket ordinals"
at_fn_check_prepare_trace "ovsdb-server.at:265"
( $at_check_trace; ovsdb-client dump unix:socket ordinals
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:265"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:267: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovsdb-server.at:267"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "ordinals table
_uuid                                name  number
------------------------------------ ----- ------
<0> five  5     
<1> four  4     
<2> three 3     
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:267"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:275: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:275"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:275"
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:275: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:275"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:275"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server.log" \
"db"
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_716
#AT_START_717
at_fn_group_banner 717 'ovsdb-server.at:315' \
  "insert default row, query table" "                " 53
at_xfail=no
(
  $as_echo "717. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_717
#AT_START_718
at_fn_group_banner 718 'ovsdb-server.at:315' \
  "insert row, query table" "                        " 53
at_xfail=no
(
  $as_echo "718. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_718
#AT_START_719
at_fn_group_banner 719 'ovsdb-server.at:315' \
  "insert rows, query by value" "                    " 53
at_xfail=no
(
  $as_echo "719. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"one\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_719
#AT_START_720
at_fn_group_banner 720 'ovsdb-server.at:315' \
  "insert rows, query by named-uuid" "               " 53
at_xfail=no
(
  $as_echo "720. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"first\"]]]},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"second\"]]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_720
#AT_START_721
at_fn_group_banner 721 'ovsdb-server.at:315' \
  "insert rows, update rows by value" "              " 53
at_xfail=no
(
  $as_echo "721. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]],
       \"row\": {\"name\": \"nought\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"nought\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_721
#AT_START_722
at_fn_group_banner 722 'ovsdb-server.at:315' \
  "insert rows, mutate rows" "                       " 53
at_xfail=no
(
  $as_echo "722. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"mutate\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]],
       \"mutations\": [[\"number\", \"+=\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1},{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"zero\",\"number\":2}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_722
#AT_START_723
at_fn_group_banner 723 'ovsdb-server.at:315' \
  "insert rows, delete by named-uuid" "              " 53
at_xfail=no
(
  $as_echo "723. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"first\"]]]},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\",\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":1},{\"rows\":[{\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_723
#AT_START_724
at_fn_group_banner 724 'ovsdb-server.at:315' \
  "insert rows, delete rows by value" "              " 53
at_xfail=no
(
  $as_echo "724. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"zero\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_724
#AT_START_725
at_fn_group_banner 725 'ovsdb-server.at:315' \
  "insert rows, delete by (non-matching) value" "    " 53
at_xfail=no
(
  $as_echo "725. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"first\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"nought\"]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"sort\": [\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":0}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_725
#AT_START_726
at_fn_group_banner 726 'ovsdb-server.at:315' \
  "insert rows, delete all" "                        " 53
at_xfail=no
(
  $as_echo "726. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"},
       \"uuid-name\": \"first\"},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"},
       \"uuid-name\": \"second\"},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\",\"number\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":2},{\"rows\":[]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_726
#AT_START_727
at_fn_group_banner 727 'ovsdb-server.at:315' \
  "insert row, query table, commit" "                " 53
at_xfail=no
(
  $as_echo "727. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"commit\",
       \"durable\": false}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_727
#AT_START_728
at_fn_group_banner 728 'ovsdb-server.at:315' \
  "insert row, query table, commit durably" "        " 53
at_xfail=no
(
  $as_echo "728. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"select\",
       \"table\": \"ordinals\",
       \"where\": []},
      {\"op\": \"commit\",
       \"durable\": true}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_728
#AT_START_729
at_fn_group_banner 729 'ovsdb-server.at:315' \
  "equality wait with correct rows" "                " 53
at_xfail=no
(
  $as_echo "729. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_729
#AT_START_730
at_fn_group_banner 730 'ovsdb-server.at:315' \
  "equality wait with extra row" "                   " 53
at_xfail=no
(
  $as_echo "730. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_730
#AT_START_731
at_fn_group_banner 731 'ovsdb-server.at:315' \
  "equality wait with missing row" "                 " 53
at_xfail=no
(
  $as_echo "731. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"==\",
       \"rows\": [{\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_731
#AT_START_732
at_fn_group_banner 732 'ovsdb-server.at:315' \
  "inequality wait with correct rows" "              " 53
at_xfail=no
(
  $as_echo "732. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_732
#AT_START_733
at_fn_group_banner 733 'ovsdb-server.at:315' \
  "inequality wait with extra row" "                 " 53
at_xfail=no
(
  $as_echo "733. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"zero\", \"number\": 0},
                {\"name\": \"one\", \"number\": 1},
                {\"name\": \"two\", \"number\": 2}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_733
#AT_START_734
at_fn_group_banner 734 'ovsdb-server.at:315' \
  "inequality wait with missing row" "               " 53
at_xfail=no
(
  $as_echo "734. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 1, \"name\": \"one\"}},
      {\"op\": \"wait\",
       \"timeout\": 0,
       \"table\": \"ordinals\",
       \"where\": [],
       \"columns\": [\"name\", \"number\"],
       \"until\": \"!=\",
       \"rows\": [{\"name\": \"one\", \"number\": 1}]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_734
#AT_START_735
at_fn_group_banner 735 'ovsdb-server.at:315' \
  "insert and update constraints" "                  " 53
at_xfail=no
(
  $as_echo "735. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": -1}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"update\",
       \"table\": \"constrained\",
       \"where\": [],
       \"row\": {\"positive\": -2}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": 1}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"constrained\",
       \"row\": {\"positive\": 2}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"details\":\"0 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-1 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-2 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"transaction causes \\\"constrained\\\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)\",\"error\":\"constraint violation\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_735
#AT_START_736
at_fn_group_banner 736 'ovsdb-server.at:315' \
  "referential integrity -- simple" "                " 53
at_xfail=no
(
  $as_echo "736. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 1},
       \"uuid-name\": \"brow\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 2,
               \"a2b\": [\"set\", [[\"named-uuid\", \"brow\"]]]}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 3 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 2 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_736
#AT_START_737
at_fn_group_banner 737 'ovsdb-server.at:315' \
  "referential integrity -- mutual references" "     " 53
at_xfail=no
(
  $as_echo "737. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2b\": [\"set\", [[\"named-uuid\", \"row2\"]]],
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"]]]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 1,
               \"b2b\": [\"set\", [[\"named-uuid\", \"row2\"]]],
               \"b2a\": [\"set\", [[\"named-uuid\", \"row1\"]]]},
       \"uuid-name\": \"row2\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a2b\": [\"set\", [[\"uuid\", \"b516b960-5b19-4fc2-bb82-fe1cbd6d0241\"]]]}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '   [\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"constraints\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]},
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"uuid\":[\"uuid\",\"<2>\"]},{\"details\":\"Table a column a2b row <2> references nonexistent row <3> in table b.\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_737
#AT_START_738
at_fn_group_banner 738 'ovsdb-server.at:315' \
  "weak references" "                                " 53
at_xfail=no
(
  $as_echo "738. $at_setup_line: testing $at_desc ..."
  $at_traceon


   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "$HAVE_OPENSSL" = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   $as_echo "ovsdb-server.at:315" >"$at_check_line_file"
(test "x$RANDOM" = x) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-server.at:315"
   cat >schema <<'_ATEOF'
{"name": "weak",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}},
           "a2a1": {"type": {"key": {"type": "uuid",
                                     "refTable": "a",
                                     "refType": "weak"}}},
           "a2b": {"type": {"key": {"type": "uuid",
                                    "refTable": "b",
                                    "refType": "weak"}}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}}}}}}
_ATEOF

   SSL_PORT=`expr 32767 + \( $RANDOM % 32767 \)`
   PKIDIR=$abs_top_srcdir/tests
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:315"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-server --detach --pidfile=\$PWD/pid --private-key=\$PKIDIR/testpki-privkey2.pem --certificate=\$PKIDIR/testpki-cert2.pem --ca-cert=\$PKIDIR/testpki-cacert.pem --remote=pssl:\$SSL_PORT:127.0.0.1 --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db" "ovsdb-server.at:315"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --private-key=$PKIDIR/testpki-privkey2.pem --certificate=$PKIDIR/testpki-cert2.pem --ca-cert=$PKIDIR/testpki-cacert.pem --remote=pssl:$SSL_PORT:127.0.0.1 --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"],
                               [\"uuid\", \"0e767b36-6822-4044-8307-d58467e04669\"]]],
               \"a2a1\": [\"named-uuid\", \"row1\"],
               \"a2b\": [\"named-uuid\", \"row3\"]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"]]],
               \"a2a1\": [\"named-uuid\", \"row2\"],
               \"a2b\": [\"named-uuid\", \"row3\"]},
       \"uuid-name\": \"row2\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 2,
               \"a2a\": [\"set\", [[\"named-uuid\", \"row1\"],
                               [\"named-uuid\", \"row2\"]]],
               \"a2a1\": [\"named-uuid\", \"row2\"],
               \"a2b\": [\"named-uuid\", \"row4\"]}},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 2,
               \"b2a\": [\"named-uuid\", \"row1\"]},
       \"uuid-name\": \"row3\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 3,
               \"b2a\": [\"named-uuid\", \"row2\"]},
       \"uuid-name\": \"row4\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '      [\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '      [\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a2a1\": [\"named-uuid\", \"me\"]},
       \"uuid-name\": \"me\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"b\",
       \"where\": [[\"b\", \"==\", 3]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '      [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 2]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '   [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '   [\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 1]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"a\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"a2a\", \"a2a1\", \"a2b\"],
       \"sort\": [\"a\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output
{ set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovsdb-client --private-key=\$PKIDIR/testpki-privkey.pem --certificate=\$PKIDIR/testpki-cert.pem --ca-cert=\$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:\$SSL_PORT '[\"weak\",
      {\"op\": \"select\",
       \"table\": \"b\",
       \"where\": [],
       \"columns\": [\"_uuid\", \"b\", \"b2a\"],
       \"sort\": [\"b\"]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-server.at:315"
( $at_check_trace; ovsdb-client --private-key=$PKIDIR/testpki-privkey.pem --certificate=$PKIDIR/testpki-cert.pem --ca-cert=$PKIDIR/testpki-cacert.pem transact ssl:127.0.0.1:$SSL_PORT '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:315"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]},{\"uuid\":[\"uuid\",\"<4>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<2>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<4>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"uuid\":[\"uuid\",\"<5>\"]},{\"details\":\"Weak reference column \\\"a2b\\\" in \\\"a\\\" row <5> (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2b\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2a1\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"uuid\",\"<1>\"],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"set\",[]]}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-server.at:315"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:315: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-server.at:315"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:315"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_738
#AT_START_739
at_fn_group_banner 739 'ovsdb-server.at:351' \
  "insert default row, query table" "                " 54
at_xfail=no
(
  $as_echo "739. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_739
#AT_START_740
at_fn_group_banner 740 'ovsdb-server.at:351' \
  "insert row, query table" "                        " 54
at_xfail=no
(
  $as_echo "740. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_740
#AT_START_741
at_fn_group_banner 741 'ovsdb-server.at:351' \
  "insert rows, query by value" "                    " 54
at_xfail=no
(
  $as_echo "741. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [["name", "==", "one"]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_741
#AT_START_742
at_fn_group_banner 742 'ovsdb-server.at:351' \
  "insert rows, query by named-uuid" "               " 54
at_xfail=no
(
  $as_echo "742. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "second"]]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0}]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_742
#AT_START_743
at_fn_group_banner 743 'ovsdb-server.at:351' \
  "insert rows, update rows by value" "              " 54
at_xfail=no
(
  $as_echo "743. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "row": {"name": "nought"}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"nought\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_743
#AT_START_744
at_fn_group_banner 744 'ovsdb-server.at:351' \
  "insert rows, mutate rows" "                       " 54
at_xfail=no
(
  $as_echo "744. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "mutate",
       "table": "ordinals",
       "where": [["name", "==", "zero"]],
       "mutations": [["number", "+=", 2]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1},{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"zero\",\"number\":2}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_744
#AT_START_745
at_fn_group_banner 745 'ovsdb-server.at:351' \
  "insert rows, delete by named-uuid" "              " 54
at_xfail=no
(
  $as_echo "745. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "first"]]]},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":1},{\"rows\":[{\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_745
#AT_START_746
at_fn_group_banner 746 'ovsdb-server.at:351' \
  "insert rows, delete rows by value" "              " 54
at_xfail=no
(
  $as_echo "746. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "zero"]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": []}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_746
#AT_START_747
at_fn_group_banner 747 'ovsdb-server.at:351' \
  "insert rows, delete by (non-matching) value" "    " 54
at_xfail=no
(
  $as_echo "747. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "first"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["name", "==", "nought"]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "sort": ["number"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"count\":0}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<2>\"],\"name\":\"zero\",\"number\":0},{\"_uuid\":[\"uuid\",\"<1>\"],\"_version\":[\"uuid\",\"<3>\"],\"name\":\"one\",\"number\":1}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_747
#AT_START_748
at_fn_group_banner 748 'ovsdb-server.at:351' \
  "insert rows, delete all" "                        " 54
at_xfail=no
(
  $as_echo "748. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"},
       "uuid-name": "first"},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"},
       "uuid-name": "second"},
      {"op": "delete",
       "table": "ordinals",
       "where": []},
      {"op": "select",
       "table": "ordinals",
       "where": [],
       "columns": ["name","number"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"count\":2},{\"rows\":[]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_748
#AT_START_749
at_fn_group_banner 749 'ovsdb-server.at:351' \
  "insert row, query table, commit" "                " 54
at_xfail=no
(
  $as_echo "749. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": false}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_749
#AT_START_750
at_fn_group_banner 750 'ovsdb-server.at:351' \
  "insert row, query table, commit durably" "        " 54
at_xfail=no
(
  $as_echo "750. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "select",
       "table": "ordinals",
       "where": []},
      {"op": "commit",
       "durable": true}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"_version\":[\"uuid\",\"<1>\"],\"name\":\"zero\",\"number\":0}]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_750
#AT_START_751
at_fn_group_banner 751 'ovsdb-server.at:351' \
  "equality wait with correct rows" "                " 54
at_xfail=no
(
  $as_echo "751. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_751
#AT_START_752
at_fn_group_banner 752 'ovsdb-server.at:351' \
  "equality wait with extra row" "                   " 54
at_xfail=no
(
  $as_echo "752. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_752
#AT_START_753
at_fn_group_banner 753 'ovsdb-server.at:351' \
  "equality wait with missing row" "                 " 54
at_xfail=no
(
  $as_echo "753. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "==",
       "rows": [{"name": "one", "number": 1}]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_753
#AT_START_754
at_fn_group_banner 754 'ovsdb-server.at:351' \
  "inequality wait with correct rows" "              " 54
at_xfail=no
(
  $as_echo "754. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1}]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"\\\"wait\\\" timed out\",\"error\":\"timed out\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_754
#AT_START_755
at_fn_group_banner 755 'ovsdb-server.at:351' \
  "inequality wait with extra row" "                 " 54
at_xfail=no
(
  $as_echo "755. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "zero", "number": 0},
                {"name": "one", "number": 1},
                {"name": "two", "number": 2}]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_755
#AT_START_756
at_fn_group_banner 756 'ovsdb-server.at:351' \
  "inequality wait with missing row" "               " 54
at_xfail=no
(
  $as_echo "756. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 1, "name": "one"}},
      {"op": "wait",
       "timeout": 0,
       "table": "ordinals",
       "where": [],
       "columns": ["name", "number"],
       "until": "!=",
       "rows": [{"name": "one", "number": 1}]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_756
#AT_START_757
at_fn_group_banner 757 'ovsdb-server.at:351' \
  "insert and update constraints" "                  " 54
at_xfail=no
(
  $as_echo "757. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": -1}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "update",
       "table": "constrained",
       "where": [],
       "row": {"positive": -2}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 1}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "constrained",
       "row": {"positive": 2}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"details\":\"0 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-1 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"details\":\"-2 is less than minimum allowed value 1\",\"error\":\"constraint violation\"}]
[{\"uuid\":[\"uuid\",\"<0>\"]}]
[{\"uuid\":[\"uuid\",\"<1>\"]},{\"details\":\"transaction causes \\\"constrained\\\" table to contain 2 rows, greater than the schema-defined limit of 1 row(s)\",\"error\":\"constraint violation\"}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_757
#AT_START_758
at_fn_group_banner 758 'ovsdb-server.at:351' \
  "referential integrity -- simple" "                " 54
at_xfail=no
(
  $as_echo "758. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "b",
       "row": {"b": 1},
       "uuid-name": "brow"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2b": ["set", [["named-uuid", "brow"]]]}},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2b": ["set", [["named-uuid", "brow"]]]}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": []}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 3 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 2 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1},{\"details\":\"cannot delete b row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1}]
[{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_758
#AT_START_759
at_fn_group_banner 759 'ovsdb-server.at:351' \
  "referential integrity -- mutual references" "     " 54
at_xfail=no
(
  $as_echo "759. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "constraints",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "a2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid", "refTable": "a"},
                            "min": 0, "max": "unlimited"}},
           "b2b": {"type": {"key": {"type": "uuid", "refTable": "b"},
                            "min": 0, "max": "unlimited"}}}},
       "constrained": {
         "columns": {
           "positive": {"type": {"key": {"type": "integer",
                                         "minInteger": 1}}}},
         "maxRows": 1}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2b": ["set", [["named-uuid", "row2"]]],
               "a2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 1,
               "b2b": ["set", [["named-uuid", "row2"]]],
               "b2a": ["set", [["named-uuid", "row1"]]]},
       "uuid-name": "row2"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "insert",
       "table": "a",
       "row": {"a2b": ["set", [["uuid", "b516b960-5b19-4fc2-bb82-fe1cbd6d0241"]]]}}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '   ["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["constraints",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]},
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 1]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]
[{\"uuid\":[\"uuid\",\"<2>\"]},{\"details\":\"Table a column a2b row <2> references nonexistent row <3> in table b.\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete a row <0> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"details\":\"cannot delete b row <1> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]
[{\"count\":1},{\"count\":1}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_759
#AT_START_760
at_fn_group_banner 760 'ovsdb-server.at:351' \
  "weak references" "                                " 54
at_xfail=no
(
  $as_echo "760. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "weak",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}},
           "a2a1": {"type": {"key": {"type": "uuid",
                                     "refTable": "a",
                                     "refType": "weak"}}},
           "a2b": {"type": {"key": {"type": "uuid",
                                    "refTable": "b",
                                    "refType": "weak"}}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}}}}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-server.at:351"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"],
                               ["uuid", "0e767b36-6822-4044-8307-d58467e04669"]]],
               "a2a1": ["named-uuid", "row1"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row3"]},
       "uuid-name": "row2"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 2,
               "a2a": ["set", [["named-uuid", "row1"],
                               ["named-uuid", "row2"]]],
               "a2a1": ["named-uuid", "row2"],
               "a2b": ["named-uuid", "row4"]}},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2,
               "b2a": ["named-uuid", "row1"]},
       "uuid-name": "row3"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 3,
               "b2a": ["named-uuid", "row2"]},
       "uuid-name": "row4"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '      ["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '      ["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a2a1": ["named-uuid", "me"]},
       "uuid-name": "me"}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "b",
       "where": [["b", "==", 3]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '      ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 2]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '   ["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 1]]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "a",
       "where": [],
       "columns": ["_uuid", "a2a", "a2a1", "a2b"],
       "sort": ["a"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output
cat >txnfile <<'_ATEOF'
ovsdb-client transact unix:socket '["weak",
      {"op": "select",
       "table": "b",
       "where": [],
       "columns": ["_uuid", "b", "b2a"],
       "sort": ["b"]}]'
_ATEOF

      { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: ovsdb-server --remote=punix:socket --unixctl=\$PWD/unixctl db --run=\"sh txnfile\""
at_fn_check_prepare_dynamic "ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run=\"sh txnfile\"" "ovsdb-server.at:351"
( $at_check_trace; ovsdb-server --remote=punix:socket --unixctl=$PWD/unixctl db --run="sh txnfile"
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

      cat stdout >> output

   { set +x
$as_echo "$at_srcdir/ovsdb-server.at:351: perl \$srcdir/uuidfilt.pl output"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl output" "ovsdb-server.at:351"
( $at_check_trace; perl $srcdir/uuidfilt.pl output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]},{\"uuid\":[\"uuid\",\"<4>\"]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<2>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<4>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"uuid\":[\"uuid\",\"<5>\"]},{\"details\":\"Weak reference column \\\"a2b\\\" in \\\"a\\\" row <5> (inserted within this transaction) contained all-zeros UUID (probably as the default value for this column) but deleting this value caused a constraint volation because this column is not allowed to be empty.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2b\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1},{\"details\":\"Deletion of 1 weak reference(s) to deleted (or never-existing) rows from column \\\"a2a1\\\" in \\\"a\\\" row <2> caused this column to become empty, but constraints on this column disallow an empty column.\",\"error\":\"constraint violation\"}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<0>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<0>\"],\"a2b\":[\"uuid\",\"<3>\"]},{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"set\",[[\"uuid\",\"<0>\"],[\"uuid\",\"<1>\"]]],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"uuid\",\"<0>\"]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<1>\"],\"a2a\":[\"uuid\",\"<1>\"],\"a2a1\":[\"uuid\",\"<1>\"],\"a2b\":[\"uuid\",\"<3>\"]}]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"uuid\",\"<1>\"]}]}]
[{\"count\":1}]
[{\"rows\":[]}]
[{\"rows\":[{\"_uuid\":[\"uuid\",\"<3>\"],\"b\":2,\"b2a\":[\"set\",[]]},{\"_uuid\":[\"uuid\",\"<4>\"],\"b\":3,\"b2a\":[\"set\",[]]}]}]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-server.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_760
#AT_START_761
at_fn_group_banner 761 'ovsdb-monitor.at:42' \
  "monitor insert into empty table" "                " 55
at_xfail=no
(
  $as_echo "761. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:42: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:42"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:42"
$at_failed && at_fn_log_failure
$at_traceon; }



   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:42: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:42"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:42"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:42: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:42"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:42"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:42: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:42"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:42"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:42: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:42"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:42"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:42: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:42"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:42"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:42: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:42"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:42"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:42: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:42"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,insert,\"\"\"zero\"\"\",0,\"[\"\"uuid\"\",\"\"<1>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:42"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_761
#AT_START_762
at_fn_group_banner 762 'ovsdb-monitor.at:54' \
  "monitor insert into populated table" "            " 55
at_xfail=no
(
  $as_echo "762. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:54"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:54"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:54"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:54"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 0, \"name\": \"zero\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:54"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 0, "name": "zero"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:54"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:54"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:54"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:54: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:54"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"

row,action,name,number,_version
<2>,insert,\"\"\"zero\"\"\",0,\"[\"\"uuid\"\",\"\"<3>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:54"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_762
#AT_START_763
at_fn_group_banner 763 'ovsdb-monitor.at:72' \
  "monitor delete" "                                 " 55
at_xfail=no
(
  $as_echo "763. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:72"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:72"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:72"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:72"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"number\", \"==\", 10]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:72"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": [["number", "==", 10]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:72"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:72"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:72"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:72: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:72"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"

row,action,name,number,_version
<0>,delete,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:72"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_763
#AT_START_764
at_fn_group_banner 764 'ovsdb-monitor.at:90' \
  "monitor row update" "                             " 55
at_xfail=no
(
  $as_echo "764. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:90"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:90"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:90"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:90"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"number\", \"==\", 10]],
       \"row\": {\"name\": \"five plus five\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:90"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 10]],
       "row": {"name": "five plus five"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:90"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:90"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:90"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:90: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:90"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"

row,action,name,number,_version
<0>,old,\"\"\"ten\"\"\",,\"[\"\"uuid\"\",\"\"<1>\"\"]\"
,new,\"\"\"five plus five\"\"\",10,\"[\"\"uuid\"\",\"\"<2>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:90"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_764
#AT_START_765
at_fn_group_banner 765 'ovsdb-monitor.at:110' \
  "monitor no-op row updates" "                      " 55
at_xfail=no
(
  $as_echo "765. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:110"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:110"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:110"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:110"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"number\", \"==\", 10]],
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:110"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["number", "==", 10]],
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 9, \"name\": \"nine\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:110"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 9, "name": "nine"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:110"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:110"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:110"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:110: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:110"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"

row,action,name,number,_version
<2>,insert,\"\"\"nine\"\"\",9,\"[\"\"uuid\"\",\"\"<3>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:110"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_765
#AT_START_766
at_fn_group_banner 766 'ovsdb-monitor.at:133' \
  "monitor insert-and-update transaction" "          " 55
at_xfail=no
(
  $as_echo "766. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:133"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:133"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:133"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:133"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 9, \"name\": \"nine\"},
       \"uuid-name\": \"nine\"},
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"nine\"]]],
       \"row\": {\"name\": \"three squared\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:133"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 9, "name": "nine"},
       "uuid-name": "nine"},
      {"op": "update",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]],
       "row": {"name": "three squared"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:133"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:133"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:133"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:133: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:133"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"

row,action,name,number,_version
<2>,insert,\"\"\"three squared\"\"\",9,\"[\"\"uuid\"\",\"\"<3>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:133"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_766
#AT_START_767
at_fn_group_banner 767 'ovsdb-monitor.at:156' \
  "monitor insert-update-and-delete transaction" "   " 55
at_xfail=no
(
  $as_echo "767. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:156"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:156"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:156"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:156"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 9, \"name\": \"nine\"},
       \"uuid-name\": \"nine\"},
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"nine\"]]],
       \"row\": {\"name\": \"three squared\"}},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"nine\"]]]},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 7, \"name\": \"seven\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:156"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 9, "name": "nine"},
       "uuid-name": "nine"},
      {"op": "update",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]],
       "row": {"name": "three squared"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 7, "name": "seven"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:156"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:156"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:156"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:156: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:156"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"

row,action,name,number,_version
<2>,insert,\"\"\"seven\"\"\",7,\"[\"\"uuid\"\",\"\"<3>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:156"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_767
#AT_START_768
at_fn_group_banner 768 'ovsdb-monitor.at:185' \
  "monitor weak reference change" "                  " 55
at_xfail=no
(
  $as_echo "768. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "weak",
     "tables": {
       "a": {
         "columns": {
           "a": {"type": "integer"},
           "a2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}},
           "a2a1": {"type": {"key": {"type": "uuid",
                                     "refTable": "a",
                                     "refType": "weak"}}},
           "a2b": {"type": {"key": {"type": "uuid",
                                    "refTable": "b",
                                    "refType": "weak"}}}}},
       "b": {
         "columns": {
           "b": {"type": "integer"},
           "b2a": {"type": {"key": {"type": "uuid",
                                    "refTable": "a",
                                    "refType": "weak"},
                            "min": 0, "max": "unlimited"}}}}}}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:185"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: ovsdb-tool transact db '[\"weak\",
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 0,
               \"a2a1\": [\"named-uuid\", \"a0\"],
               \"a2b\": [\"named-uuid\", \"b2\"]},
       \"uuid-name\": \"a0\"},
      {\"op\": \"insert\",
       \"table\": \"a\",
       \"row\": {\"a\": 1,
               \"a2a\": [\"named-uuid\", \"a0\"],
               \"a2a1\": [\"named-uuid\", \"a1\"],
               \"a2b\": [\"named-uuid\", \"b2\"]},
       \"uuid-name\": \"a1\"},
      {\"op\": \"insert\",
       \"table\": \"b\",
       \"row\": {\"b\": 2},
       \"uuid-name\": \"b2\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:185"
( $at_check_trace; ovsdb-tool transact db '["weak",
      {"op": "insert",
       "table": "a",
       "row": {"a": 0,
               "a2a1": ["named-uuid", "a0"],
               "a2b": ["named-uuid", "b2"]},
       "uuid-name": "a0"},
      {"op": "insert",
       "table": "a",
       "row": {"a": 1,
               "a2a": ["named-uuid", "a0"],
               "a2a1": ["named-uuid", "a1"],
               "a2b": ["named-uuid", "b2"]},
       "uuid-name": "a1"},
      {"op": "insert",
       "table": "b",
       "row": {"b": 2},
       "uuid-name": "b2"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:185"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket weak a  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket weak a  > output" "ovsdb-monitor.at:185"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket weak a  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: ovsdb-client transact unix:socket '[\"weak\",
      {\"op\": \"delete\",
       \"table\": \"a\",
       \"where\": [[\"a\", \"==\", 0]]}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:185"
( $at_check_trace; ovsdb-client transact unix:socket '["weak",
      {"op": "delete",
       "table": "a",
       "where": [["a", "==", 0]]}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: ovsdb-client transact unix:socket '[\"weak\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:185"
( $at_check_trace; ovsdb-client transact unix:socket '["weak"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:185"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:185"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:185: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:185"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,a,a2a,a2a1,a2b,_version
<0>,initial,0,\"[\"\"set\"\",[]]\",\"[\"\"uuid\"\",\"\"<0>\"\"]\",\"[\"\"uuid\"\",\"\"<1>\"\"]\",\"[\"\"uuid\"\",\"\"<2>\"\"]\"
<3>,initial,1,\"[\"\"uuid\"\",\"\"<0>\"\"]\",\"[\"\"uuid\"\",\"\"<3>\"\"]\",\"[\"\"uuid\"\",\"\"<1>\"\"]\",\"[\"\"uuid\"\",\"\"<4>\"\"]\"

row,action,a,a2a,a2a1,a2b,_version
<0>,delete,0,\"[\"\"set\"\",[]]\",\"[\"\"uuid\"\",\"\"<0>\"\"]\",\"[\"\"uuid\"\",\"\"<1>\"\"]\",\"[\"\"uuid\"\",\"\"<2>\"\"]\"
<3>,old,,\"[\"\"uuid\"\",\"\"<0>\"\"]\",,,
,new,1,\"[\"\"set\"\",[]]\",\"[\"\"uuid\"\",\"\"<3>\"\"]\",\"[\"\"uuid\"\",\"\"<1>\"\"]\",\"[\"\"uuid\"\",\"\"<5>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:185"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_768
#AT_START_769
at_fn_group_banner 769 'ovsdb-monitor.at:220' \
  "monitor insert-update-and-delete transaction" "   " 55
at_xfail=no
(
  $as_echo "769. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:220"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:220"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:220"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:220"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 9, \"name\": \"nine\"},
       \"uuid-name\": \"nine\"},
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"nine\"]]],
       \"row\": {\"name\": \"three squared\"}},
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": [[\"_uuid\", \"==\", [\"named-uuid\", \"nine\"]]]},
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 7, \"name\": \"seven\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:220"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 9, "name": "nine"},
       "uuid-name": "nine"},
      {"op": "update",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]],
       "row": {"name": "three squared"}},
      {"op": "delete",
       "table": "ordinals",
       "where": [["_uuid", "==", ["named-uuid", "nine"]]]},
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 7, "name": "seven"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:220"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:220"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:220"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:220: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:220"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"

row,action,name,number,_version
<2>,insert,\"\"\"seven\"\"\",7,\"[\"\"uuid\"\",\"\"<3>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:220"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_769
#AT_START_770
at_fn_group_banner 770 'ovsdb-monitor.at:271' \
  "monitor all operations" "                         " 56
at_xfail=no
(
  $as_echo "770. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:271"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:271"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:271"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output" "ovsdb-monitor.at:271"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals  > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 5, \"name\": \"five\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:271"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"five\"]],
       \"row\": {\"name\": \"FIVE\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:271"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:271"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:271"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:271"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:271"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:271: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:271"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"

row,action,name,number,_version
<2>,insert,\"\"\"five\"\"\",5,\"[\"\"uuid\"\",\"\"<3>\"\"]\"

row,action,name,number,_version
<2>,old,\"\"\"five\"\"\",,\"[\"\"uuid\"\",\"\"<3>\"\"]\"
,new,\"\"\"FIVE\"\"\",5,\"[\"\"uuid\"\",\"\"<4>\"\"]\"

row,action,name,number,_version
<2>,delete,\"\"\"FIVE\"\"\",5,\"[\"\"uuid\"\",\"\"<4>\"\"]\"
<0>,delete,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:271"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_770
#AT_START_771
at_fn_group_banner 771 'ovsdb-monitor.at:291' \
  "monitor initial only" "                           " 56
at_xfail=no
(
  $as_echo "771. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:291"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:291"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:291"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !insert,!delete,!modify > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !insert,!delete,!modify > output" "ovsdb-monitor.at:291"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !insert,!delete,!modify > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 5, \"name\": \"five\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:291"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"five\"]],
       \"row\": {\"name\": \"FIVE\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:291"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:291"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:291"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:291"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:291"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:291: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:291"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,initial,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<1>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:291"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_771
#AT_START_772
at_fn_group_banner 772 'ovsdb-monitor.at:298' \
  "monitor insert only" "                            " 56
at_xfail=no
(
  $as_echo "772. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:298"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:298"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:298"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!delete,!modify > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!delete,!modify > output" "ovsdb-monitor.at:298"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!delete,!modify > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 5, \"name\": \"five\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:298"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"five\"]],
       \"row\": {\"name\": \"FIVE\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:298"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:298"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:298"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:298"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:298"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:298: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:298"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,insert,\"\"\"five\"\"\",5,\"[\"\"uuid\"\",\"\"<1>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:298"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_772
#AT_START_773
at_fn_group_banner 773 'ovsdb-monitor.at:305' \
  "monitor delete only" "                            " 56
at_xfail=no
(
  $as_echo "773. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:305"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:305"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:305"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!insert,!modify > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!insert,!modify > output" "ovsdb-monitor.at:305"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!insert,!modify > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 5, \"name\": \"five\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:305"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"five\"]],
       \"row\": {\"name\": \"FIVE\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:305"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:305"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:305"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:305"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:305"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:305: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:305"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,delete,\"\"\"FIVE\"\"\",5,\"[\"\"uuid\"\",\"\"<1>\"\"]\"
<2>,delete,\"\"\"ten\"\"\",10,\"[\"\"uuid\"\",\"\"<3>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:305"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_773
#AT_START_774
at_fn_group_banner 774 'ovsdb-monitor.at:313' \
  "monitor modify only" "                            " 56
at_xfail=no
(
  $as_echo "774. $at_setup_line: testing $at_desc ..."
  $at_traceon


   cat >schema <<'_ATEOF'
{"name": "ordinals",
     "tables": {
       "ordinals": {
         "columns": {
           "number": {"type": "integer"},
           "name": {"type": "string"}}}},
     "version": "5.1.3"}
_ATEOF

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovsdb-tool create db schema"
at_fn_check_prepare_trace "ovsdb-monitor.at:313"
( $at_check_trace; ovsdb-tool create db schema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovsdb-tool transact db '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 10, \"name\": \"ten\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:313"
( $at_check_trace; ovsdb-tool transact db '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 10, "name": "ten"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovsdb-server --detach --pidfile=\$PWD/server-pid --remote=punix:socket --unixctl=\$PWD/unixctl --log-file=\$PWD/ovsdb-server-log db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1" "ovsdb-monitor.at:313"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/server-pid --remote=punix:socket --unixctl=$PWD/unixctl --log-file=$PWD/ovsdb-server-log db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovsdb-client -vjsonrpc --detach --pidfile=\$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!insert,!delete > output"
at_fn_check_prepare_dynamic "ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!insert,!delete > output" "ovsdb-monitor.at:313"
( $at_check_trace; ovsdb-client -vjsonrpc --detach --pidfile=$PWD/client-pid -d json monitor --format=csv unix:socket ordinals ordinals !initial,!insert,!delete > output
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
if $at_failed; then :
  kill `cat server-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"insert\",
       \"table\": \"ordinals\",
       \"row\": {\"number\": 5, \"name\": \"five\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:313"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "insert",
       "table": "ordinals",
       "row": {"number": 5, "name": "five"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"update\",
       \"table\": \"ordinals\",
       \"where\": [[\"name\", \"==\", \"five\"]],
       \"row\": {\"name\": \"FIVE\"}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:313"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "update",
       "table": "ordinals",
       "where": [["name", "==", "five"]],
       "row": {"name": "FIVE"}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovsdb-client transact unix:socket '[\"ordinals\",
      {\"op\": \"delete\",
       \"table\": \"ordinals\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:313"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals",
      {"op": "delete",
       "table": "ordinals",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovsdb-client transact unix:socket '[\"ordinals\"]'"
at_fn_check_prepare_trace "ovsdb-monitor.at:313"
( $at_check_trace; ovsdb-client transact unix:socket '["ordinals"]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
if $at_failed; then :
  kill `cat server-pid client-pid`
fi
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-monitor.at:313"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-monitor.at:313"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if test ! -e server-pid && test ! -e client-pid; then exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-monitor.at:313: perl \$srcdir/ovsdb-monitor-sort.pl < output | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-monitor.at:313"
( $at_check_trace; perl $srcdir/ovsdb-monitor-sort.pl < output | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "row,action,name,number,_version
<0>,old,\"\"\"five\"\"\",,\"[\"\"uuid\"\",\"\"<1>\"\"]\"
,new,\"\"\"FIVE\"\"\",5,\"[\"\"uuid\"\",\"\"<2>\"\"]\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-monitor.at:313"
$at_failed && at_fn_log_failure  \
"ovsdb-server-log"
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_774
#AT_START_775
at_fn_group_banner 775 'ovsdb-idl.at:34' \
  "simple idl, initially empty, no ops" "            " 57
at_xfail=no
(
  $as_echo "775. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:34: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:34"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:34"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:34: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:34"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:34"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:34: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket "
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:34"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:34"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:34: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:34"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: empty
001: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:34"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:34: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:34"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:34"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:34: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:34"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:34"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_775
#AT_START_776
at_fn_group_banner 776 'ovsdb-idl.at:41' \
  "simple idl, initially empty, various ops" "       " 57
at_xfail=no
(
  $as_echo "776. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:41: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:41"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:41"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:41: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:41"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:41"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:41: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {\"i\": 1,
               \"r\": 2.0,
               \"b\": true,
               \"s\": \"mystring\",
               \"u\": [\"uuid\", \"84f5c8f5-ac76-4dbc-a24f-8860eb407fc1\"],
               \"ia\": [\"set\", [1, 2, 3]],
               \"ra\": [\"set\", [-0.5]],
               \"ba\": [\"set\", [true, false]],
               \"sa\": [\"set\", [\"abc\", \"def\"]],
               \"ua\": [\"set\", [[\"uuid\", \"69443985-7806-45e2-b35f-574a04e720f9\"],
                              [\"uuid\", \"aad11ef0-816a-4b01-93e6-03b8b4256b98\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {}}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"simple\",
       \"where\": [],
       \"row\": {\"b\": true}}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"simple\",
       \"where\": [],
       \"row\": {\"r\": 123.5}}]' \\
    '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {\"i\": -1,
               \"r\": 125,
               \"b\": false,
               \"s\": \"\",
               \"ia\": [\"set\", [1]],
               \"ra\": [\"set\", [1.5]],
               \"ba\": [\"set\", [false]],
               \"sa\": [\"set\", []],
               \"ua\": [\"set\", []]}}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"simple\",
       \"where\": [[\"i\", \"<\", 1]],
       \"row\": {\"s\": \"newstring\"}}]' \\
    '[\"idltest\",
      {\"op\": \"delete\",
       \"table\": \"simple\",
       \"where\": [[\"i\", \"==\", 0]]}]' \\
    'reconnect'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:41"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true, false]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"r": 123.5}}]' \
    '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": -1,
               "r": 125,
               "b": false,
               "s": "",
               "ia": ["set", [1]],
               "ra": ["set", [1.5]],
               "ba": ["set", [false]],
               "sa": ["set", []],
               "ua": ["set", []]}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [["i", "<", 1]],
       "row": {"s": "newstring"}}]' \
    '["idltest",
      {"op": "delete",
       "table": "simple",
       "where": [["i", "==", 0]]}]' \
    'reconnect'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:41"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:41: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:41"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: empty
001: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]}
002: i=0 r=0 b=false s= u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
002: i=1 r=2 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
003: {\"error\":null,\"result\":[{\"count\":2}]}
004: i=0 r=0 b=true s= u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
004: i=1 r=2 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
005: {\"error\":null,\"result\":[{\"count\":2}]}
006: i=0 r=123.5 b=true s= u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
006: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
007: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<6>\"]}]}
008: i=-1 r=125 b=false s= u=<2> ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=<6>
008: i=0 r=123.5 b=true s= u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
008: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
009: {\"error\":null,\"result\":[{\"count\":2}]}
010: i=-1 r=125 b=false s=newstring u=<2> ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=<6>
010: i=0 r=123.5 b=true s=newstring u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
010: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
011: {\"error\":null,\"result\":[{\"count\":1}]}
012: i=-1 r=125 b=false s=newstring u=<2> ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=<6>
012: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
013: reconnect
014: i=-1 r=125 b=false s=newstring u=<2> ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=<6>
014: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
015: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:41"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:41: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:41"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:41"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:41: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:41"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:41"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_776
#AT_START_777
at_fn_group_banner 777 'ovsdb-idl.at:119' \
  "simple idl, initially populated" "                " 57
at_xfail=no
(
  $as_echo "777. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:119: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:119"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:119"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:119: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:119"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:119"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:119: ovsdb-client transact unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {\"i\": 1,
               \"r\": 2.0,
               \"b\": true,
               \"s\": \"mystring\",
               \"u\": [\"uuid\", \"84f5c8f5-ac76-4dbc-a24f-8860eb407fc1\"],
               \"ia\": [\"set\", [1, 2, 3]],
               \"ra\": [\"set\", [-0.5]],
               \"ba\": [\"set\", [true, false]],
               \"sa\": [\"set\", [\"abc\", \"def\"]],
               \"ua\": [\"set\", [[\"uuid\", \"69443985-7806-45e2-b35f-574a04e720f9\"],
                              [\"uuid\", \"aad11ef0-816a-4b01-93e6-03b8b4256b98\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:119"
( $at_check_trace; ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true, false]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:119"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:119: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"simple\",
       \"where\": [],
       \"row\": {\"b\": true}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:119"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:119"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:119: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:119"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: i=0 r=0 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
000: i=1 r=2 b=true s=mystring u=<2> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<3> <4>] uuid=<5>
001: {\"error\":null,\"result\":[{\"count\":2}]}
002: i=0 r=0 b=true s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
002: i=1 r=2 b=true s=mystring u=<2> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<3> <4>] uuid=<5>
003: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:119"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:119: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:119"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:119"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:119: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:119"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:119"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_777
#AT_START_778
at_fn_group_banner 778 'ovsdb-idl.at:150' \
  "simple idl, writing via IDL" "                    " 57
at_xfail=no
(
  $as_echo "778. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:150: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:150"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:150"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:150: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:150"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:150"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:150: ovsdb-client transact unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {\"i\": 1,
               \"r\": 2.0,
               \"b\": true,
               \"s\": \"mystring\",
               \"u\": [\"uuid\", \"84f5c8f5-ac76-4dbc-a24f-8860eb407fc1\"],
               \"ia\": [\"set\", [1, 2, 3]],
               \"ra\": [\"set\", [-0.5]],
               \"ba\": [\"set\", [true, false]],
               \"sa\": [\"set\", [\"abc\", \"def\"]],
               \"ua\": [\"set\", [[\"uuid\", \"69443985-7806-45e2-b35f-574a04e720f9\"],
                              [\"uuid\", \"aad11ef0-816a-4b01-93e6-03b8b4256b98\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:150"
( $at_check_trace; ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true, false]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:150"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:150: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'verify 0 b, verify 1 r, set 0 b 1, set 1 r 3.5' \\
    'insert 2, verify 2 i, verify 1 b, delete 1'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:150"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'verify 0 b, verify 1 r, set 0 b 1, set 1 r 3.5' \
    'insert 2, verify 2 i, verify 1 b, delete 1'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:150"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:150: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:150"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: i=0 r=0 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
000: i=1 r=2 b=true s=mystring u=<2> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<3> <4>] uuid=<5>
001: commit, status=success
002: i=0 r=0 b=true s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
002: i=1 r=3.5 b=true s=mystring u=<2> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<3> <4>] uuid=<5>
003: commit, status=success
004: i=0 r=0 b=true s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
004: i=2 r=0 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<6>
005: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:150"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:150: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:150"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:150"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:150: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:150"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:150"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_778
#AT_START_779
at_fn_group_banner 779 'ovsdb-idl.at:181' \
  "simple idl, handling verification failure" "      " 57
at_xfail=no
(
  $as_echo "779. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:181: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:181"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:181"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:181: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:181"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:181"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:181: ovsdb-client transact unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {\"i\": 1,
               \"r\": 2.0}},
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:181"
( $at_check_trace; ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:181"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:181: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'set 0 b 1' \\
    '+[\"idltest\",
       {\"op\": \"update\",
        \"table\": \"simple\",
        \"where\": [[\"i\", \"==\", 1]],
        \"row\": {\"r\": 5.0}}]' \\
    '+verify 1 r, set 1 r 3' \\
    'verify 1 r, set 1 r 3' \\
    "
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:181"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'set 0 b 1' \
    '+["idltest",
       {"op": "update",
        "table": "simple",
        "where": [["i", "==", 1]],
        "row": {"r": 5.0}}]' \
    '+verify 1 r, set 1 r 3' \
    'verify 1 r, set 1 r 3' \

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:181"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:181: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:181"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: i=0 r=0 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
000: i=1 r=2 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<2>
001: commit, status=success
002: {\"error\":null,\"result\":[{\"count\":1}]}
003: commit, status=try again
004: i=0 r=0 b=true s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
004: i=1 r=5 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<2>
005: commit, status=success
006: i=0 r=0 b=true s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
006: i=1 r=3 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<2>
007: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:181"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:181: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:181"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:181"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:181: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:181"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:181"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_779
#AT_START_780
at_fn_group_banner 780 'ovsdb-idl.at:212' \
  "simple idl, increment operation" "                " 57
at_xfail=no
(
  $as_echo "780. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:212: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:212"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:212"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:212: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:212"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:212"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:212: ovsdb-client transact unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:212"
( $at_check_trace; ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:212"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:212: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'set 0 r 2.0, increment simple i'"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:212"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket 'set 0 r 2.0, increment simple i'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:212"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:212: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:212"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: i=0 r=0 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
001: commit, status=success, increment=1
002: i=1 r=2 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
003: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:212"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:212: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:212"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:212"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:212: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:212"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:212"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_780
#AT_START_781
at_fn_group_banner 781 'ovsdb-idl.at:224' \
  "self-linking idl, consistent ops" "               " 57
at_xfail=no
(
  $as_echo "781. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:224: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:224"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:224"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:224: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:224"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:224"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:224: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 0, \"k\": [\"named-uuid\", \"self\"]},
       \"uuid-name\": \"self\"}]' \\
    '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 1, \"k\": [\"named-uuid\", \"row2\"]},
       \"uuid-name\": \"row1\"},
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 2, \"k\": [\"named-uuid\", \"row1\"]},
       \"uuid-name\": \"row2\"}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"link1\",
       \"where\": [[\"i\", \"==\", 1]],
       \"row\": {\"k\": [\"uuid\", \"#1#\"]}}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"link1\",
       \"where\": [],
       \"row\": {\"k\": [\"uuid\", \"#0#\"]}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:224"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "self"]},
       "uuid-name": "self"}]' \
    '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row2"]},
       "uuid-name": "row1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "row1"]},
       "uuid-name": "row2"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 1]],
       "row": {"k": ["uuid", "#1#"]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "#0#"]}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:224"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:224: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:224"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: empty
001: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<0>\"]}]}
002: i=0 k=0 ka=[] l2= uuid=<0>
003: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]}]}
004: i=0 k=0 ka=[] l2= uuid=<0>
004: i=1 k=2 ka=[] l2= uuid=<1>
004: i=2 k=1 ka=[] l2= uuid=<2>
005: {\"error\":null,\"result\":[{\"count\":1}]}
006: i=0 k=0 ka=[] l2= uuid=<0>
006: i=1 k=1 ka=[] l2= uuid=<1>
006: i=2 k=1 ka=[] l2= uuid=<2>
007: {\"error\":null,\"result\":[{\"count\":3}]}
008: i=0 k=0 ka=[] l2= uuid=<0>
008: i=1 k=0 ka=[] l2= uuid=<1>
008: i=2 k=0 ka=[] l2= uuid=<2>
009: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:224"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:224: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:224"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:224"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:224: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:224"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:224"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_781
#AT_START_782
at_fn_group_banner 782 'ovsdb-idl.at:268' \
  "self-linking idl, inconsistent ops" "             " 57
at_xfail=no
(
  $as_echo "782. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:268: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:268"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:268"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:268: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:268"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:268"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:268: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 0, \"k\": [\"uuid\", \"cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b\"]}}]' \\
    '+[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"uuid-name\": \"one\",
       \"row\": {\"i\": 1, \"k\": [\"named-uuid\", \"one\"]}},
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 2, \"k\": [\"named-uuid\", \"one\"]}}]' \\
     '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"link1\",
       \"where\": [],
       \"row\": {\"k\": [\"uuid\", \"c2fca39a-e69a-42a4-9c56-5eca85839ce9\"]}}]' \\
     '+[\"idltest\",
      {\"op\": \"delete\",
       \"table\": \"link1\",
       \"where\": [[\"_uuid\", \"==\", [\"uuid\", \"#1#\"]]]}]' \\
     '+[\"idltest\",
      {\"op\": \"delete\",
       \"table\": \"link1\",
       \"where\": [[\"_uuid\", \"==\", [\"uuid\", \"#2#\"]]]}]' \\
     '[\"idltest\",
      {\"op\": \"delete\",
       \"table\": \"link1\",
       \"where\": []}]' \\
"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:268"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["uuid", "cf197cc5-c8c9-42f5-82d5-c71a9f2cb96b"]}}]' \
    '+["idltest",
      {"op": "insert",
       "table": "link1",
       "uuid-name": "one",
       "row": {"i": 1, "k": ["named-uuid", "one"]}},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "one"]}}]' \
     '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"k": ["uuid", "c2fca39a-e69a-42a4-9c56-5eca85839ce9"]}}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#1#"]]]}]' \
     '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": [["_uuid", "==", ["uuid", "#2#"]]]}]' \
     '["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]' \

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:268"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:268: sort stdout | perl \$srcdir/uuidfilt.pl| sed -e '/004:/s/row <[23]> references/row <x> references/'"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:268"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl| sed -e '/004:/s/row <[23]> references/row <x> references/'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: empty
001: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<0>\"]},{\"details\":\"Table link1 column k row <0> references nonexistent row <1> in table link1.\",\"error\":\"referential integrity violation\"}]}
002: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]}]}
003: i=1 k=1 ka=[] l2= uuid=<2>
003: i=2 k=1 ka=[] l2= uuid=<3>
004: {\"error\":null,\"result\":[{\"count\":2},{\"details\":\"Table link1 column k row <x> references nonexistent row <4> in table link1.\",\"error\":\"referential integrity violation\"}]}
005: {\"error\":null,\"result\":[{\"count\":1},{\"details\":\"cannot delete link1 row <2> because of 1 remaining reference(s)\",\"error\":\"referential integrity violation\"}]}
006: {\"error\":null,\"result\":[{\"count\":1}]}
007: i=1 k=1 ka=[] l2= uuid=<2>
008: {\"error\":null,\"result\":[{\"count\":1}]}
009: empty
010: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:268"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:268: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:268"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:268"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:268: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:268"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:268"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_782
#AT_START_783
at_fn_group_banner 783 'ovsdb-idl.at:316' \
  "self-linking idl, sets" "                         " 57
at_xfail=no
(
  $as_echo "783. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:316: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:316"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:316"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:316: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:316"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:316"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:316: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 0, \"k\": [\"named-uuid\", \"i0\"], \"ka\": [\"set\", [[\"named-uuid\", \"i0\"]]]},
       \"uuid-name\": \"i0\"},
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 1, \"k\": [\"named-uuid\", \"i0\"], \"ka\": [\"set\", [[\"named-uuid\", \"i1\"]]]},
       \"uuid-name\": \"i1\"},
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 2, \"k\": [\"named-uuid\", \"i0\"], \"ka\": [\"set\", [[\"named-uuid\", \"i2\"]]]},
       \"uuid-name\": \"i2\"},
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 3, \"k\": [\"named-uuid\", \"i0\"], \"ka\": [\"set\", [[\"named-uuid\", \"i3\"]]]},
       \"uuid-name\": \"i3\"}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"link1\",
       \"where\": [],
       \"row\": {\"ka\": [\"set\", [[\"uuid\", \"#0#\"], [\"uuid\", \"#1#\"], [\"uuid\", \"#2#\"], [\"uuid\", \"#3#\"]]]}}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"link1\",
       \"where\": [[\"i\", \"==\", 2]],
       \"row\": {\"ka\": [\"set\", [[\"uuid\", \"#0#\"], [\"uuid\", \"88702e78-845b-4a6e-ad08-cf68922ae84a\"], [\"uuid\", \"#2#\"]]]}}]' \\
    '+[\"idltest\",
      {\"op\": \"delete\",
       \"table\": \"link1\",
       \"where\": []}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:316"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link1",
       "row": {"i": 0, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i0"]]]},
       "uuid-name": "i0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i1"]]]},
       "uuid-name": "i1"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 2, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i2"]]]},
       "uuid-name": "i2"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 3, "k": ["named-uuid", "i0"], "ka": ["set", [["named-uuid", "i3"]]]},
       "uuid-name": "i3"}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "#1#"], ["uuid", "#2#"], ["uuid", "#3#"]]]}}]' \
    '["idltest",
      {"op": "update",
       "table": "link1",
       "where": [["i", "==", 2]],
       "row": {"ka": ["set", [["uuid", "#0#"], ["uuid", "88702e78-845b-4a6e-ad08-cf68922ae84a"], ["uuid", "#2#"]]]}}]' \
    '+["idltest",
      {"op": "delete",
       "table": "link1",
       "where": []}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:316"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:316: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:316"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: empty
001: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]},{\"uuid\":[\"uuid\",\"<2>\"]},{\"uuid\":[\"uuid\",\"<3>\"]}]}
002: i=0 k=0 ka=[0] l2= uuid=<0>
002: i=1 k=0 ka=[1] l2= uuid=<1>
002: i=2 k=0 ka=[2] l2= uuid=<2>
002: i=3 k=0 ka=[3] l2= uuid=<3>
003: {\"error\":null,\"result\":[{\"count\":4}]}
004: i=0 k=0 ka=[0 1 2 3] l2= uuid=<0>
004: i=1 k=0 ka=[0 1 2 3] l2= uuid=<1>
004: i=2 k=0 ka=[0 1 2 3] l2= uuid=<2>
004: i=3 k=0 ka=[0 1 2 3] l2= uuid=<3>
005: {\"error\":null,\"result\":[{\"count\":1},{\"details\":\"Table link1 column ka row <2> references nonexistent row <4> in table link1.\",\"error\":\"referential integrity violation\"}]}
006: {\"error\":null,\"result\":[{\"count\":4}]}
007: empty
008: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:316"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:316: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:316"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:316"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:316: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:316"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:316"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_783
#AT_START_784
at_fn_group_banner 784 'ovsdb-idl.at:366' \
  "external-linking idl, consistent ops" "           " 57
at_xfail=no
(
  $as_echo "784. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:366: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl.at:366"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:366"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:366: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:366"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:366"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:366: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"link2\",
       \"row\": {\"i\": 0},
       \"uuid-name\": \"row0\"},
      {\"op\": \"insert\",
       \"table\": \"link1\",
       \"row\": {\"i\": 1, \"k\": [\"named-uuid\", \"row1\"], \"l2\": [\"set\", [[\"named-uuid\", \"row0\"]]]},
       \"uuid-name\": \"row1\"}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl.at:366"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "link2",
       "row": {"i": 0},
       "uuid-name": "row0"},
      {"op": "insert",
       "table": "link1",
       "row": {"i": 1, "k": ["named-uuid", "row1"], "l2": ["set", [["named-uuid", "row0"]]]},
       "uuid-name": "row1"}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:366"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:366: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl.at:366"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: empty
001: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]}
002: i=0 l1= uuid=<0>
002: i=1 k=1 ka=[] l2=0 uuid=<1>
003: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:366"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:366: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl.at:366"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:366"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl.at:366: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl.at:366"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl.at:366"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_784
#AT_START_785
at_fn_group_banner 785 'ovsdb-idl-py.at:35' \
  "simple idl, initially empty, no ops - Python" "   " 58
at_xfail=no
(
  $as_echo "785. $at_setup_line: testing $at_desc ..."
  $at_traceon

   $as_echo "ovsdb-idl-py.at:35" >"$at_check_line_file"
(test $HAVE_PYTHON = no) \
  && at_fn_check_skip 77 "$at_srcdir/ovsdb-idl-py.at:35"

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:35: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl-py.at:35"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:35"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:35: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl-py.at:35"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:35"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:35: \$PYTHON \$srcdir/test-ovsdb.py  -t10 idl unix:socket "
at_fn_check_prepare_dynamic "$PYTHON $srcdir/test-ovsdb.py  -t10 idl unix:socket " "ovsdb-idl-py.at:35"
( $at_check_trace; $PYTHON $srcdir/test-ovsdb.py  -t10 idl unix:socket
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:35"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:35: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl-py.at:35"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: empty
001: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:35"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:35: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl-py.at:35"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:35"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:35: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl-py.at:35"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:35"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_785
#AT_START_786
at_fn_group_banner 786 'ovsdb-idl-py.at:42' \
  "simple idl, initially empty, various ops - Python" "" 58
at_xfail=no
(
  $as_echo "786. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:42: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl-py.at:42"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:42"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:42: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl-py.at:42"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:42"
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:42: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {\"i\": 1,
               \"r\": 2.0,
               \"b\": true,
               \"s\": \"mystring\",
               \"u\": [\"uuid\", \"84f5c8f5-ac76-4dbc-a24f-8860eb407fc1\"],
               \"ia\": [\"set\", [1, 2, 3]],
               \"ra\": [\"set\", [-0.5]],
               \"ba\": [\"set\", [true, false]],
               \"sa\": [\"set\", [\"abc\", \"def\"]],
               \"ua\": [\"set\", [[\"uuid\", \"69443985-7806-45e2-b35f-574a04e720f9\"],
                              [\"uuid\", \"aad11ef0-816a-4b01-93e6-03b8b4256b98\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {}}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"simple\",
       \"where\": [],
       \"row\": {\"b\": true}}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"simple\",
       \"where\": [],
       \"row\": {\"r\": 123.5}}]' \\
    '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {\"i\": -1,
               \"r\": 125,
               \"b\": false,
               \"s\": \"\",
               \"ia\": [\"set\", [1]],
               \"ra\": [\"set\", [1.5]],
               \"ba\": [\"set\", [false]],
               \"sa\": [\"set\", []],
               \"ua\": [\"set\", []]}}]' \\
    '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"simple\",
       \"where\": [[\"i\", \"<\", 1]],
       \"row\": {\"s\": \"newstring\"}}]' \\
    '[\"idltest\",
      {\"op\": \"delete\",
       \"table\": \"simple\",
       \"where\": [[\"i\", \"==\", 0]]}]' \\
    'reconnect'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl-py.at:42"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true, false]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"r": 123.5}}]' \
    '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": -1,
               "r": 125,
               "b": false,
               "s": "",
               "ia": ["set", [1]],
               "ra": ["set", [1.5]],
               "ba": ["set", [false]],
               "sa": ["set", []],
               "ua": ["set", []]}}]' \
    '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [["i", "<", 1]],
       "row": {"s": "newstring"}}]' \
    '["idltest",
      {"op": "delete",
       "table": "simple",
       "where": [["i", "==", 0]]}]' \
    'reconnect'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:42"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:42: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl-py.at:42"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: empty
001: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<0>\"]},{\"uuid\":[\"uuid\",\"<1>\"]}]}
002: i=0 r=0 b=false s= u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
002: i=1 r=2 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
003: {\"error\":null,\"result\":[{\"count\":2}]}
004: i=0 r=0 b=true s= u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
004: i=1 r=2 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
005: {\"error\":null,\"result\":[{\"count\":2}]}
006: i=0 r=123.5 b=true s= u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
006: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
007: {\"error\":null,\"result\":[{\"uuid\":[\"uuid\",\"<6>\"]}]}
008: i=-1 r=125 b=false s= u=<2> ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=<6>
008: i=0 r=123.5 b=true s= u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
008: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
009: {\"error\":null,\"result\":[{\"count\":2}]}
010: i=-1 r=125 b=false s=newstring u=<2> ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=<6>
010: i=0 r=123.5 b=true s=newstring u=<2> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
010: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
011: {\"error\":null,\"result\":[{\"count\":1}]}
012: i=-1 r=125 b=false s=newstring u=<2> ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=<6>
012: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
013: reconnect
014: i=-1 r=125 b=false s=newstring u=<2> ia=[1] ra=[1.5] ba=[false] sa=[] ua=[] uuid=<6>
014: i=1 r=123.5 b=true s=mystring u=<3> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<4> <5>] uuid=<0>
015: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:42"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:42: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl-py.at:42"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:42"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:42: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl-py.at:42"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:42"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_786
#AT_START_787
at_fn_group_banner 787 'ovsdb-idl-py.at:120' \
  "simple idl, initially populated - Python" "       " 58
at_xfail=no
(
  $as_echo "787. $at_setup_line: testing $at_desc ..."
  $at_traceon


   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:120: ovsdb-tool create db \$abs_srcdir/idltest.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_srcdir/idltest.ovsschema" "ovsdb-idl-py.at:120"
( $at_check_trace; ovsdb-tool create db $abs_srcdir/idltest.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:120"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:120: ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl-py.at:120"
( $at_check_trace; ovsdb-server '-vPATTERN:console:ovsdb-server|%c|%m' --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:120"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:120: ovsdb-client transact unix:socket '[\"idltest\",
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {\"i\": 1,
               \"r\": 2.0,
               \"b\": true,
               \"s\": \"mystring\",
               \"u\": [\"uuid\", \"84f5c8f5-ac76-4dbc-a24f-8860eb407fc1\"],
               \"ia\": [\"set\", [1, 2, 3]],
               \"ra\": [\"set\", [-0.5]],
               \"ba\": [\"set\", [true, false]],
               \"sa\": [\"set\", [\"abc\", \"def\"]],
               \"ua\": [\"set\", [[\"uuid\", \"69443985-7806-45e2-b35f-574a04e720f9\"],
                              [\"uuid\", \"aad11ef0-816a-4b01-93e6-03b8b4256b98\"]]]}},
      {\"op\": \"insert\",
       \"table\": \"simple\",
       \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl-py.at:120"
( $at_check_trace; ovsdb-client transact unix:socket '["idltest",
      {"op": "insert",
       "table": "simple",
       "row": {"i": 1,
               "r": 2.0,
               "b": true,
               "s": "mystring",
               "u": ["uuid", "84f5c8f5-ac76-4dbc-a24f-8860eb407fc1"],
               "ia": ["set", [1, 2, 3]],
               "ra": ["set", [-0.5]],
               "ba": ["set", [true, false]],
               "sa": ["set", ["abc", "def"]],
               "ua": ["set", [["uuid", "69443985-7806-45e2-b35f-574a04e720f9"],
                              ["uuid", "aad11ef0-816a-4b01-93e6-03b8b4256b98"]]]}},
      {"op": "insert",
       "table": "simple",
       "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:120"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:120: test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '[\"idltest\",
      {\"op\": \"update\",
       \"table\": \"simple\",
       \"where\": [],
       \"row\": {\"b\": true}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovsdb-idl-py.at:120"
( $at_check_trace; test-ovsdb '-vPATTERN:console:test-ovsdb|%c|%m' -vjsonrpc -t10 idl unix:socket '["idltest",
      {"op": "update",
       "table": "simple",
       "where": [],
       "row": {"b": true}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:120"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:120: sort stdout | perl \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovsdb-idl-py.at:120"
( $at_check_trace; sort stdout | perl $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "000: i=0 r=0 b=false s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
000: i=1 r=2 b=true s=mystring u=<2> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<3> <4>] uuid=<5>
001: {\"error\":null,\"result\":[{\"count\":2}]}
002: i=0 r=0 b=true s= u=<0> ia=[] ra=[] ba=[] sa=[] ua=[] uuid=<1>
002: i=1 r=2 b=true s=mystring u=<2> ia=[1 2 3] ra=[-0.5] ba=[false true] sa=[abc def] ua=[<3> <4>] uuid=<5>
003: done
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:120"
if $at_failed; then :
  kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

   cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:120: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovsdb-idl-py.at:120"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:120"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovsdb-idl-py.at:120: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovsdb-idl-py.at:120"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovsdb-idl-py.at:120"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

     set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_787
#AT_START_788
at_fn_group_banner 788 'ovs-vsctl.at:145' \
  "add-br a" "                                       " 59
at_xfail=no
(
  $as_echo "788. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:147: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:147"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:147"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:147: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:147"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:147"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:147: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:147"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:147"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:148: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:148"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:148"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:148: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:148"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:148"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:148: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:148"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:148"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:149"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:149"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:149"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:149"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:149"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:149"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:149"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:149"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:149"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:149"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:149"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:149"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:149"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:149"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:149"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:149"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:149"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:149"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:149"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:149"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:149"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a"
at_fn_check_prepare_trace "ovs-vsctl.at:149"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:149"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:149: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:149"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:149"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:150"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:150"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:150"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:150"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:150"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:150"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:150"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:150"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:150"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:150"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:150"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:150"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:150"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:150"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:150"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:150"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:150: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:150"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:150"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:151: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:151"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:151"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:151: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:151"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:151"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:151: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:151"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:151"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:151: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:151"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:151"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:151: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:151"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:151"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:151: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:151"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:151"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:152: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:152"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:152"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:152: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:152"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:152"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_788
#AT_START_789
at_fn_group_banner 789 'ovs-vsctl.at:155' \
  "add-br a, add-br a" "                             " 59
at_xfail=no
(
  $as_echo "789. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:157: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:157"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:157"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:157: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:157"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:157"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:157: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:157"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:157"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:158: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:158"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:158"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:158: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:158"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:158"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:158: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:158"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:158"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:159: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:159"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: cannot create a bridge named a because a bridge named a already exists
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:159"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:159: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:159"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:159"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:159: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:159"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:159"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:162: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:162"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:162"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:162: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:162"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:162"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_789
#AT_START_790
at_fn_group_banner 790 'ovs-vsctl.at:165' \
  "add-br a, add-br b" "                             " 59
at_xfail=no
(
  $as_echo "790. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:167: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:167"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:167"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:167: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:167"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:167"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:167: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:167"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:167"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:168: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:168"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:168"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:168: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:168"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:168"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:168: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:168"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:168"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:170: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br a b 9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:170"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br a b 9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"--may-exist add-br a b 9\" but a is not a VLAN bridge
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:170"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:170: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:170"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:170"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:170: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:170"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:170"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a\\nb
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a"
at_fn_check_prepare_trace "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent b -- br-to-vlan b"
at_fn_check_prepare_trace "ovs-vsctl.at:174"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent b -- br-to-vlan b
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:174"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:174: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:174"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:174"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:175"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:175"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:175"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:175"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:175"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:175"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:175"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:175"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:175"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:175"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:175"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:175"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:175"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:175"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:175"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:175"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:175: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:175"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:175"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:176: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:176"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:176"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:176: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:176"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:176"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:176: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:176"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:176"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:176: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:176"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:176"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:176: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:176"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:176"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:176: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:176"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:176"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:177"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:177"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:177"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:177"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:177"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:177"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:177"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:177"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:177"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:177"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:177"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:177"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:177"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:177"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:177"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:177"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:177: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:177"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:177"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:178: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:178"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:178"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:178: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:178"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:178"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:178: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:178"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:178"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:178: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:178"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:178"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:178: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:178"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:178"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:178: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:178"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:178"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:179: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:179"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:179"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:179: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:179"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:179"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_790
#AT_START_791
at_fn_group_banner 791 'ovs-vsctl.at:182' \
  "add-br a, add-br b, del-br a" "                   " 59
at_xfail=no
(
  $as_echo "791. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:184: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:184"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:184"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:184: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:184"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:184"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:184: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:184"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:184"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:185: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br b
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:185"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br b
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:185"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:185: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:185"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:185"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:185: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:185"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:185"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:187"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:187"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:187"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:187"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:187"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:187"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:187"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:187"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:187"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:187"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:187"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:187"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:187"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:187"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:187"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:187"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:187"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:187"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:187"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:187"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:187"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent b -- br-to-vlan b"
at_fn_check_prepare_trace "ovs-vsctl.at:187"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent b -- br-to-vlan b
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:187"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:187: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:187"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:187"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:188"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:188"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:188"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:188"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:188"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:188"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:188"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:188"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:188"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:188"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:188"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:188"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:188"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:188"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:188"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:188"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:188: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:188"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:188"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:189: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:189"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:189"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:189: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:189"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:189"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:189: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:189"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:189"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:189: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:189"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:189"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:189: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:189"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:189"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:189: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:189"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:189"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:190: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:190"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:190"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:190: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:190"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:190"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_791
#AT_START_792
at_fn_group_banner 792 'ovs-vsctl.at:193' \
  "add-br a, add-port a a1, add-port a a2" "         " 59
at_xfail=no
(
  $as_echo "792. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:195: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:195"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:195"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:195: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:195"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:195"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:195: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:195"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:195"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:196: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --if-exists del-br b
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:196"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --if-exists del-br b
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:196"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:196: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:196"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:196"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:196: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:196"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:196"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:201"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:201"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:201"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:201"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:201"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:201"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:201"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:201"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:201"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:201"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:201"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:201"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:201"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:201"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:201"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:201"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:201"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:201"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:201"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:201"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:201"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a"
at_fn_check_prepare_trace "ovs-vsctl.at:201"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:201"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:201: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:201"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:201"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:202"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a1
a2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:202"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:202"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:202"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a1\\na2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:202"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:202"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:202"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:202"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:202"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:202"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:202"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:202"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:202"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:202"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:202: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:202"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:202"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:203"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a1
a2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:203"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:203"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:203"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:203"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:203"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:203"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:203"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:203"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:203"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:203"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:203"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:203: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:203"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:203"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:204: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:204"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:204"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:204: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:204"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:204"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_792
#AT_START_793
at_fn_group_banner 793 'ovs-vsctl.at:207' \
  "add-br a, add-port a a1, add-port a a1" "         " 59
at_xfail=no
(
  $as_echo "793. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:209: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:209"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:209"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:209: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:209"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:209"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:209: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:209"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:209"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:210: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:210"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:210"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:210: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:210"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:210"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:210: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:210"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:210"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:213: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:213"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: cannot create a port named a1 because a port named a1 already exists on bridge a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:213"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:213: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:213"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:213"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:213: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:213"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:213"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:216: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:216"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:216"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:216: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:216"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:216"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_793
#AT_START_794
at_fn_group_banner 794 'ovs-vsctl.at:219' \
  "add-br a b, add-port a a1, add-port b b1, del-br a" "" 59
at_xfail=no
(
  $as_echo "794. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:221: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:221"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:221"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:221: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:221"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:221"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:221: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:221"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:221"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:222: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- add-br a -- add-br b -- add-port a a1 -- add-port b b1 -- --if-exists del-port b b2 -- del-br a"
at_fn_check_prepare_trace "ovs-vsctl.at:222"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- add-br a -- add-br b -- add-port a a1 -- add-port b b1 -- --if-exists del-port b b2 -- del-br a
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "





" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:222"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:222: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:222"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:222"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:222: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:222"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:222"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:235"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:235"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:235"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:235"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:235"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:235"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:235"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:235"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:235"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:235"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:235"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:235"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:235"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:235"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:235"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:235"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:235"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:235"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:235"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:235"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:235"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent b -- br-to-vlan b"
at_fn_check_prepare_trace "ovs-vsctl.at:235"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent b -- br-to-vlan b
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:235"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:235: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:235"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:235"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:236"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:236"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:236"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:236"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:236"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:236"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:236"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:236"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:236"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:236"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:236"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:236"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:236: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:236"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:236"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:237"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:237"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:237"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:237"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:237"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:237"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:237"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:237"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:237"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:237"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:237"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:237"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:237"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:237"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:237"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:237"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:237: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:237"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:237"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:238: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:238"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:238"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:238: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:238"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:238"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_794
#AT_START_795
at_fn_group_banner 795 'ovs-vsctl.at:241' \
  "add-br a, add-bond a bond0 a1 a2 a3" "            " 59
at_xfail=no
(
  $as_echo "795. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:243: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:243"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:243"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:243: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:243"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:243"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:243: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:243"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:243"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:244: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond a bond0 a1 a2 a3
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:244"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond a bond0 a1 a2 a3

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:244"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:244: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:244"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:244"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:244: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:244"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:244"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:247: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-bond a bond0 a3 a1 a2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:247"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-bond a bond0 a3 a1 a2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:247"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:247: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:247"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:247"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:247: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:247"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:247"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:249: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-bond a bond0 a2 a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:249"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-bond a bond0 a2 a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"--may-exist add-bond a bond0 a2 a1\" but bond0 actually has interface(s) a1, a2, a3
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:249"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:249: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:249"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:249"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:249: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:249"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:249"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:253"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:253"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:253"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:253"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:253"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:253"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:253"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:253"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:253"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:253"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:253"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:253"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:253"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:253"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:253"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:253"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:253"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:253"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:253"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:253"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:253"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a"
at_fn_check_prepare_trace "ovs-vsctl.at:253"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:253"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:253: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:253"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:253"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:254"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:254"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:254"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:254"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:254"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:254"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:254"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:254"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:254"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:254"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:254"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:254"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:254: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:254"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:254"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:255"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a1
a2
a3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:255"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:255"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:255"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:255"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:255"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:255"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:255"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:255"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:255"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:255"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:255"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a3
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:255"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a3

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:255"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:255: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:255"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:255"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:256: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:256"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:256"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:256: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:256"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:256"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_795
#AT_START_796
at_fn_group_banner 796 'ovs-vsctl.at:259' \
  "add-br a b, add-port a a1, add-port b b1, del-port a a1" "" 59
at_xfail=no
(
  $as_echo "796. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:261: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:261"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:261"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:261: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:261"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:261"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:261: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:261"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:261"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:262: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br b
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a1 tag=9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get port a1 tag
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port b b1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-port a a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:262"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br b
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port a a1 tag=9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get port a1 tag
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port b b1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-port a a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:262"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:262: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:262"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:262"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:262: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:262"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:262"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:270: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port b b1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:270"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port b b1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:270"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:270: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:270"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:270"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:270: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:270"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:270"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:272: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port a b1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:272"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port a b1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"--may-exist add-port a b1\" but b1 is actually attached to bridge b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:272"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:272: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:272"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:272"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:272: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:272"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:272"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a\\nb
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a"
at_fn_check_prepare_trace "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent b -- br-to-vlan b"
at_fn_check_prepare_trace "ovs-vsctl.at:276"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent b -- br-to-vlan b
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:276"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:276: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:276"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:276"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:277"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:277"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:277"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:277"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:277"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:277"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:277"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:277"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:277"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:277"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:277"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:277"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:277"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:277"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:277"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:277"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:277: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:277"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:277"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:278: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:278"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:278"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:278: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:278"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:278"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:278: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:278"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:278"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:278: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:278"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:278"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:278: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:278"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:278"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:278: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:278"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:278"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:279"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:279"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:279"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:279"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:279"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:279"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:279"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:279"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:279"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:279"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:279"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br b1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:279"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:279: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:279"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:279"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:280"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:280"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:280"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:280"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:280"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:280"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:280"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named b
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:280"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:280"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:280"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:280"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:280"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:280"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br b1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "b
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:280"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:280"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:280"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:280: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:280"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:280"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:281: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:281"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:281"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:281: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:281"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:281"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_796
#AT_START_797
at_fn_group_banner 797 'ovs-vsctl.at:284' \
  "add-br a, add-bond a bond0 a1 a2 a3, del-port bond0" "" 59
at_xfail=no
(
  $as_echo "797. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:286: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:286"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:286"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:286: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:286"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:286"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:286: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:286"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:286"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:287: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- add-br a -- add-bond a bond0 a1 a2 a3 tag=9 -- get Port bond0 tag -- del-port bond0"
at_fn_check_prepare_trace "ovs-vsctl.at:287"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- add-br a -- add-bond a bond0 a1 a2 a3 tag=9 -- get Port bond0 tag -- del-port bond0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "

9

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:287"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:287: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:287"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:287"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:287: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:287"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:287"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:296"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:296"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:296"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:296"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:296"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:296"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:296"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:296"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:296"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:296"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:296"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:296"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:296"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:296"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:296"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:296"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:296"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:296"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:296"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:296"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:296"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a"
at_fn_check_prepare_trace "ovs-vsctl.at:296"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:296"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:296: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:296"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:296"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:297"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:297"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:297"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:297"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:297"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:297"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:297"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:297"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:297"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:297"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:297"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:297"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:297"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:297"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:297"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:297"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:297: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:297"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:297"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:298: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:298"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:298"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:298: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:298"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:298"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_797
#AT_START_798
at_fn_group_banner 798 'ovs-vsctl.at:301' \
  "external IDs" "                                   " 59
at_xfail=no
(
  $as_echo "798. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:303: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:303"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:303"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:303: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:303"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:303"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:303: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:303"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:303"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:304: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- add-port a a1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- add-bond a bond0 a2 a3
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-set-external-id a key0 value0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- set port a1 external-ids:key1=value1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- set interface a2 external-ids:key2=value2
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- set interface a2 external-ids:key3=value3
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- set interface a3 external-ids:key4=value4
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a key0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a key1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-set-external-id a key0 othervalue
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-set-external-id a key0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- get port a1 external-ids
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- get interface a2 external-ids
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- get interface a3 external-ids
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:304"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- add-br a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- add-port a a1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- add-bond a bond0 a2 a3
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-set-external-id a key0 value0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- set port a1 external-ids:key1=value1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- set interface a2 external-ids:key2=value2
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- set interface a2 external-ids:key3=value3
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- set interface a3 external-ids:key4=value4
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a key0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a key1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-set-external-id a key0 othervalue
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-set-external-id a key0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-get-external-id a
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- get port a1 external-ids
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- get interface a2 external-ids
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- get interface a3 external-ids

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "







key0=value0
value0


key0=othervalue


{\"key1\"=\"value1\"}
{\"key2\"=\"value2\", \"key3\"=\"value3\"}
{\"key4\"=\"value4\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:304"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:304: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:304"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:304"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:304: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:304"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:304"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:341: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-get-external-id a -- get port a1 external-ids -- get interface a2 external-ids -- get interface a3 external-ids"
at_fn_check_prepare_trace "ovs-vsctl.at:341"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-get-external-id a -- get port a1 external-ids -- get interface a2 external-ids -- get interface a3 external-ids
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
{\"key1\"=\"value1\"}
{\"key2\"=\"value2\", \"key3\"=\"value3\"}
{\"key4\"=\"value4\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:341"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:341: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:341"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:341"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:341: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:341"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:341"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:351"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:351"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:351"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:351"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:351"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:351"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:351"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:351"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:351"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:351"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:351"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:351"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:351"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:351"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:351"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:351"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:351"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:351"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:351"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:351"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:351"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a"
at_fn_check_prepare_trace "ovs-vsctl.at:351"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent a -- br-to-vlan a
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:351"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:351: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:351"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:351"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:352"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a1
bond0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:352"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:352"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:352"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a1\\nbond0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:352"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:352"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:352"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:352"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:352"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:352"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:352"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:352"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:352"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:352"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:352: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:352"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:352"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:353"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a1
a2
a3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:353"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:353"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:353"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named a
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:353"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:353"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:353"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:353"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:353"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:353"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:353"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:353"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a3
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:353"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br a3

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "a
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:353"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:353: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:353"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:353"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:354: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:354"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:354"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:354: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:354"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:354"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_798
#AT_START_799
at_fn_group_banner 799 'ovs-vsctl.at:357' \
  "controllers" "                                    " 59
at_xfail=no
(
  $as_echo "799. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:359: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:359"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:359"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:359: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:359"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:359"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:359: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:359"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:359"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:360: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- add-br br0 -- get-controller br0 -- set-controller br0 tcp:4.5.6.7 -- get-controller br0 -- del-controller br0 -- get-controller br0 -- set-controller br0 tcp:8.9.10.11 tcp:5.4.3.2 -- get-controller br0"
at_fn_check_prepare_trace "ovs-vsctl.at:360"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- add-br br0 -- get-controller br0 -- set-controller br0 tcp:4.5.6.7 -- get-controller br0 -- del-controller br0 -- get-controller br0 -- set-controller br0 tcp:8.9.10.11 tcp:5.4.3.2 -- get-controller br0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "


tcp:4.5.6.7



tcp:5.4.3.2\\ntcp:8.9.10.11
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:360"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:360: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:360"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:360"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:360: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:360"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:360"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:380: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:380"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:380"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:380: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:380"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:380"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_799
#AT_START_800
at_fn_group_banner 800 'ovs-vsctl.at:398' \
  "simple fake bridge" "                             " 60
at_xfail=no
(
  $as_echo "800. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:400: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:400"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:400"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:400: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:400"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:400"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:400: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:400"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:400"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:401: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi1 eth0.9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:401"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi1 eth0.9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:401"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:401: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:401"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:401"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:401: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:401"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:401"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:402: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:402"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"--may-exist add-br xapi1\" but xapi1 is a VLAN bridge for VLAN 9
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:402"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:402: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:402"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:402"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:402: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:402"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:402"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:405: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xxx 9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:405"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xxx 9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"--may-exist add-br xapi1 xxx 9\" but xapi1 has the wrong parent xenbr0
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:405"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:405: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:405"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:405"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:405: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:405"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:405"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:408: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 10
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:408"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 10

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"--may-exist add-br xapi1 xenbr0 10\" but xapi1 is a VLAN bridge for the wrong VLAN 9
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:408"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:408: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:408"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:408"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:408: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:408"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:408"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1\\nxenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi1 -- br-to-vlan xapi1"
at_fn_check_prepare_trace "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi1 -- br-to-vlan xapi1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xenbr0 -- br-to-vlan xenbr0"
at_fn_check_prepare_trace "ovs-vsctl.at:411"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xenbr0 -- br-to-vlan xenbr0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:411"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:411: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:411"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:411"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:412"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:412"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:412"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:412"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:412"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:412"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:412"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named xenbr0
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:412"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:412"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:412"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:412"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:412"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:412: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:412"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:412"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:413"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:413"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:413"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:413"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:413"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:413"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:413"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named xenbr0
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:413"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:413"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:413"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:413"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:413"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:413"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:413"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:413"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:413"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:413: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:413"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:413"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:414"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0.9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:414"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:414"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:414"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0.9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:414"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:414"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:414"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named xapi1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:414"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:414"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:414"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0.9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:414"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0.9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:414"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:414: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:414"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:414"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:415"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0.9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:415"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:415"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:415"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:415"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:415"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:415"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named xapi1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:415"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:415"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:415"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:415"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:415"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0.9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:415"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0.9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:415"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:415"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:415"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:415: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:415"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:415"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:416: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:416"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:416"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:416: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:416"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:416"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_800
#AT_START_801
at_fn_group_banner 801 'ovs-vsctl.at:419' \
  "simple fake bridge + del-br fake bridge" "        " 60
at_xfail=no
(
  $as_echo "801. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:421: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:421"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:421"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:421: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:421"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:421"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:421: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:421"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:421"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:422: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi1 eth0.9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:422"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi1 eth0.9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:422"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:422: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:422"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:422"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:422: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:422"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:422"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:423: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:423"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:423"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:423: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:423"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:423"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:423: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:423"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:423"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:424"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:424"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:424"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:424"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:424"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:424"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:424"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:424"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:424"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:424"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:424"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:424"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:424"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:424"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:424"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:424"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:424"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:424"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:424"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:424"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:424"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xenbr0 -- br-to-vlan xenbr0"
at_fn_check_prepare_trace "ovs-vsctl.at:424"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xenbr0 -- br-to-vlan xenbr0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:424"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:424: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:424"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:424"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:425"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:425"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:425"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:425"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:425"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:425"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:425"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named xenbr0
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:425"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:425"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:425"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:425"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:425"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:425: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:425"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:425"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:426"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:426"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:426"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:426"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:426"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:426"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:426"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named xenbr0
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:426"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:426"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:426"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:426"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:426"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:426"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:426"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:426"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:426"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:426: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:426"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:426"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:427: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:427"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:427"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:427: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:427"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:427"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_801
#AT_START_802
at_fn_group_banner 802 'ovs-vsctl.at:430' \
  "simple fake bridge + del-br real bridge" "        " 60
at_xfail=no
(
  $as_echo "802. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:432: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:432"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:432"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:432: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:432"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:432"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:432: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:432"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:432"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:433: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi1 eth0.9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:433"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi1 eth0.9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:433"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:433: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:433"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:433"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:433: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:433"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:433"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:434: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-br xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:434"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-br xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:434"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:434: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:434"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:434"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:434: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:434"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:434"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:435"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:435"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:435"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:435"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:435"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:435"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:435"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:435"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:435"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:435"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:435"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:435"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }



   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:435"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:435"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:435"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:435"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:435: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:435"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:435"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }



cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:436: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:436"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:436"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:436: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:436"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:436"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_802
#AT_START_803
at_fn_group_banner 803 'ovs-vsctl.at:439' \
  "simple fake bridge + external IDs" "              " 60
at_xfail=no
(
  $as_echo "803. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:441: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:441"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:441"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:441: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:441"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:441"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:441: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:441"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:441"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:442: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi1 eth0.9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:442"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xenbr0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-port xenbr0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- --may-exist add-br xapi1 xenbr0 9
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi1 eth0.9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:442"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:442: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:442"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:442"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:442: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:442"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:442"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:443: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-set-external-id xenbr0 key0 value0 -- br-set-external-id xapi1 key1 value1 -- br-get-external-id xenbr0 -- br-get-external-id xenbr0 key0 -- br-get-external-id xapi1 -- br-get-external-id xapi1 key1"
at_fn_check_prepare_trace "ovs-vsctl.at:443"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-set-external-id xenbr0 key0 value0 -- br-set-external-id xapi1 key1 value1 -- br-get-external-id xenbr0 -- br-get-external-id xenbr0 key0 -- br-get-external-id xapi1 -- br-get-external-id xapi1 key1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "

key0=value0
value0
key1=value1
value1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:443"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:443: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:443"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:443"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:443: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:443"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:443"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1\\nxenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi1 -- br-to-vlan xapi1"
at_fn_check_prepare_trace "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi1 -- br-to-vlan xapi1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xenbr0 -- br-to-vlan xenbr0"
at_fn_check_prepare_trace "ovs-vsctl.at:456"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xenbr0 -- br-to-vlan xenbr0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:456"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:456: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:456"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:456"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:457"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:457"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:457"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:457"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:457"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:457"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:457"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named xenbr0
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:457"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:457"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:457"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:457"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:457"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:457: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:457"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:457"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:458"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:458"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:458"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:458"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:458"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:458"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xenbr0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:458"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xenbr0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named xenbr0
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:458"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:458"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:458"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:458"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:458"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:458"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xenbr0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:458"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:458"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:458"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:458: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:458"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:458"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:459"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0.9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:459"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:459"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:459"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0.9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:459"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:459"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:459"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named xapi1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:459"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:459"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:459"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0.9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:459"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br eth0.9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:459"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:459: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:459"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:459"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:460"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0.9
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:460"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:460"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:460"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:460"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:460"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:460"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named xapi1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:460"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:460"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:460"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:460"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:460"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0.9
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:460"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0.9

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:460"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:460"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:460"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:460: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:460"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:460"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:461: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:461"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:461"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:461: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:461"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:461"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_803
#AT_START_804
at_fn_group_banner 804 'ovs-vsctl.at:473' \
  "fake bridge on bond" "                            " 60
at_xfail=no
(
  $as_echo "804. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:475: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:475"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:475"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:475: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:475"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:475"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:475: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:475"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:475"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:476: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond xapi1 bond0 eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi2 xapi1 11
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi2 bond0.11
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:476"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond xapi1 bond0 eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi2 xapi1 11
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi2 bond0.11

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:476"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:476: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:476"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:476"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:476: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:476"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:476"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
xapi2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1\\nxapi2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi1 -- br-to-vlan xapi1"
at_fn_check_prepare_trace "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi1 -- br-to-vlan xapi1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "11
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "11
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi2 -- br-to-vlan xapi2"
at_fn_check_prepare_trace "ovs-vsctl.at:477"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi2 -- br-to-vlan xapi2
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
11
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:477"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:477: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:477"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:477"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:478"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:478"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:478"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:478"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:478"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:478"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:478"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named xapi1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:478"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:478"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:478"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:478"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:478"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:478: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:478"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:478"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:479"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
eth1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:479"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:479"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:479"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named xapi1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:479"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:479"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:479"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:479"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:479"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:479"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:479"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:479"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:479: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:479"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:479"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:480"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0.11
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:480"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:480"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:480"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0.11
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:480"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:480"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:480"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named xapi2
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:480"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:480"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:480"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0.11
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:480"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0.11

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:480"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:480: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:480"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:480"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:481"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0.11
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:481"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:481"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:481"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:481"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:481"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:481"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named xapi2
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:481"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:481"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:481"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:481"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:481"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br bond0.11
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:481"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br bond0.11

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:481"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:481"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:481"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:481: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:481"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:481"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:482: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:482"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:482"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:482: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:482"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:482"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_804
#AT_START_805
at_fn_group_banner 805 'ovs-vsctl.at:485' \
  "fake bridge on bond + del-br fake bridge" "       " 60
at_xfail=no
(
  $as_echo "805. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:487: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:487"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:487"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:487: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:487"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:487"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:487: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:487"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:487"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:488: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond xapi1 bond0 eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi2 xapi1 11
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi2 bond0.11
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:488"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond xapi1 bond0 eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi2 xapi1 11
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi2 bond0.11

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:488"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:488: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:488"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:488"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:488: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:488"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:488"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:489: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- del-br xapi2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:489"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- del-br xapi2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:489"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:489: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:489"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:489"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:489: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:489"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:489"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:491"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:491"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:491"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:491"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:491"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:491"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


         { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:491"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:491"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:491"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:491"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:491"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:491"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:491"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-parent xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:491"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:491"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check br-to-vlan, without --oneline.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:491"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-to-vlan xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:491"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:491"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   # Check br-to-vlan, with --oneline.
   # (This particular test is interesting with --oneline because it returns
   # an integer instead of a string and that can cause type mismatches inside
   # python if not done carefully.)
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:491"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- br-to-vlan xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:491"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:491"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


   # Check multiple queries in a single run.
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi1 -- br-to-vlan xapi1"
at_fn_check_prepare_trace "ovs-vsctl.at:491"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- br-to-parent xapi1 -- br-to-vlan xapi1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:491"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:491: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:491"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:491"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:492"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ports xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:492"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:492"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:492"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-ports xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "bond0
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:492"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:492"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:492"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no port named xapi1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:492"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:492"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:492"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:492"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- port-to-br bond0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:492"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:492: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:492"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:492"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:493"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-ifaces xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "eth0
eth1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:493"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:493"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:493"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no interface named xapi1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:493"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:493"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:493"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:493"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:493"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:493"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:493"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- iface-to-br eth1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:493"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:493: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:493"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:493"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:494: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:494"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:494"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:494: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:494"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:494"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_805
#AT_START_806
at_fn_group_banner 806 'ovs-vsctl.at:497' \
  "fake bridge on bond + del-br real bridge" "       " 60
at_xfail=no
(
  $as_echo "806. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:499: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:499"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:499"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:499: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:499"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:499"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:499: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:499"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:499"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:500: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond xapi1 bond0 eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi2 xapi1 11
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi2 bond0.11
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:500"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond xapi1 bond0 eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br xapi2 xapi1 11
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port xapi2 bond0.11

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:500"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:500: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:500"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:500"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:500: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:500"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:500"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:501: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-br xapi1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:501"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- del-br xapi1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:501"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:502"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:502"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:502"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:502"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:502"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:502"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


      { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:502"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- list-br

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:502"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:502"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:502"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:502"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:502"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }



   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:502"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- br-exists nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 2 $at_status "$at_srcdir/ovs-vsctl.at:502"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:502"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:502"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:502: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:502"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:502"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }



cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:503: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:503"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:503"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:503: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:503"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:503"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_806
#AT_START_807
at_fn_group_banner 807 'ovs-vsctl.at:509' \
  "database commands -- positive checks" "           " 61
at_xfail=no
(
  $as_echo "807. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:511: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:511"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:511"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:511: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:511"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:511"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:511: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:511"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:511"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:512: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- create b name=br0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:512"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- create b name=br0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:512"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:512: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:512"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:512"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:512: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:512"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:512"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp stdout out1
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:515: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list b
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 _uuid
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:515"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list b
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 _uuid

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:515"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:515: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:515"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:515"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:515: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:515"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:515"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp stdout out2
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:518: perl \$srcdir/uuidfilt.pl out1 out2"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl out1 out2" "ovs-vsctl.at:518"
( $at_check_trace; perl $srcdir/uuidfilt.pl out1 out2
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "<0>
_uuid               : <0>
controller          : []
datapath_id         : []
datapath_type       : \"\"
external_ids        : {}
fail_mode           : []
flood_vlans         : []
mirrors             : []
name                : \"br0\"
netflow             : []
other_config        : {}
ports               : []
sflow               : []
<0>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:518"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:535: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set bridge br0 \\
      'other_config:datapath_id=\"0123456789ab\"' \\
      'other_config:hwaddr=\"00:11:22:33:44:55\"' \\
      'external-ids={\"uuids\"=\"9c45f225-a7cf-439d-976d-83db6271fda1\"}' -- \\
     add bridge br0 external_ids '\"roles\"=\"local; remote; cloud\"'
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:535"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set bridge br0 \
      'other_config:datapath_id="0123456789ab"' \
      'other_config:hwaddr="00:11:22:33:44:55"' \
      'external-ids={"uuids"="9c45f225-a7cf-439d-976d-83db6271fda1"}' -- \
     add bridge br0 external_ids '"roles"="local; remote; cloud"'

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:535"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:535: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:535"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:535"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:535: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:535"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:535"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:543: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- get bridge br0 other_config external-ids
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:543"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline -- get bridge br0 other_config external-ids

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{datapath_id=\"0123456789ab\", hwaddr=\"00:11:22:33:44:55\"}\\n{roles=\"local; remote; cloud\", uuids=\"9c45f225-a7cf-439d-976d-83db6271fda1\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:543"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:543: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:543"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:543"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:543: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:543"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:543"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:546: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get bridge br0 other_config:hwaddr -- --if-exists get bridge br0 other-config:nonexistent
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:546"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get bridge br0 other_config:hwaddr -- --if-exists get bridge br0 other-config:nonexistent

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "\"00:11:22:33:44:55\"

" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:546"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:546: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:546"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:546"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:546: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:546"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:546"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:550: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- remove br br0 other_config hwaddr 'datapath_id=\"\"' -- get br br0 other_config
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:550"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- remove br br0 other_config hwaddr 'datapath_id=""' -- get br br0 other_config

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{datapath_id=\"0123456789ab\"}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:550"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:550: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:550"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:550"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:550: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:550"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:550"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:553: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- remove br br0 other_config 'datapath_id=\"0123456789ab\"' -- get br br0 other_config
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:553"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- remove br br0 other_config 'datapath_id="0123456789ab"' -- get br br0 other_config

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:553"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:553: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:553"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:553"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:553: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:553"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:553"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:556: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- clear br br0 external-ids -- get br br0 external_ids
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:556"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- clear br br0 external-ids -- get br br0 external_ids

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:556"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:556: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:556"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:556"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:556: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:556"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:556"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:559: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- destroy b br0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:559"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- destroy b br0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:559"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:559: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:559"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:559"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:559: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:559"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:559"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:561: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:561"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:561"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:561: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:561"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:561"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:561: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:561"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:561"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:563: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:563"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:563"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:563: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:563"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:563"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_807
#AT_START_808
at_fn_group_banner 808 'ovs-vsctl.at:566' \
  "database commands -- negative checks" "           " 61
at_xfail=no
(
  $as_echo "808. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:568: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:568"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:568"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:568: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:568"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:568"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:568: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:568"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:568"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:569: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- create b name=br0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:569"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- create b name=br0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:569"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:569: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:569"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:569"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:569: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:569"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:569"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:571: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:571"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:571"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:571: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:571"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:571"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:571: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:571"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:571"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:573: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set-controller br1 tcp:127.0.0.1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:573"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set-controller br1 tcp:127.0.0.1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:573"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:573: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:573"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:573"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:573: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:573"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:573"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:575: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- create n targets='\"1.2.3.4:567\"'
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:575"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- create n targets='"1.2.3.4:567"'

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:575"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:575: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:575"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:575"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:575: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:575"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:575"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp stdout netflow-uuid
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:578: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list n \`cat netflow-uuid\`
"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:578"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list n `cat netflow-uuid`

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:578"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:578: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:578"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:578"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:578: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:578"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:578"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:580: perl \$srcdir/uuidfilt.pl netflow-uuid stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl netflow-uuid stdout" "ovs-vsctl.at:580"
( $at_check_trace; perl $srcdir/uuidfilt.pl netflow-uuid stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "<0>
_uuid               : <0>
active_timeout      : 0
add_id_to_interface : false
engine_id           : []
engine_type         : []
external_ids        : {}
targets             : [\"1.2.3.4:567\"]
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:580"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:590: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list interx x
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:590"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list interx x

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: unknown table \"interx\"
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:590"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:590: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:590"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:590"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:590: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:590"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:590"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:593: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list b x
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:593"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list b x

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no row \"x\" in table Bridge
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:593"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:593: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:593"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:593"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:593: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:593"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:593"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:596: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 d
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:596"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 d

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: Bridge contains more than one column whose name matches \"d\"
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:596"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:596: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:596"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:596"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:596: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:596"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:596"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:599: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 x
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:599"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 x

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: Bridge does not contain a column whose name matches \"x\"
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:599"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:599: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:599"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:599"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:599: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:599"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:599"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:602: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 :y=z
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:602"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 :y=z

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: :y=z: missing column name
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:602"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:602: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:602"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:602"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:602: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:602"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:602"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:605: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 datapath_id:y=z
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:605"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 datapath_id:y=z

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: datapath_id:y=z: trailing garbage \"=z\" in argument
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:605"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:605: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:605"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:605"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:605: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:605"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:605"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:608: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set b br0 'datapath_id:y>=z'
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:608"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set b br0 'datapath_id:y>=z'

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: datapath_id:y>=z: argument does not end in \"=\" followed by a value.
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:608"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:608: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:608"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:608"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:608: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:608"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:608"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:611: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until b br0 datapath_id:y,z
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:611"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until b br0 datapath_id:y,z

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: datapath_id:y,z: argument does not end in \"=\", \"!=\", \"<\", \">\", \"<=\", or \">=\" followed by a value.
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:611"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:611: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:611"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:611"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:611: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:611"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:611"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:614: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 datapath_id::
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:614"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 datapath_id::

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: datapath_id::: trailing garbage \":\" in argument
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:614"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:614: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:614"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:614"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:614: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:614"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:614"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:617: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 datapath_id:x
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:617"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 datapath_id:x

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: cannot specify key to get for non-map column datapath_id
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:617"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:617: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:617"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:617"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:617: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:617"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:617"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:620: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 external_ids:x
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:620"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- get b br0 external_ids:x

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no key \"x\" in Bridge record \"br0\" column external_ids
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:620"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:620: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:620"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:620"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:620: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:620"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:620"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:623: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set b br0 flood_vlans=-1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:623"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set b br0 flood_vlans=-1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: constraint violation: -1 is not in the valid range 0 to 4095 (inclusive)
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:623"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:623: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:623"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:623"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:623: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:623"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:623"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:626: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set b br0 flood_vlans=4096
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:626"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set b br0 flood_vlans=4096

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: constraint violation: 4096 is not in the valid range 0 to 4095 (inclusive)
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:626"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:626: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:626"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:626"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:626: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:626"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:626"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:629: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set c br1 'connection-mode=xyz'
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:629"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set c br1 'connection-mode=xyz'

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: constraint violation: xyz is not one of the allowed values ([in-band, out-of-band])
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:629"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:629: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:629"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:629"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:629: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:629"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:629"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:632: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set c br1 connection-mode:x=y
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:632"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set c br1 connection-mode:x=y

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: cannot specify key to set for non-map column connection_mode
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:632"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:632: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:632"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:632"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:632: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:632"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:632"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:635: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add b br1 datapath_id x y
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:635"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add b br1 datapath_id x y

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"add\" operation would put 2 values in column datapath_id of table Bridge but the maximum number is 1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:635"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:635: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:635"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:635"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:635: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:635"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:635"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:638: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- remove n \`cat netflow-uuid\` targets '\"1.2.3.4:567\"'
"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:638"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- remove n `cat netflow-uuid` targets '"1.2.3.4:567"'

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"remove\" operation would put 0 values in column targets of table NetFlow but the minimum number is 1
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:638"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:638: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:638"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:638"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:638: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:638"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:638"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:641: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- clear n \`cat netflow-uuid\` targets
"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:641"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- clear n `cat netflow-uuid` targets

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: \"clear\" operation cannot be applied to column targets of table NetFlow, which is not allowed to be empty
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:641"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:641: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:641"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:641"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:641: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:641"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:641"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:644: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- destroy b br2
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:644"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- destroy b br2

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo >>"$at_stderr"; $as_echo "ovs-vsctl: no row \"br2\" in table Bridge
" | \
  $at_diff - "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 1 $at_status "$at_srcdir/ovs-vsctl.at:644"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:644: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:644"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:644"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:644: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:644"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:644"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:647: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:647"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:647"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:647: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:647"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:647"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_808
#AT_START_809
at_fn_group_banner 809 'ovs-vsctl.at:650' \
  "database commands -- wait-until immediately true" "" 61
at_xfail=no
(
  $as_echo "809. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:652: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:652"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:652"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:652: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:652"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:652"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:652: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:652"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:652"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:653: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond br0 bond0 eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set port bond0 bond_updelay=500 other-config:abc=def
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:653"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-bond br0 bond0 eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- set port bond0 bond_updelay=500 other-config:abc=def

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:653"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:653: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:653"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:653"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:653: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:653"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:653"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:658: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until Open_vSwitch . managers=[]
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:658"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until Open_vSwitch . managers=[]

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:658"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:658: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:658"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:658"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:658: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:658"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:658"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:660: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until Open_vSwitch . bridges!=[]
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:660"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until Open_vSwitch . bridges!=[]

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:660"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:660: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:660"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:660"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:660: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:660"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:660"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:662: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until Port bond0 other-config:abc=def
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:662"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until Port bond0 other-config:abc=def

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:662"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:662: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:662"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:662"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:662: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:662"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:662"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:664: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until port bond0 'bond_updelay>50' 'other-config:abc>d' 'other-config:abc<e'
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:664"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until port bond0 'bond_updelay>50' 'other-config:abc>d' 'other-config:abc<e'

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:664"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:664: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:664"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:664"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:664: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:664"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:664"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:666: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:666"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:666"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:666: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:666"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:666"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_809
#AT_START_810
at_fn_group_banner 810 'ovs-vsctl.at:669' \
  "database commands -- wait-until must wait" "      " 61
at_xfail=no
(
  $as_echo "810. $at_setup_line: testing $at_desc ..."
  $at_traceon



# Disable lcov for this test.  All the programs running in parallel
# race badly on access to profiling data.
DISABLE_LCOV=true
export DISABLE_LCOV

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:677: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:677"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:677"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:677: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:677"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:677"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:677: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:677"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:677"
$at_failed && at_fn_log_failure
$at_traceon; }


# Start ovs-vsctls in background.
(ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until o . bridges!=[] -- get bridge br10 other-config:abc
) > stdout1 &
(ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until bridge br1 -- get bridge br1 other-config:abc
) > stdout2 &
(ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until b br1 other-config={abc=def} -- get bridge br1 other-config
) > stdout3 &
(ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- wait-until port bond0 'bond_updelay>50' -- get port bond0 bond-updelay
) > stdout4 &

# Give the ovs-vsctls a chance to read the database
sleep 1

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:688: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br10 -- set bridge br10 other-config:abc=quux

ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br1 -- set bridge br1 other-config:abc=def -- add-bond br1 bond0 eth0 eth1 -- set port bond0 bond_updelay=500
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:688"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br10 -- set bridge br10 other-config:abc=quux

ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br1 -- set bridge br1 other-config:abc=def -- add-bond br1 bond0 eth0 eth1 -- set port bond0 bond_updelay=500

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:688"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:688: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:688"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:688"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:688: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:688"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:688"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


# Wait for the ovs-vsctls to finish.
wait

# Check output
{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:696: cat stdout1"
at_fn_check_prepare_trace "ovs-vsctl.at:696"
( $at_check_trace; cat stdout1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "quux
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:696"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:696: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:696"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:696"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:696: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:696"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:696"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:698: cat stdout2"
at_fn_check_prepare_trace "ovs-vsctl.at:698"
( $at_check_trace; cat stdout2
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "def
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:698"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:698: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:698"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:698"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:698: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:698"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:698"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:700: cat stdout3"
at_fn_check_prepare_trace "ovs-vsctl.at:700"
( $at_check_trace; cat stdout3
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "{abc=def}
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:700"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:700: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:700"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:700"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:700: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:700"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:700"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:702: cat stdout4"
at_fn_check_prepare_trace "ovs-vsctl.at:702"
( $at_check_trace; cat stdout4
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "500
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:702"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:702: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:702"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:702"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:702: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:702"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:702"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }


cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:705: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:705"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:705"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:705: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:705"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:705"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_810
#AT_START_811
at_fn_group_banner 811 'ovs-vsctl.at:708' \
  "--id option on create, get commands" "            " 61
at_xfail=no
(
  $as_echo "811. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:710: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:710"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:710"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:710: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:710"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:710"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:710: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:710"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:710"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:711: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port br0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port br0 eth1
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:711"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-br br0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port br0 eth0
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- add-port br0 eth1

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:711"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:714: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- set bridge br0 mirrors=@m -- --id=@eth0 get port eth0 -- --id=@eth1 get port eth1 -- --id=@m create mirror name=mymirror select-dst-port=@eth0 select-src-port=@eth0 output-port=@eth1"
at_fn_check_prepare_trace "ovs-vsctl.at:714"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket --oneline  -- set bridge br0 mirrors=@m -- --id=@eth0 get port eth0 -- --id=@eth1 get port eth1 -- --id=@m create mirror name=mymirror select-dst-port=@eth0 select-src-port=@eth0 output-port=@eth1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:714"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:714: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:714"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:714"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:714: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:714"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:714"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:721: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovs-vsctl.at:721"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "


<0>
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:721"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:721: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:721"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:721"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:721: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:721"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:721"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:729: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list port eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list mirror
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list bridge br0
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:729"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list port eth0 eth1
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list mirror
ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- list bridge br0

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:729"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:729: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:729"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:729"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:729: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:729"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:729"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:735: sed -n -e '/uuid/p' -e '/name/p' -e '/mirrors/p' -e '/select/p' -e '/output/p' < stdout | \$srcdir/uuidfilt.pl"
at_fn_check_prepare_notrace 'a shell pipeline' "ovs-vsctl.at:735"
( $at_check_trace; sed -n -e '/uuid/p' -e '/name/p' -e '/mirrors/p' -e '/select/p' -e '/output/p' < stdout | $srcdir/uuidfilt.pl
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "_uuid               : <0>
name                : \"eth0\"
_uuid               : <1>
name                : \"eth1\"
_uuid               : <2>
name                : mymirror
output_port         : <1>
output_vlan         : []
select_all          : false
select_dst_port     : [<0>]
select_src_port     : [<0>]
select_vlan         : []
_uuid               : <3>
mirrors             : [<2>]
name                : \"br0\"
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:735"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:735: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:735"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:735"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:735: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:735"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:735"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:754: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:754"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:754"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:754: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:754"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:754"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_811
#AT_START_812
at_fn_group_banner 812 'ovs-vsctl.at:760' \
  "created row UUID is wrong in same execution" "    " 61
at_xfail=no
(
  $as_echo "812. $at_setup_line: testing $at_desc ..."
  $at_traceon


{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:762: ovsdb-tool create db \$abs_top_srcdir/vswitchd/vswitch.ovsschema"
at_fn_check_prepare_dynamic "ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema" "ovs-vsctl.at:762"
( $at_check_trace; ovsdb-tool create db $abs_top_srcdir/vswitchd/vswitch.ovsschema
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:762"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:762: ovsdb-tool transact db \\
        '[\"Open_vSwitch\",
          {\"op\": \"insert\",
           \"table\": \"Open_vSwitch\",
           \"row\": {}}]'"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:762"
( $at_check_trace; ovsdb-tool transact db \
        '["Open_vSwitch",
          {"op": "insert",
           "table": "Open_vSwitch",
           "row": {}}]'
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:762"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:762: ovsdb-server --detach --pidfile=\$PWD/pid --remote=punix:socket --unixctl=\$PWD/unixctl db >/dev/null 2>&1"
at_fn_check_prepare_dynamic "ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1" "ovs-vsctl.at:762"
( $at_check_trace; ovsdb-server --detach --pidfile=$PWD/pid --remote=punix:socket --unixctl=$PWD/unixctl db >/dev/null 2>&1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:762"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:763: ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- create Bridge name=br0 -- list b
"
at_fn_check_prepare_notrace 'an embedded newline' "ovs-vsctl.at:763"
( $at_check_trace; ovs-vsctl --timeout=5 --no-wait -vreconnect:ANY:emer --db=unix:socket -- create Bridge name=br0 -- list b

) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo stdout:; tee stdout <"$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:763"
if $at_failed; then :
  cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:763: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:763"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:763"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:763: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:763"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:763"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

fi
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/ovs-vsctl.at:765: perl \$srcdir/uuidfilt.pl stdout"
at_fn_check_prepare_dynamic "perl $srcdir/uuidfilt.pl stdout" "ovs-vsctl.at:765"
( $at_check_trace; perl $srcdir/uuidfilt.pl stdout
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo >>"$at_stdout"; $as_echo "<0>
_uuid               : <1>
controller          : []
datapath_id         : []
datapath_type       : \"\"
external_ids        : {}
fail_mode           : []
flood_vlans         : []
mirrors             : []
name                : \"br0\"
netflow             : []
other_config        : {}
ports               : []
sflow               : []
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:765"
if $at_failed; then :
  test ! -e pid || kill `cat pid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

cp pid savepid
   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:781: ovs-appctl -t \$PWD/unixctl -e exit"
at_fn_check_prepare_dynamic "ovs-appctl -t $PWD/unixctl -e exit" "ovs-vsctl.at:781"
( $at_check_trace; ovs-appctl -t $PWD/unixctl -e exit
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:781"
$at_failed && at_fn_log_failure
$at_traceon; }

   { set +x
$as_echo "$at_srcdir/ovs-vsctl.at:781: # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 \`cat savepid\`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 \`cat savepid\`; then :; else exit 0; fi
     done
     exit 1"
at_fn_check_prepare_notrace 'a `...` command substitution' "ovs-vsctl.at:781"
( $at_check_trace; # First try a quick sleep, so that the test completes very quickly
     # in the normal case.  POSIX doesn't require fractional times to
     # work, so this might not work.
     sleep 0.1
     if kill -0 `cat savepid`; then :; else exit 0; fi
     # Then wait up to 10 seconds.
     for d in 0 1 2 3 4 5 6 7 8 9; do
       sleep 1
       if kill -0 `cat savepid`; then :; else exit 0; fi
     done
     exit 1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; cat "$at_stderr"
echo stdout:; cat "$at_stdout"
at_fn_check_status 0 $at_status "$at_srcdir/ovs-vsctl.at:781"
if $at_failed; then :
  kill `cat savepid`
fi
$at_failed && at_fn_log_failure
$at_traceon; }

  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_812
#AT_START_813
at_fn_group_banner 813 'interface-reconfigure.at:633' \
  "non-VLAN, non-bond" "                             " 62
at_xfail=no
(
  $as_echo "813. $at_setup_line: testing $at_desc ..."
  $at_traceon


for script in \
        interface-reconfigure \
        InterfaceReconfigure.py \
        InterfaceReconfigureBridge.py \
        InterfaceReconfigureVswitch.py
    do
        cp $top_srcdir/xenserver/opt_xensource_libexec_$script $script
    done

    mkdir -p etc
    cat > etc/xensource-inventory <<EOF
PRODUCT_BRAND='XenServer'
PRODUCT_NAME='xenenterprise'
PRODUCT_VERSION='5.5.0'
BUILD_NUMBER='24648p'
KERNEL_VERSION='2.6.18-128.1.6.el5.xs5.5.0.505.1024xen'
XEN_VERSION='3.3.1'
INSTALLATION_DATE='2010-02-10 16:45:28.748345'
PRIMARY_DISK='/dev/disk/by-id/scsi-360022190add7fc001241a14e0ee3e85c'
BACKUP_PARTITION='/dev/disk/by-id/scsi-360022190add7fc001241a14e0ee3e85c-part2'
INSTALLATION_UUID='852ee692-71b4-439e-abfb-0eba72dc85f0'
CONTROL_DOMAIN_UUID='44e6b66e-3074-4a3c-bbcd-756d845a3b56'
DEFAULT_SR_PHYSDEVS='/dev/sda3'
DOM0_MEM='752'
MANAGEMENT_INTERFACE='xenbr2'
EOF

    mkdir -p etc/xensource
    echo vswitch > etc/xensource/network.conf

    for utility in \
        sbin/ethtool \
        sbin/ifconfig \
        sbin/ifdown \
        sbin/ifup \
        sbin/ip \
        sbin/update-issue \
        sbin/vconfig \
        usr/bin/ovs-vsctl \
        usr/sbin/brctl
    do
        mkdir -p `dirname $utility`
        cat > $utility <<'EOF'
#! /bin/sh
echo ${0} ${*} >&2
EOF
        chmod +x $utility
    done

    mkdir -p etc/sysconfig/network-scripts
    configure_netdev () {
        mkdir -p sys/class/net/${1}
        echo ${2} > sys/class/net/${1}/address
        echo ${3} > sys/class/net/${1}/tx_queue_len

        : >> etc/sysconfig/network-scripts/ifcfg-${1}
    }

    configure_netdev lo   00:00:00:00:00:00 0
    configure_netdev eth0 00:22:19:22:4b:af 1000
    configure_netdev eth1 00:22:19:22:4b:b1 1000
    configure_netdev eth2 00:15:17:a0:29:80 1000
    configure_netdev eth3 00:15:17:a0:29:81 1000
    configure_netdev eth4 00:1b:21:29:ce:51 1000

    mkdir -p var/xapi
    cat > var/xapi/network.dbcache <<'EOF'
<?xml version="1.0" ?>
<xenserver-network-configuration>
	<pif ref="OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
		</bond_slave_of>
		<uuid>
			bd62a141-091f-3909-e334-0334f67ff3be
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:af
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth0
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:83e4a934-aeb5-e6f0-a743-d1c7ef7364c5
		</network>
	</pif>
	<pif ref="OpaqueRef:eea8da94-a5e6-18fc-34a7-5e9b5a235806">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			df8d35c2-cc3a-a623-7065-d987a29feb75
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:1b:21:29:ce:51
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth4
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:bf51b4d3-7bdc-ea55-ba21-539b150b0531
		</network>
	</pif>
	<pif ref="OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
		</bond_slave_of>
		<uuid>
			2f87fc95-5ab4-571a-2487-3f4ac1985663
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:b1
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth1
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:92b41bf6-aa21-45d3-1c86-c87a5fa98f7d
		</network>
	</pif>
	<pif ref="OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			d2dfdab3-daf4-afea-f055-a25a0d24d714
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c
		</VLAN_master_of>
		<VLAN>
			4
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			fe:ff:ff:ff:ff:ff
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			bond0
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:a63afad0-fb4c-b4a4-3696-cbb3d88afc47
		</network>
	</pif>
	<pif ref="OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc">
		<VLAN_slave_of>
			<master>
				OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297
			</master>
		</VLAN_slave_of>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			f4ba396e-a993-a592-5fbc-a1d566afb59e
		</uuid>
		<IP>
			10.0.0.188
		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>
			255.0.0.0
		</netmask>
		<other_config/>
		<MAC>
			00:15:17:a0:29:81
		</MAC>
		<ip_configuration_mode>
			Static
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth3
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:d9189da2-d00b-61ba-8a6d-ac42cc868e32
		</network>
	</pif>
	<pif ref="OpaqueRef:205d1186-2cd1-d5e6-45e4-ea1698ea6e15">
		<VLAN_slave_of/>
		<management>
			True
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			646ca9a1-36ad-e2f9-3ecc-1e5622c201c2
		</uuid>
		<IP>
			172.18.3.188
		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>
			255.255.0.0
		</netmask>
		<other_config/>
		<MAC>
			00:15:17:a0:29:80
		</MAC>
		<ip_configuration_mode>
			DHCP
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth2
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:6e7c6e81-6b5e-b91f-e1f9-9e028567bdfe
		</network>
	</pif>
	<pif ref="OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			3941edd2-865b-8dd8-61f0-199f5e1fa652
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297
		</VLAN_master_of>
		<VLAN>
			123
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			fe:ff:ff:ff:ff:ff
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth3
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:240fb5f8-addc-6ea3-f921-2a42b42acd17
		</network>
	</pif>
	<pif ref="OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11">
		<VLAN_slave_of>
			<master>
				OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c
			</master>
		</VLAN_slave_of>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			6c0327a9-afa3-fc19-6798-a1bfe20095ed
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:af
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			bond0
		</device>
		<bond_master_of>
			<slave>
				OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
			</slave>
		</bond_master_of>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:ec1e5037-60ea-97e5-54b8-39bdb43c071a
		</network>
	</pif>
	<bond ref="OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e">
		<master>
			OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
		</master>
		<uuid>
			dad825f1-6d81-386e-849c-5589281e53e1
		</uuid>
		<slaves>
			<slave>
				OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6
			</slave>
			<slave>
				OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768
			</slave>
		</slaves>
	</bond>
	<vlan ref="OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c">
		<tagged_PIF>
			OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
		</tagged_PIF>
		<uuid>
			841814da-d0d2-9da4-0b2e-b6143480bbfb
		</uuid>
		<untagged_PIF>
			OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e
		</untagged_PIF>
	</vlan>
	<vlan ref="OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297">
		<tagged_PIF>
			OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc
		</tagged_PIF>
		<uuid>
			399279a2-5ccd-5368-9af3-8622a1f1ac82
		</uuid>
		<untagged_PIF>
			OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3
		</untagged_PIF>
	</vlan>
	<network ref="OpaqueRef:a63afad0-fb4c-b4a4-3696-cbb3d88afc47">
		<PIFs>
			<PIF>
				OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e
			</PIF>
		</PIFs>
		<bridge>
			xapi2
		</bridge>
		<other_config/>
		<uuid>
			99be2da4-6c33-6f8e-49ea-3bc592fe3c85
		</uuid>
	</network>
	<network ref="OpaqueRef:d9189da2-d00b-61ba-8a6d-ac42cc868e32">
		<PIFs>
			<PIF>
				OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc
			</PIF>
		</PIFs>
		<bridge>
			xenbr3
		</bridge>
		<other_config/>
		<uuid>
			2902ae1b-8013-897a-b697-0b200ea3aaa5
		</uuid>
	</network>
	<network ref="OpaqueRef:ec1e5037-60ea-97e5-54b8-39bdb43c071a">
		<PIFs>
			<PIF>
				OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
			</PIF>
		</PIFs>
		<bridge>
			xapi1
		</bridge>
		<other_config/>
		<uuid>
			45cbbb43-113d-a712-3231-c6463f253cef
		</uuid>
	</network>
	<network ref="OpaqueRef:92b41bf6-aa21-45d3-1c86-c87a5fa98f7d">
		<PIFs>
			<PIF>
				OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768
			</PIF>
		</PIFs>
		<bridge>
			xenbr1
		</bridge>
		<other_config/>
		<uuid>
			99f8771a-645a-26a3-e06c-30a401f1d009
		</uuid>
	</network>
	<network ref="OpaqueRef:6e7c6e81-6b5e-b91f-e1f9-9e028567bdfe">
		<PIFs>
			<PIF>
				OpaqueRef:205d1186-2cd1-d5e6-45e4-ea1698ea6e15
			</PIF>
		</PIFs>
		<bridge>
			xenbr2
		</bridge>
		<other_config/>
		<uuid>
			d08c8749-0c8f-9e8d-ce25-fd364661ee99
		</uuid>
	</network>
	<network ref="OpaqueRef:83e4a934-aeb5-e6f0-a743-d1c7ef7364c5">
		<PIFs>
			<PIF>
				OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6
			</PIF>
		</PIFs>
		<bridge>
			xenbr0
		</bridge>
		<other_config/>
		<uuid>
			c9eecb03-560d-61de-b6a8-56dfc766f67e
		</uuid>
	</network>
	<network ref="OpaqueRef:bf51b4d3-7bdc-ea55-ba21-539b150b0531">
		<PIFs>
			<PIF>
				OpaqueRef:eea8da94-a5e6-18fc-34a7-5e9b5a235806
			</PIF>
		</PIFs>
		<bridge>
			xenbr4
		</bridge>
		<other_config/>
		<uuid>
			d2c14c89-29cc-51d4-7664-633eff02b2ad
		</uuid>
	</network>
	<network ref="OpaqueRef:0b7354a4-8f4b-aa08-2f16-a22c117e4211">
		<PIFs/>
		<bridge>
			xapi0
		</bridge>
		<other_config/>
		<uuid>
			dc0f0632-c2aa-1b78-2fea-0d3a23c51740
		</uuid>
	</network>
	<network ref="OpaqueRef:240fb5f8-addc-6ea3-f921-2a42b42acd17">
		<PIFs>
			<PIF>
				OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3
			</PIF>
		</PIFs>
		<bridge>
			xapi3
		</bridge>
		<other_config/>
		<uuid>
			db7bdc03-074d-42ae-fc73-9b06de1d57f6
		</uuid>
	</network>
</xenserver-network-configuration>
EOF


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:637: ./interface-reconfigure --root-prefix=\$PWD --no-syslog --force xenbr2 up"
at_fn_check_prepare_dynamic "./interface-reconfigure --root-prefix=$PWD --no-syslog --force xenbr2 up" "interface-reconfigure.at:637"
( $at_check_trace; ./interface-reconfigure --root-prefix=$PWD --no-syslog --force xenbr2 up
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:637"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:638: sed -n -e \"s,\$PWD,,g\" -e 's/ -- /\\
    /g' -e '/^Running command:/!p' stderr"
at_fn_check_prepare_notrace 'an embedded newline' "interface-reconfigure.at:638"
( $at_check_trace; sed -n -e "s,$PWD,,g" -e 's/ -- /\
    /g' -e '/^Running command:/!p' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "Force interface xenbr2 up
Loading xapi database cache from /var/xapi/network.dbcache
Configured for Vswitch datapath
action_up: xenbr2
Writing network configuration for xenbr2
Configuring xenbr2 using DHCP configuration
configure_datapath: bridge      - xenbr2
configure_datapath: physical    - [u'eth2']
configure_datapath: extra ports - []
configure_datapath: extra bonds - []
Applying changes to /etc/sysconfig/network-scripts/route-xenbr2 configuration
Applying changes to /etc/sysconfig/network configuration
Applying changes to /etc/sysconfig/network-scripts/ifcfg-xenbr2 configuration
/sbin/ifconfig eth2 up mtu 1500
/usr/bin/ovs-vsctl --timeout=20
    --with-iface --if-exists del-port eth2
    --may-exist add-br xenbr2
    --may-exist add-port xenbr2 eth2
    set Bridge xenbr2 other-config:hwaddr=\"00:15:17:a0:29:80\"
    br-set-external-id xenbr2 xs-network-uuids d08c8749-0c8f-9e8d-ce25-fd364661ee99
/sbin/ifup xenbr2
/sbin/update-issue
Committing changes to /etc/sysconfig/network-scripts/route-xenbr2 configuration
Committing changes to /etc/sysconfig/network configuration
Committing changes to /etc/sysconfig/network-scripts/ifcfg-xenbr2 configuration
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:638"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:665: cat etc/sysconfig/network-scripts/ifcfg-xenbr2"
at_fn_check_prepare_trace "interface-reconfigure.at:665"
( $at_check_trace; cat etc/sysconfig/network-scripts/ifcfg-xenbr2
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "# DO NOT EDIT: This file (ifcfg-xenbr2) was autogenerated by interface-reconfigure
XEMANAGED=yes
DEVICE=xenbr2
ONBOOT=no
TYPE=Ethernet
BOOTPROTO=dhcp
PERSISTENT_DHCLIENT=yes
MTU=1500
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:665"
$at_failed && at_fn_log_failure
$at_traceon; }


# Simulate interface-reconfigure creating xenbr2, so that we can tell
# interface-reconfigure to take it back down.
{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:678: configure_netdev xenbr2 00:15:17:a0:29:80 0"
at_fn_check_prepare_trace "interface-reconfigure.at:678"
( $at_check_trace; configure_netdev xenbr2 00:15:17:a0:29:80 0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:678"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:680: ./interface-reconfigure --root-prefix=\$PWD --no-syslog --force xenbr2 down"
at_fn_check_prepare_dynamic "./interface-reconfigure --root-prefix=$PWD --no-syslog --force xenbr2 down" "interface-reconfigure.at:680"
( $at_check_trace; ./interface-reconfigure --root-prefix=$PWD --no-syslog --force xenbr2 down
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:680"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:681: sed -n -e \"s,\$PWD,,g\" -e 's/ -- /\\
    /g' -e '/^Running command:/!p' stderr"
at_fn_check_prepare_notrace 'an embedded newline' "interface-reconfigure.at:681"
( $at_check_trace; sed -n -e "s,$PWD,,g" -e 's/ -- /\
    /g' -e '/^Running command:/!p' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "Force interface xenbr2 down
Loading xapi database cache from /var/xapi/network.dbcache
Configured for Vswitch datapath
action_down: xenbr2
/sbin/ifdown xenbr2
deconfigure ipdev xenbr2 on xenbr2
deconfigure_bridge: bridge           - xenbr2
action_down: bring down physical devices - [u'eth2']
/sbin/ifconfig eth2 down
/usr/bin/ovs-vsctl --timeout=20
    --with-iface --if-exists del-port xenbr2
    --if-exists del-br xenbr2
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:681"
$at_failed && at_fn_log_failure
$at_traceon; }


  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_813
#AT_START_814
at_fn_group_banner 814 'interface-reconfigure.at:697' \
  "VLAN, non-bond" "                                 " 62
at_xfail=no
(
  $as_echo "814. $at_setup_line: testing $at_desc ..."
  $at_traceon


for script in \
        interface-reconfigure \
        InterfaceReconfigure.py \
        InterfaceReconfigureBridge.py \
        InterfaceReconfigureVswitch.py
    do
        cp $top_srcdir/xenserver/opt_xensource_libexec_$script $script
    done

    mkdir -p etc
    cat > etc/xensource-inventory <<EOF
PRODUCT_BRAND='XenServer'
PRODUCT_NAME='xenenterprise'
PRODUCT_VERSION='5.5.0'
BUILD_NUMBER='24648p'
KERNEL_VERSION='2.6.18-128.1.6.el5.xs5.5.0.505.1024xen'
XEN_VERSION='3.3.1'
INSTALLATION_DATE='2010-02-10 16:45:28.748345'
PRIMARY_DISK='/dev/disk/by-id/scsi-360022190add7fc001241a14e0ee3e85c'
BACKUP_PARTITION='/dev/disk/by-id/scsi-360022190add7fc001241a14e0ee3e85c-part2'
INSTALLATION_UUID='852ee692-71b4-439e-abfb-0eba72dc85f0'
CONTROL_DOMAIN_UUID='44e6b66e-3074-4a3c-bbcd-756d845a3b56'
DEFAULT_SR_PHYSDEVS='/dev/sda3'
DOM0_MEM='752'
MANAGEMENT_INTERFACE='xenbr2'
EOF

    mkdir -p etc/xensource
    echo vswitch > etc/xensource/network.conf

    for utility in \
        sbin/ethtool \
        sbin/ifconfig \
        sbin/ifdown \
        sbin/ifup \
        sbin/ip \
        sbin/update-issue \
        sbin/vconfig \
        usr/bin/ovs-vsctl \
        usr/sbin/brctl
    do
        mkdir -p `dirname $utility`
        cat > $utility <<'EOF'
#! /bin/sh
echo ${0} ${*} >&2
EOF
        chmod +x $utility
    done

    mkdir -p etc/sysconfig/network-scripts
    configure_netdev () {
        mkdir -p sys/class/net/${1}
        echo ${2} > sys/class/net/${1}/address
        echo ${3} > sys/class/net/${1}/tx_queue_len

        : >> etc/sysconfig/network-scripts/ifcfg-${1}
    }

    configure_netdev lo   00:00:00:00:00:00 0
    configure_netdev eth0 00:22:19:22:4b:af 1000
    configure_netdev eth1 00:22:19:22:4b:b1 1000
    configure_netdev eth2 00:15:17:a0:29:80 1000
    configure_netdev eth3 00:15:17:a0:29:81 1000
    configure_netdev eth4 00:1b:21:29:ce:51 1000

    mkdir -p var/xapi
    cat > var/xapi/network.dbcache <<'EOF'
<?xml version="1.0" ?>
<xenserver-network-configuration>
	<pif ref="OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
		</bond_slave_of>
		<uuid>
			bd62a141-091f-3909-e334-0334f67ff3be
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:af
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth0
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:83e4a934-aeb5-e6f0-a743-d1c7ef7364c5
		</network>
	</pif>
	<pif ref="OpaqueRef:eea8da94-a5e6-18fc-34a7-5e9b5a235806">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			df8d35c2-cc3a-a623-7065-d987a29feb75
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:1b:21:29:ce:51
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth4
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:bf51b4d3-7bdc-ea55-ba21-539b150b0531
		</network>
	</pif>
	<pif ref="OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
		</bond_slave_of>
		<uuid>
			2f87fc95-5ab4-571a-2487-3f4ac1985663
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:b1
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth1
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:92b41bf6-aa21-45d3-1c86-c87a5fa98f7d
		</network>
	</pif>
	<pif ref="OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			d2dfdab3-daf4-afea-f055-a25a0d24d714
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c
		</VLAN_master_of>
		<VLAN>
			4
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			fe:ff:ff:ff:ff:ff
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			bond0
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:a63afad0-fb4c-b4a4-3696-cbb3d88afc47
		</network>
	</pif>
	<pif ref="OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc">
		<VLAN_slave_of>
			<master>
				OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297
			</master>
		</VLAN_slave_of>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			f4ba396e-a993-a592-5fbc-a1d566afb59e
		</uuid>
		<IP>
			10.0.0.188
		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>
			255.0.0.0
		</netmask>
		<other_config/>
		<MAC>
			00:15:17:a0:29:81
		</MAC>
		<ip_configuration_mode>
			Static
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth3
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:d9189da2-d00b-61ba-8a6d-ac42cc868e32
		</network>
	</pif>
	<pif ref="OpaqueRef:205d1186-2cd1-d5e6-45e4-ea1698ea6e15">
		<VLAN_slave_of/>
		<management>
			True
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			646ca9a1-36ad-e2f9-3ecc-1e5622c201c2
		</uuid>
		<IP>
			172.18.3.188
		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>
			255.255.0.0
		</netmask>
		<other_config/>
		<MAC>
			00:15:17:a0:29:80
		</MAC>
		<ip_configuration_mode>
			DHCP
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth2
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:6e7c6e81-6b5e-b91f-e1f9-9e028567bdfe
		</network>
	</pif>
	<pif ref="OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			3941edd2-865b-8dd8-61f0-199f5e1fa652
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297
		</VLAN_master_of>
		<VLAN>
			123
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			fe:ff:ff:ff:ff:ff
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth3
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:240fb5f8-addc-6ea3-f921-2a42b42acd17
		</network>
	</pif>
	<pif ref="OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11">
		<VLAN_slave_of>
			<master>
				OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c
			</master>
		</VLAN_slave_of>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			6c0327a9-afa3-fc19-6798-a1bfe20095ed
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:af
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			bond0
		</device>
		<bond_master_of>
			<slave>
				OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
			</slave>
		</bond_master_of>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:ec1e5037-60ea-97e5-54b8-39bdb43c071a
		</network>
	</pif>
	<bond ref="OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e">
		<master>
			OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
		</master>
		<uuid>
			dad825f1-6d81-386e-849c-5589281e53e1
		</uuid>
		<slaves>
			<slave>
				OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6
			</slave>
			<slave>
				OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768
			</slave>
		</slaves>
	</bond>
	<vlan ref="OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c">
		<tagged_PIF>
			OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
		</tagged_PIF>
		<uuid>
			841814da-d0d2-9da4-0b2e-b6143480bbfb
		</uuid>
		<untagged_PIF>
			OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e
		</untagged_PIF>
	</vlan>
	<vlan ref="OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297">
		<tagged_PIF>
			OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc
		</tagged_PIF>
		<uuid>
			399279a2-5ccd-5368-9af3-8622a1f1ac82
		</uuid>
		<untagged_PIF>
			OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3
		</untagged_PIF>
	</vlan>
	<network ref="OpaqueRef:a63afad0-fb4c-b4a4-3696-cbb3d88afc47">
		<PIFs>
			<PIF>
				OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e
			</PIF>
		</PIFs>
		<bridge>
			xapi2
		</bridge>
		<other_config/>
		<uuid>
			99be2da4-6c33-6f8e-49ea-3bc592fe3c85
		</uuid>
	</network>
	<network ref="OpaqueRef:d9189da2-d00b-61ba-8a6d-ac42cc868e32">
		<PIFs>
			<PIF>
				OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc
			</PIF>
		</PIFs>
		<bridge>
			xenbr3
		</bridge>
		<other_config/>
		<uuid>
			2902ae1b-8013-897a-b697-0b200ea3aaa5
		</uuid>
	</network>
	<network ref="OpaqueRef:ec1e5037-60ea-97e5-54b8-39bdb43c071a">
		<PIFs>
			<PIF>
				OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
			</PIF>
		</PIFs>
		<bridge>
			xapi1
		</bridge>
		<other_config/>
		<uuid>
			45cbbb43-113d-a712-3231-c6463f253cef
		</uuid>
	</network>
	<network ref="OpaqueRef:92b41bf6-aa21-45d3-1c86-c87a5fa98f7d">
		<PIFs>
			<PIF>
				OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768
			</PIF>
		</PIFs>
		<bridge>
			xenbr1
		</bridge>
		<other_config/>
		<uuid>
			99f8771a-645a-26a3-e06c-30a401f1d009
		</uuid>
	</network>
	<network ref="OpaqueRef:6e7c6e81-6b5e-b91f-e1f9-9e028567bdfe">
		<PIFs>
			<PIF>
				OpaqueRef:205d1186-2cd1-d5e6-45e4-ea1698ea6e15
			</PIF>
		</PIFs>
		<bridge>
			xenbr2
		</bridge>
		<other_config/>
		<uuid>
			d08c8749-0c8f-9e8d-ce25-fd364661ee99
		</uuid>
	</network>
	<network ref="OpaqueRef:83e4a934-aeb5-e6f0-a743-d1c7ef7364c5">
		<PIFs>
			<PIF>
				OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6
			</PIF>
		</PIFs>
		<bridge>
			xenbr0
		</bridge>
		<other_config/>
		<uuid>
			c9eecb03-560d-61de-b6a8-56dfc766f67e
		</uuid>
	</network>
	<network ref="OpaqueRef:bf51b4d3-7bdc-ea55-ba21-539b150b0531">
		<PIFs>
			<PIF>
				OpaqueRef:eea8da94-a5e6-18fc-34a7-5e9b5a235806
			</PIF>
		</PIFs>
		<bridge>
			xenbr4
		</bridge>
		<other_config/>
		<uuid>
			d2c14c89-29cc-51d4-7664-633eff02b2ad
		</uuid>
	</network>
	<network ref="OpaqueRef:0b7354a4-8f4b-aa08-2f16-a22c117e4211">
		<PIFs/>
		<bridge>
			xapi0
		</bridge>
		<other_config/>
		<uuid>
			dc0f0632-c2aa-1b78-2fea-0d3a23c51740
		</uuid>
	</network>
	<network ref="OpaqueRef:240fb5f8-addc-6ea3-f921-2a42b42acd17">
		<PIFs>
			<PIF>
				OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3
			</PIF>
		</PIFs>
		<bridge>
			xapi3
		</bridge>
		<other_config/>
		<uuid>
			db7bdc03-074d-42ae-fc73-9b06de1d57f6
		</uuid>
	</network>
</xenserver-network-configuration>
EOF


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:701: ./interface-reconfigure --root-prefix=\$PWD --no-syslog --force xapi3 up"
at_fn_check_prepare_dynamic "./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi3 up" "interface-reconfigure.at:701"
( $at_check_trace; ./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi3 up
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:701"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:702: sed -n -e \"s,\$PWD,,g\" -e 's/ -- /\\
    /g' -e '/^Running command:/!p' stderr"
at_fn_check_prepare_notrace 'an embedded newline' "interface-reconfigure.at:702"
( $at_check_trace; sed -n -e "s,$PWD,,g" -e 's/ -- /\
    /g' -e '/^Running command:/!p' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "Force interface xapi3 up
Loading xapi database cache from /var/xapi/network.dbcache
Configured for Vswitch datapath
action_up: xapi3
Writing network configuration for xapi3
Configuring xapi3 using None configuration
configure_datapath: bridge      - xenbr3
configure_datapath: physical    - [u'eth3']
configure_datapath: extra ports - []
configure_datapath: extra bonds - []
Applying changes to /etc/sysconfig/network-scripts/route-xapi3 configuration
Applying changes to /etc/sysconfig/network-scripts/ifcfg-xapi3 configuration
/sbin/ifconfig eth3 up mtu 1500
/usr/bin/ovs-vsctl --timeout=20
    --with-iface --if-exists del-port eth3
    --may-exist add-br xenbr3
    --may-exist add-port xenbr3 eth3
    set Bridge xenbr3 other-config:hwaddr=\"00:15:17:a0:29:81\"
    br-set-external-id xenbr3 xs-network-uuids 2902ae1b-8013-897a-b697-0b200ea3aaa5;db7bdc03-074d-42ae-fc73-9b06de1d57f6
    --if-exists del-br xapi3
    --may-exist add-br xapi3 xenbr3 123
    br-set-external-id xapi3 xs-network-uuids 2902ae1b-8013-897a-b697-0b200ea3aaa5;db7bdc03-074d-42ae-fc73-9b06de1d57f6
    set Interface xapi3 MAC=\"00:15:17:a0:29:81\"
/sbin/ifup xapi3
/sbin/update-issue
Committing changes to /etc/sysconfig/network-scripts/route-xapi3 configuration
Committing changes to /etc/sysconfig/network-scripts/ifcfg-xapi3 configuration
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:702"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:731: cat etc/sysconfig/network-scripts/ifcfg-xapi3"
at_fn_check_prepare_trace "interface-reconfigure.at:731"
( $at_check_trace; cat etc/sysconfig/network-scripts/ifcfg-xapi3
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "# DO NOT EDIT: This file (ifcfg-xapi3) was autogenerated by interface-reconfigure
XEMANAGED=yes
DEVICE=xapi3
ONBOOT=no
TYPE=Ethernet
BOOTPROTO=none
MTU=1500
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:731"
$at_failed && at_fn_log_failure
$at_traceon; }


# Simulate interface-reconfigure creating xapi3, so that we can tell
# interface-reconfigure to take it back down.
{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:743: configure_netdev xapi3 00:23:20:AC:AF:02 0"
at_fn_check_prepare_trace "interface-reconfigure.at:743"
( $at_check_trace; configure_netdev xapi3 00:23:20:AC:AF:02 0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:743"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:745: ./interface-reconfigure --root-prefix=\$PWD --no-syslog --force xapi3 down"
at_fn_check_prepare_dynamic "./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi3 down" "interface-reconfigure.at:745"
( $at_check_trace; ./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi3 down
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:745"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:746: sed -n -e \"s,\$PWD,,g\" -e 's/ -- /\\
    /g' -e '/^Running command:/!p' stderr"
at_fn_check_prepare_notrace 'an embedded newline' "interface-reconfigure.at:746"
( $at_check_trace; sed -n -e "s,$PWD,,g" -e 's/ -- /\
    /g' -e '/^Running command:/!p' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "Force interface xapi3 down
Loading xapi database cache from /var/xapi/network.dbcache
Configured for Vswitch datapath
action_down: xapi3
/sbin/ifdown xapi3
deconfigure ipdev xapi3 on xenbr3
deconfigure_bridge: bridge           - xapi3
action_down: no more masters, bring down slave xenbr3
deconfigure_bridge: bridge           - xenbr3
action_down: bring down physical devices - [u'eth3']
/sbin/ifconfig eth3 down
/usr/bin/ovs-vsctl --timeout=20
    --with-iface --if-exists del-port xapi3
    --if-exists del-br xapi3
    --if-exists del-br xenbr3
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:746"
$at_failed && at_fn_log_failure
$at_traceon; }


  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_814
#AT_START_815
at_fn_group_banner 815 'interface-reconfigure.at:765' \
  "Bond, non-VLAN" "                                 " 62
at_xfail=no
(
  $as_echo "815. $at_setup_line: testing $at_desc ..."
  $at_traceon


for script in \
        interface-reconfigure \
        InterfaceReconfigure.py \
        InterfaceReconfigureBridge.py \
        InterfaceReconfigureVswitch.py
    do
        cp $top_srcdir/xenserver/opt_xensource_libexec_$script $script
    done

    mkdir -p etc
    cat > etc/xensource-inventory <<EOF
PRODUCT_BRAND='XenServer'
PRODUCT_NAME='xenenterprise'
PRODUCT_VERSION='5.5.0'
BUILD_NUMBER='24648p'
KERNEL_VERSION='2.6.18-128.1.6.el5.xs5.5.0.505.1024xen'
XEN_VERSION='3.3.1'
INSTALLATION_DATE='2010-02-10 16:45:28.748345'
PRIMARY_DISK='/dev/disk/by-id/scsi-360022190add7fc001241a14e0ee3e85c'
BACKUP_PARTITION='/dev/disk/by-id/scsi-360022190add7fc001241a14e0ee3e85c-part2'
INSTALLATION_UUID='852ee692-71b4-439e-abfb-0eba72dc85f0'
CONTROL_DOMAIN_UUID='44e6b66e-3074-4a3c-bbcd-756d845a3b56'
DEFAULT_SR_PHYSDEVS='/dev/sda3'
DOM0_MEM='752'
MANAGEMENT_INTERFACE='xenbr2'
EOF

    mkdir -p etc/xensource
    echo vswitch > etc/xensource/network.conf

    for utility in \
        sbin/ethtool \
        sbin/ifconfig \
        sbin/ifdown \
        sbin/ifup \
        sbin/ip \
        sbin/update-issue \
        sbin/vconfig \
        usr/bin/ovs-vsctl \
        usr/sbin/brctl
    do
        mkdir -p `dirname $utility`
        cat > $utility <<'EOF'
#! /bin/sh
echo ${0} ${*} >&2
EOF
        chmod +x $utility
    done

    mkdir -p etc/sysconfig/network-scripts
    configure_netdev () {
        mkdir -p sys/class/net/${1}
        echo ${2} > sys/class/net/${1}/address
        echo ${3} > sys/class/net/${1}/tx_queue_len

        : >> etc/sysconfig/network-scripts/ifcfg-${1}
    }

    configure_netdev lo   00:00:00:00:00:00 0
    configure_netdev eth0 00:22:19:22:4b:af 1000
    configure_netdev eth1 00:22:19:22:4b:b1 1000
    configure_netdev eth2 00:15:17:a0:29:80 1000
    configure_netdev eth3 00:15:17:a0:29:81 1000
    configure_netdev eth4 00:1b:21:29:ce:51 1000

    mkdir -p var/xapi
    cat > var/xapi/network.dbcache <<'EOF'
<?xml version="1.0" ?>
<xenserver-network-configuration>
	<pif ref="OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
		</bond_slave_of>
		<uuid>
			bd62a141-091f-3909-e334-0334f67ff3be
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:af
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth0
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:83e4a934-aeb5-e6f0-a743-d1c7ef7364c5
		</network>
	</pif>
	<pif ref="OpaqueRef:eea8da94-a5e6-18fc-34a7-5e9b5a235806">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			df8d35c2-cc3a-a623-7065-d987a29feb75
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:1b:21:29:ce:51
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth4
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:bf51b4d3-7bdc-ea55-ba21-539b150b0531
		</network>
	</pif>
	<pif ref="OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
		</bond_slave_of>
		<uuid>
			2f87fc95-5ab4-571a-2487-3f4ac1985663
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:b1
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth1
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:92b41bf6-aa21-45d3-1c86-c87a5fa98f7d
		</network>
	</pif>
	<pif ref="OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			d2dfdab3-daf4-afea-f055-a25a0d24d714
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c
		</VLAN_master_of>
		<VLAN>
			4
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			fe:ff:ff:ff:ff:ff
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			bond0
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:a63afad0-fb4c-b4a4-3696-cbb3d88afc47
		</network>
	</pif>
	<pif ref="OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc">
		<VLAN_slave_of>
			<master>
				OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297
			</master>
		</VLAN_slave_of>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			f4ba396e-a993-a592-5fbc-a1d566afb59e
		</uuid>
		<IP>
			10.0.0.188
		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>
			255.0.0.0
		</netmask>
		<other_config/>
		<MAC>
			00:15:17:a0:29:81
		</MAC>
		<ip_configuration_mode>
			Static
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth3
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:d9189da2-d00b-61ba-8a6d-ac42cc868e32
		</network>
	</pif>
	<pif ref="OpaqueRef:205d1186-2cd1-d5e6-45e4-ea1698ea6e15">
		<VLAN_slave_of/>
		<management>
			True
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			646ca9a1-36ad-e2f9-3ecc-1e5622c201c2
		</uuid>
		<IP>
			172.18.3.188
		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>
			255.255.0.0
		</netmask>
		<other_config/>
		<MAC>
			00:15:17:a0:29:80
		</MAC>
		<ip_configuration_mode>
			DHCP
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth2
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:6e7c6e81-6b5e-b91f-e1f9-9e028567bdfe
		</network>
	</pif>
	<pif ref="OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			3941edd2-865b-8dd8-61f0-199f5e1fa652
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297
		</VLAN_master_of>
		<VLAN>
			123
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			fe:ff:ff:ff:ff:ff
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth3
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:240fb5f8-addc-6ea3-f921-2a42b42acd17
		</network>
	</pif>
	<pif ref="OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11">
		<VLAN_slave_of>
			<master>
				OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c
			</master>
		</VLAN_slave_of>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			6c0327a9-afa3-fc19-6798-a1bfe20095ed
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:af
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			bond0
		</device>
		<bond_master_of>
			<slave>
				OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
			</slave>
		</bond_master_of>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:ec1e5037-60ea-97e5-54b8-39bdb43c071a
		</network>
	</pif>
	<bond ref="OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e">
		<master>
			OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
		</master>
		<uuid>
			dad825f1-6d81-386e-849c-5589281e53e1
		</uuid>
		<slaves>
			<slave>
				OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6
			</slave>
			<slave>
				OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768
			</slave>
		</slaves>
	</bond>
	<vlan ref="OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c">
		<tagged_PIF>
			OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
		</tagged_PIF>
		<uuid>
			841814da-d0d2-9da4-0b2e-b6143480bbfb
		</uuid>
		<untagged_PIF>
			OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e
		</untagged_PIF>
	</vlan>
	<vlan ref="OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297">
		<tagged_PIF>
			OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc
		</tagged_PIF>
		<uuid>
			399279a2-5ccd-5368-9af3-8622a1f1ac82
		</uuid>
		<untagged_PIF>
			OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3
		</untagged_PIF>
	</vlan>
	<network ref="OpaqueRef:a63afad0-fb4c-b4a4-3696-cbb3d88afc47">
		<PIFs>
			<PIF>
				OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e
			</PIF>
		</PIFs>
		<bridge>
			xapi2
		</bridge>
		<other_config/>
		<uuid>
			99be2da4-6c33-6f8e-49ea-3bc592fe3c85
		</uuid>
	</network>
	<network ref="OpaqueRef:d9189da2-d00b-61ba-8a6d-ac42cc868e32">
		<PIFs>
			<PIF>
				OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc
			</PIF>
		</PIFs>
		<bridge>
			xenbr3
		</bridge>
		<other_config/>
		<uuid>
			2902ae1b-8013-897a-b697-0b200ea3aaa5
		</uuid>
	</network>
	<network ref="OpaqueRef:ec1e5037-60ea-97e5-54b8-39bdb43c071a">
		<PIFs>
			<PIF>
				OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
			</PIF>
		</PIFs>
		<bridge>
			xapi1
		</bridge>
		<other_config/>
		<uuid>
			45cbbb43-113d-a712-3231-c6463f253cef
		</uuid>
	</network>
	<network ref="OpaqueRef:92b41bf6-aa21-45d3-1c86-c87a5fa98f7d">
		<PIFs>
			<PIF>
				OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768
			</PIF>
		</PIFs>
		<bridge>
			xenbr1
		</bridge>
		<other_config/>
		<uuid>
			99f8771a-645a-26a3-e06c-30a401f1d009
		</uuid>
	</network>
	<network ref="OpaqueRef:6e7c6e81-6b5e-b91f-e1f9-9e028567bdfe">
		<PIFs>
			<PIF>
				OpaqueRef:205d1186-2cd1-d5e6-45e4-ea1698ea6e15
			</PIF>
		</PIFs>
		<bridge>
			xenbr2
		</bridge>
		<other_config/>
		<uuid>
			d08c8749-0c8f-9e8d-ce25-fd364661ee99
		</uuid>
	</network>
	<network ref="OpaqueRef:83e4a934-aeb5-e6f0-a743-d1c7ef7364c5">
		<PIFs>
			<PIF>
				OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6
			</PIF>
		</PIFs>
		<bridge>
			xenbr0
		</bridge>
		<other_config/>
		<uuid>
			c9eecb03-560d-61de-b6a8-56dfc766f67e
		</uuid>
	</network>
	<network ref="OpaqueRef:bf51b4d3-7bdc-ea55-ba21-539b150b0531">
		<PIFs>
			<PIF>
				OpaqueRef:eea8da94-a5e6-18fc-34a7-5e9b5a235806
			</PIF>
		</PIFs>
		<bridge>
			xenbr4
		</bridge>
		<other_config/>
		<uuid>
			d2c14c89-29cc-51d4-7664-633eff02b2ad
		</uuid>
	</network>
	<network ref="OpaqueRef:0b7354a4-8f4b-aa08-2f16-a22c117e4211">
		<PIFs/>
		<bridge>
			xapi0
		</bridge>
		<other_config/>
		<uuid>
			dc0f0632-c2aa-1b78-2fea-0d3a23c51740
		</uuid>
	</network>
	<network ref="OpaqueRef:240fb5f8-addc-6ea3-f921-2a42b42acd17">
		<PIFs>
			<PIF>
				OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3
			</PIF>
		</PIFs>
		<bridge>
			xapi3
		</bridge>
		<other_config/>
		<uuid>
			db7bdc03-074d-42ae-fc73-9b06de1d57f6
		</uuid>
	</network>
</xenserver-network-configuration>
EOF


# Pretend that bond0 exists, even though it would really be created by
# a "create-bond" call in an ovs-vsctl invocation within
# interface-reconfigure, because otherwise interface-reconfigure will
# die with "failed to apply changes: netdev: up: device bond0 does not
# exist" after it thinks it created bond0.
{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:774: configure_netdev bond0 00:23:20:e6:39:75 0"
at_fn_check_prepare_trace "interface-reconfigure.at:774"
( $at_check_trace; configure_netdev bond0 00:23:20:e6:39:75 0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:774"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:776: ./interface-reconfigure --root-prefix=\$PWD --no-syslog --force xapi1 up"
at_fn_check_prepare_dynamic "./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi1 up" "interface-reconfigure.at:776"
( $at_check_trace; ./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi1 up
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:776"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:777: sed -n -e \"s,\$PWD,,g\" -e 's/ -- /\\
    /g' -e '/^Running command:/!p' stderr"
at_fn_check_prepare_notrace 'an embedded newline' "interface-reconfigure.at:777"
( $at_check_trace; sed -n -e "s,$PWD,,g" -e 's/ -- /\
    /g' -e '/^Running command:/!p' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "Force interface xapi1 up
Loading xapi database cache from /var/xapi/network.dbcache
Configured for Vswitch datapath
action_up: xapi1
Writing network configuration for xapi1
Configuring xapi1 using None configuration
configure_datapath: leaving bond bond0 up
configure_datapath: leaving bond bond0 up
configure_datapath: bridge      - xapi1
configure_datapath: physical    - [u'eth0', u'eth1']
configure_datapath: extra ports - []
configure_datapath: extra bonds - []
netdev: down: device xenbr0 does not exist, ignoring
netdev: down: device xenbr1 does not exist, ignoring
Applying changes to /etc/sysconfig/network-scripts/route-xapi1 configuration
Applying changes to /etc/sysconfig/network-scripts/ifcfg-xapi1 configuration
/sbin/ifconfig eth0 up mtu 1500
/sbin/ifconfig eth1 up mtu 1500
/usr/bin/ovs-vsctl --timeout=20
    --if-exists del-br xenbr0
    --if-exists del-br xenbr1
    --with-iface --if-exists del-port eth0
    --with-iface --if-exists del-port eth1
    --may-exist add-br xapi1
    --with-iface --if-exists del-port bond0
    --fake-iface add-bond xapi1 bond0 eth0 eth1
    set Port bond0 MAC=\"00:22:19:22:4b:af\" bond_downdelay=200 other-config:\"bond-miimon\"=100 other-config:\"bond-use_carrier\"=1 other-config:\"bond-mode\"=\"balance-slb\" bond_updelay=31000
    set Bridge xapi1 other-config:hwaddr=\"00:22:19:22:4b:af\"
    br-set-external-id xapi1 xs-network-uuids 45cbbb43-113d-a712-3231-c6463f253cef;99be2da4-6c33-6f8e-49ea-3bc592fe3c85
/sbin/ifup xapi1
action_up: bring up bond0
/sbin/ifconfig bond0 up
/sbin/update-issue
Committing changes to /etc/sysconfig/network-scripts/route-xapi1 configuration
Committing changes to /etc/sysconfig/network-scripts/ifcfg-xapi1 configuration
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:777"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:814: cat etc/sysconfig/network-scripts/ifcfg-xapi1"
at_fn_check_prepare_trace "interface-reconfigure.at:814"
( $at_check_trace; cat etc/sysconfig/network-scripts/ifcfg-xapi1
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "# DO NOT EDIT: This file (ifcfg-xapi1) was autogenerated by interface-reconfigure
XEMANAGED=yes
DEVICE=xapi1
ONBOOT=no
TYPE=Ethernet
BOOTPROTO=none
MTU=1500
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:814"
$at_failed && at_fn_log_failure
$at_traceon; }


# Simulate interface-reconfigure creating xapi1, so that we can tell
# interface-reconfigure to take it back down.
{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:826: configure_netdev xapi1 00:22:19:22:4B:AF 0"
at_fn_check_prepare_trace "interface-reconfigure.at:826"
( $at_check_trace; configure_netdev xapi1 00:22:19:22:4B:AF 0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:826"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:828: ./interface-reconfigure --root-prefix=\$PWD --no-syslog --force xapi1 down"
at_fn_check_prepare_dynamic "./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi1 down" "interface-reconfigure.at:828"
( $at_check_trace; ./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi1 down
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:828"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:829: sed -n -e \"s,\$PWD,,g\" -e 's/ -- /\\
    /g' -e '/^Running command:/!p' stderr"
at_fn_check_prepare_notrace 'an embedded newline' "interface-reconfigure.at:829"
( $at_check_trace; sed -n -e "s,$PWD,,g" -e 's/ -- /\
    /g' -e '/^Running command:/!p' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "Force interface xapi1 down
Loading xapi database cache from /var/xapi/network.dbcache
Configured for Vswitch datapath
action_down: xapi1
/sbin/ifdown xapi1
deconfigure ipdev xapi1 on xapi1
deconfigure_bridge: bridge           - xapi1
action_down: bring down physical devices - [u'eth0', u'eth1']
/sbin/ifconfig eth0 down
/sbin/ifconfig eth1 down
/usr/bin/ovs-vsctl --timeout=20
    --with-iface --if-exists del-port xapi1
    --if-exists del-br xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:829"
$at_failed && at_fn_log_failure
$at_traceon; }


  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_815
#AT_START_816
at_fn_group_banner 816 'interface-reconfigure.at:846' \
  "VLAN on bond" "                                   " 62
at_xfail=no
(
  $as_echo "816. $at_setup_line: testing $at_desc ..."
  $at_traceon


for script in \
        interface-reconfigure \
        InterfaceReconfigure.py \
        InterfaceReconfigureBridge.py \
        InterfaceReconfigureVswitch.py
    do
        cp $top_srcdir/xenserver/opt_xensource_libexec_$script $script
    done

    mkdir -p etc
    cat > etc/xensource-inventory <<EOF
PRODUCT_BRAND='XenServer'
PRODUCT_NAME='xenenterprise'
PRODUCT_VERSION='5.5.0'
BUILD_NUMBER='24648p'
KERNEL_VERSION='2.6.18-128.1.6.el5.xs5.5.0.505.1024xen'
XEN_VERSION='3.3.1'
INSTALLATION_DATE='2010-02-10 16:45:28.748345'
PRIMARY_DISK='/dev/disk/by-id/scsi-360022190add7fc001241a14e0ee3e85c'
BACKUP_PARTITION='/dev/disk/by-id/scsi-360022190add7fc001241a14e0ee3e85c-part2'
INSTALLATION_UUID='852ee692-71b4-439e-abfb-0eba72dc85f0'
CONTROL_DOMAIN_UUID='44e6b66e-3074-4a3c-bbcd-756d845a3b56'
DEFAULT_SR_PHYSDEVS='/dev/sda3'
DOM0_MEM='752'
MANAGEMENT_INTERFACE='xenbr2'
EOF

    mkdir -p etc/xensource
    echo vswitch > etc/xensource/network.conf

    for utility in \
        sbin/ethtool \
        sbin/ifconfig \
        sbin/ifdown \
        sbin/ifup \
        sbin/ip \
        sbin/update-issue \
        sbin/vconfig \
        usr/bin/ovs-vsctl \
        usr/sbin/brctl
    do
        mkdir -p `dirname $utility`
        cat > $utility <<'EOF'
#! /bin/sh
echo ${0} ${*} >&2
EOF
        chmod +x $utility
    done

    mkdir -p etc/sysconfig/network-scripts
    configure_netdev () {
        mkdir -p sys/class/net/${1}
        echo ${2} > sys/class/net/${1}/address
        echo ${3} > sys/class/net/${1}/tx_queue_len

        : >> etc/sysconfig/network-scripts/ifcfg-${1}
    }

    configure_netdev lo   00:00:00:00:00:00 0
    configure_netdev eth0 00:22:19:22:4b:af 1000
    configure_netdev eth1 00:22:19:22:4b:b1 1000
    configure_netdev eth2 00:15:17:a0:29:80 1000
    configure_netdev eth3 00:15:17:a0:29:81 1000
    configure_netdev eth4 00:1b:21:29:ce:51 1000

    mkdir -p var/xapi
    cat > var/xapi/network.dbcache <<'EOF'
<?xml version="1.0" ?>
<xenserver-network-configuration>
	<pif ref="OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
		</bond_slave_of>
		<uuid>
			bd62a141-091f-3909-e334-0334f67ff3be
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:af
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth0
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:83e4a934-aeb5-e6f0-a743-d1c7ef7364c5
		</network>
	</pif>
	<pif ref="OpaqueRef:eea8da94-a5e6-18fc-34a7-5e9b5a235806">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			df8d35c2-cc3a-a623-7065-d987a29feb75
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:1b:21:29:ce:51
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth4
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:bf51b4d3-7bdc-ea55-ba21-539b150b0531
		</network>
	</pif>
	<pif ref="OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
		</bond_slave_of>
		<uuid>
			2f87fc95-5ab4-571a-2487-3f4ac1985663
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:b1
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth1
		</device>
		<bond_master_of/>
		<currently_attached>
			False
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:92b41bf6-aa21-45d3-1c86-c87a5fa98f7d
		</network>
	</pif>
	<pif ref="OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			d2dfdab3-daf4-afea-f055-a25a0d24d714
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c
		</VLAN_master_of>
		<VLAN>
			4
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			fe:ff:ff:ff:ff:ff
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			bond0
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:a63afad0-fb4c-b4a4-3696-cbb3d88afc47
		</network>
	</pif>
	<pif ref="OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc">
		<VLAN_slave_of>
			<master>
				OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297
			</master>
		</VLAN_slave_of>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			f4ba396e-a993-a592-5fbc-a1d566afb59e
		</uuid>
		<IP>
			10.0.0.188
		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>
			255.0.0.0
		</netmask>
		<other_config/>
		<MAC>
			00:15:17:a0:29:81
		</MAC>
		<ip_configuration_mode>
			Static
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth3
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:d9189da2-d00b-61ba-8a6d-ac42cc868e32
		</network>
	</pif>
	<pif ref="OpaqueRef:205d1186-2cd1-d5e6-45e4-ea1698ea6e15">
		<VLAN_slave_of/>
		<management>
			True
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			646ca9a1-36ad-e2f9-3ecc-1e5622c201c2
		</uuid>
		<IP>
			172.18.3.188
		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>
			255.255.0.0
		</netmask>
		<other_config/>
		<MAC>
			00:15:17:a0:29:80
		</MAC>
		<ip_configuration_mode>
			DHCP
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth2
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:6e7c6e81-6b5e-b91f-e1f9-9e028567bdfe
		</network>
	</pif>
	<pif ref="OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3">
		<VLAN_slave_of/>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			3941edd2-865b-8dd8-61f0-199f5e1fa652
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297
		</VLAN_master_of>
		<VLAN>
			123
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			fe:ff:ff:ff:ff:ff
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			eth3
		</device>
		<bond_master_of/>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:240fb5f8-addc-6ea3-f921-2a42b42acd17
		</network>
	</pif>
	<pif ref="OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11">
		<VLAN_slave_of>
			<master>
				OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c
			</master>
		</VLAN_slave_of>
		<management>
			False
		</management>
		<bond_slave_of>
			OpaqueRef:NULL
		</bond_slave_of>
		<uuid>
			6c0327a9-afa3-fc19-6798-a1bfe20095ed
		</uuid>
		<IP>

		</IP>
		<VLAN_master_of>
			OpaqueRef:NULL
		</VLAN_master_of>
		<VLAN>
			-1
		</VLAN>
		<netmask>

		</netmask>
		<other_config/>
		<MAC>
			00:22:19:22:4b:af
		</MAC>
		<ip_configuration_mode>
			None
		</ip_configuration_mode>
		<DNS>

		</DNS>
		<device>
			bond0
		</device>
		<bond_master_of>
			<slave>
				OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e
			</slave>
		</bond_master_of>
		<currently_attached>
			True
		</currently_attached>
		<gateway>

		</gateway>
		<network>
			OpaqueRef:ec1e5037-60ea-97e5-54b8-39bdb43c071a
		</network>
	</pif>
	<bond ref="OpaqueRef:86d81bcf-0d25-90b2-cb11-af2007bd586e">
		<master>
			OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
		</master>
		<uuid>
			dad825f1-6d81-386e-849c-5589281e53e1
		</uuid>
		<slaves>
			<slave>
				OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6
			</slave>
			<slave>
				OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768
			</slave>
		</slaves>
	</bond>
	<vlan ref="OpaqueRef:4c0eb823-4d96-da1d-e75f-411b85badb0c">
		<tagged_PIF>
			OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
		</tagged_PIF>
		<uuid>
			841814da-d0d2-9da4-0b2e-b6143480bbfb
		</uuid>
		<untagged_PIF>
			OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e
		</untagged_PIF>
	</vlan>
	<vlan ref="OpaqueRef:e623e1d6-cd02-be8d-820d-49d65c710297">
		<tagged_PIF>
			OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc
		</tagged_PIF>
		<uuid>
			399279a2-5ccd-5368-9af3-8622a1f1ac82
		</uuid>
		<untagged_PIF>
			OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3
		</untagged_PIF>
	</vlan>
	<network ref="OpaqueRef:a63afad0-fb4c-b4a4-3696-cbb3d88afc47">
		<PIFs>
			<PIF>
				OpaqueRef:d2d1e51e-4da9-3163-8f57-bb683429335e
			</PIF>
		</PIFs>
		<bridge>
			xapi2
		</bridge>
		<other_config/>
		<uuid>
			99be2da4-6c33-6f8e-49ea-3bc592fe3c85
		</uuid>
	</network>
	<network ref="OpaqueRef:d9189da2-d00b-61ba-8a6d-ac42cc868e32">
		<PIFs>
			<PIF>
				OpaqueRef:2bc0fab5-523a-4125-609d-212391f5f6fc
			</PIF>
		</PIFs>
		<bridge>
			xenbr3
		</bridge>
		<other_config/>
		<uuid>
			2902ae1b-8013-897a-b697-0b200ea3aaa5
		</uuid>
	</network>
	<network ref="OpaqueRef:ec1e5037-60ea-97e5-54b8-39bdb43c071a">
		<PIFs>
			<PIF>
				OpaqueRef:69c904bb-8da9-3424-485b-8b47c2d3ef11
			</PIF>
		</PIFs>
		<bridge>
			xapi1
		</bridge>
		<other_config/>
		<uuid>
			45cbbb43-113d-a712-3231-c6463f253cef
		</uuid>
	</network>
	<network ref="OpaqueRef:92b41bf6-aa21-45d3-1c86-c87a5fa98f7d">
		<PIFs>
			<PIF>
				OpaqueRef:2956e6c8-487e-981c-85ff-c84796418768
			</PIF>
		</PIFs>
		<bridge>
			xenbr1
		</bridge>
		<other_config/>
		<uuid>
			99f8771a-645a-26a3-e06c-30a401f1d009
		</uuid>
	</network>
	<network ref="OpaqueRef:6e7c6e81-6b5e-b91f-e1f9-9e028567bdfe">
		<PIFs>
			<PIF>
				OpaqueRef:205d1186-2cd1-d5e6-45e4-ea1698ea6e15
			</PIF>
		</PIFs>
		<bridge>
			xenbr2
		</bridge>
		<other_config/>
		<uuid>
			d08c8749-0c8f-9e8d-ce25-fd364661ee99
		</uuid>
	</network>
	<network ref="OpaqueRef:83e4a934-aeb5-e6f0-a743-d1c7ef7364c5">
		<PIFs>
			<PIF>
				OpaqueRef:e0955887-571f-17fc-a971-61c1ec7d81b6
			</PIF>
		</PIFs>
		<bridge>
			xenbr0
		</bridge>
		<other_config/>
		<uuid>
			c9eecb03-560d-61de-b6a8-56dfc766f67e
		</uuid>
	</network>
	<network ref="OpaqueRef:bf51b4d3-7bdc-ea55-ba21-539b150b0531">
		<PIFs>
			<PIF>
				OpaqueRef:eea8da94-a5e6-18fc-34a7-5e9b5a235806
			</PIF>
		</PIFs>
		<bridge>
			xenbr4
		</bridge>
		<other_config/>
		<uuid>
			d2c14c89-29cc-51d4-7664-633eff02b2ad
		</uuid>
	</network>
	<network ref="OpaqueRef:0b7354a4-8f4b-aa08-2f16-a22c117e4211">
		<PIFs/>
		<bridge>
			xapi0
		</bridge>
		<other_config/>
		<uuid>
			dc0f0632-c2aa-1b78-2fea-0d3a23c51740
		</uuid>
	</network>
	<network ref="OpaqueRef:240fb5f8-addc-6ea3-f921-2a42b42acd17">
		<PIFs>
			<PIF>
				OpaqueRef:8e3e37e6-ebb9-087e-0201-f6a56bf554c3
			</PIF>
		</PIFs>
		<bridge>
			xapi3
		</bridge>
		<other_config/>
		<uuid>
			db7bdc03-074d-42ae-fc73-9b06de1d57f6
		</uuid>
	</network>
</xenserver-network-configuration>
EOF


# Pretend that bond0 exists, even though it would really be created by
# a "create-bond" call in an ovs-vsctl invocation within
# interface-reconfigure, because otherwise interface-reconfigure will
# die with "failed to apply changes: netdev: up: device bond0 does not
# exist" after it thinks it created bond0.
{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:855: configure_netdev bond0 00:23:20:e6:39:75 0"
at_fn_check_prepare_trace "interface-reconfigure.at:855"
( $at_check_trace; configure_netdev bond0 00:23:20:e6:39:75 0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:855"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:857: ./interface-reconfigure --root-prefix=\$PWD --no-syslog --force xapi2 up"
at_fn_check_prepare_dynamic "./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi2 up" "interface-reconfigure.at:857"
( $at_check_trace; ./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi2 up
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:857"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:858: sed -n -e \"s,\$PWD,,g\" -e 's/ -- /\\
    /g' -e '/^Running command:/!p' stderr"
at_fn_check_prepare_notrace 'an embedded newline' "interface-reconfigure.at:858"
( $at_check_trace; sed -n -e "s,$PWD,,g" -e 's/ -- /\
    /g' -e '/^Running command:/!p' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "Force interface xapi2 up
Loading xapi database cache from /var/xapi/network.dbcache
Configured for Vswitch datapath
action_up: xapi2
Writing network configuration for xapi2
Configuring xapi2 using None configuration
configure_datapath: leaving bond bond0 up
configure_datapath: leaving bond bond0 up
configure_datapath: bridge      - xapi1
configure_datapath: physical    - [u'eth0', u'eth1']
configure_datapath: extra ports - []
configure_datapath: extra bonds - []
netdev: down: device xenbr0 does not exist, ignoring
netdev: down: device xenbr1 does not exist, ignoring
Applying changes to /etc/sysconfig/network-scripts/route-xapi2 configuration
Applying changes to /etc/sysconfig/network-scripts/ifcfg-xapi2 configuration
/sbin/ifconfig eth0 up mtu 1500
/sbin/ifconfig eth1 up mtu 1500
/usr/bin/ovs-vsctl --timeout=20
    --if-exists del-br xenbr0
    --if-exists del-br xenbr1
    --with-iface --if-exists del-port eth0
    --with-iface --if-exists del-port eth1
    --may-exist add-br xapi1
    --with-iface --if-exists del-port bond0
    --fake-iface add-bond xapi1 bond0 eth0 eth1
    set Port bond0 MAC=\"00:22:19:22:4b:af\" bond_downdelay=200 other-config:\"bond-miimon\"=100 other-config:\"bond-use_carrier\"=1 other-config:\"bond-mode\"=\"balance-slb\" bond_updelay=31000
    set Bridge xapi1 other-config:hwaddr=\"00:22:19:22:4b:af\"
    br-set-external-id xapi1 xs-network-uuids 45cbbb43-113d-a712-3231-c6463f253cef;99be2da4-6c33-6f8e-49ea-3bc592fe3c85
    --if-exists del-br xapi2
    --may-exist add-br xapi2 xapi1 4
    br-set-external-id xapi2 xs-network-uuids 45cbbb43-113d-a712-3231-c6463f253cef;99be2da4-6c33-6f8e-49ea-3bc592fe3c85
    set Interface xapi2 MAC=\"00:22:19:22:4b:af\"
/sbin/ifup xapi2
action_up: bring up bond0
/sbin/ifconfig bond0 up
/sbin/update-issue
Committing changes to /etc/sysconfig/network-scripts/route-xapi2 configuration
Committing changes to /etc/sysconfig/network-scripts/ifcfg-xapi2 configuration
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:858"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:899: cat etc/sysconfig/network-scripts/ifcfg-xapi2"
at_fn_check_prepare_trace "interface-reconfigure.at:899"
( $at_check_trace; cat etc/sysconfig/network-scripts/ifcfg-xapi2
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "# DO NOT EDIT: This file (ifcfg-xapi2) was autogenerated by interface-reconfigure
XEMANAGED=yes
DEVICE=xapi2
ONBOOT=no
TYPE=Ethernet
BOOTPROTO=none
MTU=1500
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:899"
$at_failed && at_fn_log_failure
$at_traceon; }


# Simulate interface-reconfigure creating xapi2, so that we can tell
# interface-reconfigure to take it back down.
{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:911: configure_netdev xapi2 00:23:20:A4:71:C2 0"
at_fn_check_prepare_trace "interface-reconfigure.at:911"
( $at_check_trace; configure_netdev xapi2 00:23:20:A4:71:C2 0
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:911"
$at_failed && at_fn_log_failure
$at_traceon; }


{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:913: ./interface-reconfigure --root-prefix=\$PWD --no-syslog --force xapi2 down"
at_fn_check_prepare_dynamic "./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi2 down" "interface-reconfigure.at:913"
( $at_check_trace; ./interface-reconfigure --root-prefix=$PWD --no-syslog --force xapi2 down
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
echo stderr:; tee stderr <"$at_stderr"
at_fn_diff_devnull "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:913"
$at_failed && at_fn_log_failure
$at_traceon; }

{ set +x
$as_echo "$at_srcdir/interface-reconfigure.at:914: sed -n -e \"s,\$PWD,,g\" -e 's/ -- /\\
    /g' -e '/^Running command:/!p' stderr"
at_fn_check_prepare_notrace 'an embedded newline' "interface-reconfigure.at:914"
( $at_check_trace; sed -n -e "s,$PWD,,g" -e 's/ -- /\
    /g' -e '/^Running command:/!p' stderr
) >>"$at_stdout" 2>>"$at_stderr"
at_status=$? at_failed=false
$at_check_filter
at_fn_diff_devnull "$at_stderr" || at_failed=:
echo >>"$at_stdout"; $as_echo "Force interface xapi2 down
Loading xapi database cache from /var/xapi/network.dbcache
Configured for Vswitch datapath
action_down: xapi2
/sbin/ifdown xapi2
deconfigure ipdev xapi2 on xapi1
deconfigure_bridge: bridge           - xapi2
action_down: no more masters, bring down slave xapi1
deconfigure_bridge: bridge           - xapi1
action_down: bring down physical devices - [u'eth0', u'eth1']
/sbin/ifconfig eth0 down
/sbin/ifconfig eth1 down
/usr/bin/ovs-vsctl --timeout=20
    --with-iface --if-exists del-port xapi2
    --if-exists del-br xapi2
    --if-exists del-br xapi1
" | \
  $at_diff - "$at_stdout" || at_failed=:
at_fn_check_status 0 $at_status "$at_srcdir/interface-reconfigure.at:914"
$at_failed && at_fn_log_failure
$at_traceon; }


  set +x
  $at_times_p && times >"$at_times_file"
) 5>&1 2>&1 7>&- | eval $at_tee_pipe
read at_status <"$at_status_file"
#AT_STOP_816
