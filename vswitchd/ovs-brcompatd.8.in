.TH ovs\-brcompatd 8 "March 2009" "Open vSwitch" "Open vSwitch Manual"
.ds PN ovs\-brcompatd
.
.SH NAME
ovs\-brcompatd \- Bridge compatibility front-end for ovs\-vswitchd
.
.SH SYNOPSIS
.B ovs\-brcompatd
[\fIoptions\fR] \fIdatabase\fR
.
.SH DESCRIPTION
A daemon that provides a legacy bridge front-end for \fBovs\-vswitchd\fR.  It 
does this by listening for bridge ioctl commands (e.g., those generated by 
the \fBbrctl\fR program) to add or remove datapaths and the interfaces 
that attach to them.  
.PP
The mandatory \fIdatabase\fR argument specifies the
\fBovsdb\-server\fR from which \fBovs\-vswitchd\fR's configuration is
retrieved.  It should take the form \fBunix:\fIfile\fR, to connect to
the Unix domain server socket named \fIfile\fR.
.PP
.SH OPTIONS
.IP "\fB\-\-appctl\-command=\fIcommand\fR"
Sets the command that \fBovs\-brcompatd\fR runs to communicate with
\fBovs\-vswitchd\fR.  The command is run in \fB/bin/sh\fR as a shell
command, so \fIcommand\fR may contain arbitrary shell metacharacters,
etc.  The \fB\-\-help\fR option displays the default command.
.IP
\fIcommand\fR must contain exactly one instance of \fB%s\fR, which
\fBovs\-brcompatd\fR replaces by a command from the set understood by
\fBovs\-vswitchd\fR.  Any instances of \fB%%\fR in \fIcommand\fR are
replaced by a single \fB%\fR.  The \fB%\fR character may not otherwise
appear in \fIcommand\fR.
.IP
The commands that are substituted into \fIcommand\fR are those that
can be listed by passing \fBhelp\fR to \fBovs\-appctl\fR with
\fBovs\-vswitchd\fR as target.
.IP
\fIcommand\fR must not redirect \fBovs\-appctl\fR's standard output or
standard error streams, because \fBovs\-brcompatd\fR expects to read
both of these streams separately.
.TP
\fB\-\-prune\-timeout=\fIsecs\fR
.
Sets the maximum time between pruning port entries to \fIsecs\fR seconds.
Pruning ports is the process of removing port entries from \fIdatabase\fR 
that no longer exist.  If \fIsecs\fR is zero, then entries are never
pruned.  The default prune timeout is 5 seconds.
.
.so lib/daemon.man
.so lib/vlog.man
.so lib/common.man
.so lib/leak-checker.man
.
.SH NOTES
\fBovs\-brcompatd\fR requires the \fBbrcompat_mod.ko\fR kernel module to be
loaded.
.SH "SEE ALSO"
.BR ovs\-appctl (8),
.BR ovs\-vswitchd (8),
.BR ovsdb\-server (1),
\fBINSTALL.bridge\fR in the Open vSwitch distribution.
